"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{2011:(pt,Te,F)=>{F.d(Te,{Dh:()=>fe,GT:()=>ae,cc:()=>ve,hO:()=>Oe,on:()=>G,pX:()=>de,xv:()=>me});var d=F(4650),$=F(9260),N=F(462);pt=F.hmd(pt);const ee=["ngOnDestroy"],de=(be,Ae,Me,xe={})=>new Proxy(be,{get:(Re,De)=>Me.runOutsideAngular(()=>{var Ge;if(be[De])return!(null===(Ge=xe?.spy)||void 0===Ge)&&Ge.get&&xe.spy.get(De,be[De]),be[De];if(ee.indexOf(De)>-1)return()=>{};const J=Ae.toPromise().then(se=>{const Ee=se&&se[De];return"function"==typeof Ee?Ee.bind(se):Ee&&Ee.then?Ee.then(Xe=>Me.run(()=>Xe)):Me.run(()=>Ee)});return new Proxy(()=>{},{get:(se,Ee)=>J[Ee],apply:(se,Ee,Xe)=>J.then(We=>{var Ct;const tt=We&&We(...Xe);return!(null===(Ct=xe?.spy)||void 0===Ct)&&Ct.apply&&xe.spy.apply(De,Xe,tt),tt})})})}),ae=(be,Ae)=>{Ae.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(xe=>{Object.defineProperty(be.prototype,xe,Object.getOwnPropertyDescriptor(Me.prototype||Me,xe))})})};class _e{constructor(Ae){return Ae}}const fe=new d.OlP("angularfire2.app.options"),me=new d.OlP("angularfire2.app.name");function G(be,Ae,Me){const Re="object"==typeof Me&&Me||{};Re.name=Re.name||"string"==typeof Me&&Me||"[DEFAULT]";const Ge=$.Z.apps.filter(J=>J&&J.name===Re.name)[0]||Ae.runOutsideAngular(()=>$.Z.initializeApp(be,Re));try{JSON.stringify(be)!==JSON.stringify(Ge.options)&&W("error",`${Ge.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(Ge)}const W=(be,...Ae)=>{(0,d.X6Q)()&&typeof console<"u"&&console[be](...Ae)},Q={provide:_e,useFactory:G,deps:[fe,d.R0b,[new d.FiY,me]]};let Oe=(()=>{class be{constructor(Me){$.Z.registerVersion("angularfire",N.q4.full,"core"),$.Z.registerVersion("angularfire",N.q4.full,"app-compat"),$.Z.registerVersion("angular",d.q4F.full,Me.toString())}static initializeApp(Me,xe){return{ngModule:be,providers:[{provide:fe,useValue:Me},{provide:me,useValue:xe}]}}}return be.\u0275fac=function(Me){return new(Me||be)(d.LFG(d.Lbi))},be.\u0275mod=d.oAB({type:be}),be.\u0275inj=d.cJS({providers:[Q]}),be})();function ve(be,Ae,Me,xe,Re){const[,De,Ge]=globalThis.\u0275AngularfireInstanceCache.find(J=>J[0]===be)||[];if(De)return function Be(be,Ae){try{return be.toString()===Ae.toString()}catch{return be===Ae}}(Re,Ge)||(ye("error",`${Ae} was already initialized on the ${Me} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:Re,was:Ge})),De;{const J=xe();return globalThis.\u0275AngularfireInstanceCache.push([be,J,Re]),J}}const nt=!!pt.hot,ye=(be,...Ae)=>{(0,d.X6Q)()&&typeof console<"u"&&console[be](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},462:(pt,Te,F)=>{F.d(Te,{q4:()=>Fo,iC:()=>Cs,HU:()=>ol,vb:()=>ff,JM:()=>md,nk:()=>mu,u3:()=>ul});var d=F(4650),$=F(259),N=F(5861),ee=F(9681),de=F(2090),ae=F(4859),_e=F(1877);F(2833);const me="@firebase/remote-config",G="0.4.4",ve=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Rn{constructor(O,Z,ue,Ne){this.client=O,this.storage=Z,this.storageCache=ue,this.logger=Ne}isCachedDataFresh(O,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ue=Date.now()-Z,Ne=ue<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ue}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Ne}.`),Ne}fetch(O){var Z=this;return(0,N.Z)(function*(){const[ue,Ne]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(Ne&&Z.isCachedDataFresh(O.cacheMaxAgeMillis,ue))return Ne;O.eTag=Ne&&Ne.eTag;const Je=yield Z.client.fetch(O),Tt=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Je.status&&Tt.push(Z.storage.setLastSuccessfulFetchResponse(Je)),yield Promise.all(Tt),Je})()}}function ui(L=navigator){return L.languages&&L.languages[0]||L.language}class re{constructor(O,Z,ue,Ne,Je,Tt){this.firebaseInstallations=O,this.sdkVersion=Z,this.namespace=ue,this.projectId=Ne,this.apiKey=Je,this.appId=Tt}fetch(O){var Z=this;return(0,N.Z)(function*(){const[ue,Ne]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),Tt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,gn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},dn={sdk_version:Z.sdkVersion,app_instance_id:ue,app_instance_id_token:Ne,app_id:Z.appId,language_code:ui()},Un={method:"POST",headers:gn,body:JSON.stringify(dn)},yn=fetch(Tt,Un),on=new Promise((Ri,qi)=>{O.signal.addEventListener(()=>{const _u=new Error("The operation was aborted.");_u.name="AbortError",qi(_u)})});let Nr;try{yield Promise.race([yn,on]),Nr=yield yn}catch(Ri){let qi="fetch-client-network";throw"AbortError"===Ri?.name&&(qi="fetch-timeout"),ve.create(qi,{originalErrorMessage:Ri?.message})}let as=Nr.status;const Is=Nr.headers.get("ETag")||void 0;let Ft,js;if(200===Nr.status){let Ri;try{Ri=yield Nr.json()}catch(qi){throw ve.create("fetch-client-parse",{originalErrorMessage:qi?.message})}Ft=Ri.entries,js=Ri.state}if("INSTANCE_STATE_UNSPECIFIED"===js?as=500:"NO_CHANGE"===js?as=304:("NO_TEMPLATE"===js||"EMPTY_CONFIG"===js)&&(Ft={}),304!==as&&200!==as)throw ve.create("fetch-status",{httpStatus:as});return{status:as,eTag:Is,config:Ft}})()}}class ie{constructor(O,Z){this.client=O,this.storage=Z}fetch(O){var Z=this;return(0,N.Z)(function*(){const ue=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(O,ue)})()}attemptFetch(O,{throttleEndTimeMillis:Z,backoffCount:ue}){var Ne=this;return(0,N.Z)(function*(){yield function oe(L,O){return new Promise((Z,ue)=>{const Ne=Math.max(O-Date.now(),0),Je=setTimeout(Z,Ne);L.addEventListener(()=>{clearTimeout(Je),ue(ve.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,Z);try{const Je=yield Ne.client.fetch(O);return yield Ne.storage.deleteThrottleMetadata(),Je}catch(Je){if(!function le(L){if(!(L instanceof de.ZR&&L.customData))return!1;const O=Number(L.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Je))throw Je;const Tt={throttleEndTimeMillis:Date.now()+(0,de.$s)(ue),backoffCount:ue+1};return yield Ne.storage.setThrottleMetadata(Tt),Ne.attemptFetch(O,Tt)}})()}}class Ze{constructor(O,Z,ue,Ne,Je){this.app=O,this._client=Z,this._storageCache=ue,this._storage=Ne,this._logger=Je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function je(L,O){const Z=L.target.error||void 0;return ve.create(O,{originalErrorMessage:Z&&Z?.message})}const en="app_namespace_store";class Kt{constructor(O,Z,ue,Ne=function zt(){return new Promise((L,O)=>{try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=ue=>{O(je(ue,"storage-open"))},Z.onsuccess=ue=>{L(ue.target.result)},Z.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(en,{keyPath:"compositeKey"})}}catch(Z){O(ve.create("storage-open",{originalErrorMessage:Z?.message}))}})}()){this.appId=O,this.appName=Z,this.namespace=ue,this.openDbPromise=Ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var Z=this;return(0,N.Z)(function*(){const ue=yield Z.openDbPromise;return new Promise((Ne,Je)=>{const gn=ue.transaction([en],"readonly").objectStore(en),dn=Z.createCompositeKey(O);try{const Un=gn.get(dn);Un.onerror=yn=>{Je(je(yn,"storage-get"))},Un.onsuccess=yn=>{const on=yn.target.result;Ne(on?on.value:void 0)}}catch(Un){Je(ve.create("storage-get",{originalErrorMessage:Un?.message}))}})})()}set(O,Z){var ue=this;return(0,N.Z)(function*(){const Ne=yield ue.openDbPromise;return new Promise((Je,Tt)=>{const dn=Ne.transaction([en],"readwrite").objectStore(en),Un=ue.createCompositeKey(O);try{const yn=dn.put({compositeKey:Un,value:Z});yn.onerror=on=>{Tt(je(on,"storage-set"))},yn.onsuccess=()=>{Je()}}catch(yn){Tt(ve.create("storage-set",{originalErrorMessage:yn?.message}))}})})()}delete(O){var Z=this;return(0,N.Z)(function*(){const ue=yield Z.openDbPromise;return new Promise((Ne,Je)=>{const gn=ue.transaction([en],"readwrite").objectStore(en),dn=Z.createCompositeKey(O);try{const Un=gn.delete(dn);Un.onerror=yn=>{Je(je(yn,"storage-delete"))},Un.onsuccess=()=>{Ne()}}catch(Un){Je(ve.create("storage-delete",{originalErrorMessage:Un?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class Pn{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,N.Z)(function*(){const Z=O.storage.getLastFetchStatus(),ue=O.storage.getLastSuccessfulFetchTimestampMillis(),Ne=O.storage.getActiveConfig(),Je=yield Z;Je&&(O.lastFetchStatus=Je);const Tt=yield ue;Tt&&(O.lastSuccessfulFetchTimestampMillis=Tt);const gn=yield Ne;gn&&(O.activeConfig=gn)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function $n(){return pn.apply(this,arguments)}function pn(){return(pn=(0,N.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function In(){(0,ee._registerComponent)(new ae.wA("remote-config",function L(O,{instanceIdentifier:Z}){const ue=O.getProvider("app").getImmediate(),Ne=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ve.create("registration-window");if(!(0,de.hl)())throw ve.create("indexed-db-unavailable");const{projectId:Je,apiKey:Tt,appId:gn}=ue.options;if(!Je)throw ve.create("registration-project-id");if(!Tt)throw ve.create("registration-api-key");if(!gn)throw ve.create("registration-app-id");const dn=new Kt(gn,ue.name,Z=Z||"firebase"),Un=new Pn(dn),yn=new _e.Yd(me);yn.logLevel=_e.in.ERROR;const on=new re(Ne,ee.SDK_VERSION,Z,Je,Tt,gn),Nr=new ie(on,dn),as=new Rn(Nr,dn,Un,yn),Is=new Ze(ue,as,Un,dn,yn);return function Ge(L){const O=(0,de.m9)(L);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(Is),Is},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(me,G),(0,ee.registerVersion)(me,G,"esm2017")}();var bn=F(8766);const ot="/firebase-messaging-sw.js",Jn="/firebase-cloud-messaging-push-scope",ur="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wn="https://fcmregistrations.googleapis.com/v1",qn="google.c.a.c_id",Hn="google.c.a.c_l",bt="google.c.a.ts",ft="google.c.a.e";var hn=(()=>{return(L=hn||(hn={})).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",hn;var L})();function ln(L){const O=new Uint8Array(L);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _n(L){const Z=(L+"=".repeat((4-L.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ue=atob(Z),Ne=new Uint8Array(ue.length);for(let Je=0;Je<ue.length;++Je)Ne[Je]=ue.charCodeAt(Je);return Ne}const zn="fcm_token_details_db",Xn=5,Sr="fcm_token_object_Store";function _r(){return _r=(0,N.Z)(function*(L){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Je=>Je.name).includes(zn))return null;let O=null;return(yield(0,bn.X3)(zn,Xn,{upgrade:(ue=(0,N.Z)(function*(Ne,Je,Tt,gn){var dn;if(Je<2||!Ne.objectStoreNames.contains(Sr))return;const Un=gn.objectStore(Sr),yn=yield Un.index("fcmSenderId").get(L);if(yield Un.clear(),yn)if(2===Je){const on=yn;if(!on.auth||!on.p256dh||!on.endpoint)return;O={token:on.fcmToken,createTime:null!==(dn=on.createTime)&&void 0!==dn?dn:Date.now(),subscriptionOptions:{auth:on.auth,p256dh:on.p256dh,endpoint:on.endpoint,swScope:on.swScope,vapidKey:"string"==typeof on.vapidKey?on.vapidKey:ln(on.vapidKey)}}}else if(3===Je){const on=yn;O={token:on.fcmToken,createTime:on.createTime,subscriptionOptions:{auth:ln(on.auth),p256dh:ln(on.p256dh),endpoint:on.endpoint,swScope:on.swScope,vapidKey:ln(on.vapidKey)}}}else if(4===Je){const on=yn;O={token:on.fcmToken,createTime:on.createTime,subscriptionOptions:{auth:ln(on.auth),p256dh:ln(on.p256dh),endpoint:on.endpoint,swScope:on.swScope,vapidKey:ln(on.vapidKey)}}}}),function(Je,Tt,gn,dn){return ue.apply(this,arguments)})})).close(),yield(0,bn.Lj)(zn),yield(0,bn.Lj)("fcm_vapid_details_db"),yield(0,bn.Lj)("undefined"),function Vt(L){if(!L||!L.subscriptionOptions)return!1;const{subscriptionOptions:O}=L;return"number"==typeof L.createTime&&L.createTime>0&&"string"==typeof L.token&&L.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}(O)?O:null;var ue}),_r.apply(this,arguments)}const yr="firebase-messaging-database",Ln=1,Ve="firebase-messaging-store";let Ie=null;function rt(){return Ie||(Ie=(0,bn.X3)(yr,Ln,{upgrade:(L,O)=>{0===O&&L.createObjectStore(Ve)}})),Ie}function yt(L){return At.apply(this,arguments)}function At(){return At=(0,N.Z)(function*(L){const O=P(L),ue=yield(yield rt()).transaction(Ve).objectStore(Ve).get(O);if(ue)return ue;{const Ne=yield function Rt(L){return _r.apply(this,arguments)}(L.appConfig.senderId);if(Ne)return yield Gt(L,Ne),Ne}}),At.apply(this,arguments)}function Gt(L,O){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,N.Z)(function*(L,O){const Z=P(L),Ne=(yield rt()).transaction(Ve,"readwrite");return yield Ne.objectStore(Ve).put(O,Z),yield Ne.done,O})).apply(this,arguments)}function H(){return(H=(0,N.Z)(function*(L){const O=P(L),ue=(yield rt()).transaction(Ve,"readwrite");yield ue.objectStore(Ve).delete(O),yield ue.done})).apply(this,arguments)}function P({appConfig:L}){return L.appId}const D=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function j(L,O){return K.apply(this,arguments)}function K(){return(K=(0,N.Z)(function*(L,O){const Z=yield kt(L),ue=Dn(O),Ne={method:"POST",headers:Z,body:JSON.stringify(ue)};let Je;try{Je=yield(yield fetch(et(L.appConfig),Ne)).json()}catch(Tt){throw D.create("token-subscribe-failed",{errorInfo:Tt?.toString()})}if(Je.error)throw D.create("token-subscribe-failed",{errorInfo:Je.error.message});if(!Je.token)throw D.create("token-subscribe-no-token");return Je.token})).apply(this,arguments)}function $e(){return($e=(0,N.Z)(function*(L,O){const Z=yield kt(L),ue=Dn(O.subscriptionOptions),Ne={method:"PATCH",headers:Z,body:JSON.stringify(ue)};let Je;try{Je=yield(yield fetch(`${et(L.appConfig)}/${O.token}`,Ne)).json()}catch(Tt){throw D.create("token-update-failed",{errorInfo:Tt?.toString()})}if(Je.error)throw D.create("token-update-failed",{errorInfo:Je.error.message});if(!Je.token)throw D.create("token-update-no-token");return Je.token})).apply(this,arguments)}function Ye(L,O){return dt.apply(this,arguments)}function dt(){return(dt=(0,N.Z)(function*(L,O){const ue={method:"DELETE",headers:yield kt(L)};try{const Je=yield(yield fetch(`${et(L.appConfig)}/${O}`,ue)).json();if(Je.error)throw D.create("token-unsubscribe-failed",{errorInfo:Je.error.message})}catch(Ne){throw D.create("token-unsubscribe-failed",{errorInfo:Ne?.toString()})}})).apply(this,arguments)}function et({projectId:L}){return`${Wn}/projects/${L}/registrations`}function kt(L){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,N.Z)(function*({appConfig:L,installations:O}){const Z=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function Dn({p256dh:L,auth:O,endpoint:Z,vapidKey:ue}){const Ne={web:{endpoint:Z,auth:O,p256dh:L}};return ue!==ur&&(Ne.web.applicationPubKey=ue),Ne}const mi=6048e5;function Po(){return Po=(0,N.Z)(function*(L){const O=yield function Zt(L,O){return $t.apply(this,arguments)}(L.swRegistration,L.vapidKey),Z={vapidKey:L.vapidKey,swScope:L.swRegistration.scope,endpoint:O.endpoint,auth:ln(O.getKey("auth")),p256dh:ln(O.getKey("p256dh"))},ue=yield yt(L.firebaseDependencies);if(ue){if(function On(L,O){return O.vapidKey===L.vapidKey&&O.endpoint===L.endpoint&&O.auth===L.auth&&O.p256dh===L.p256dh}(ue.subscriptionOptions,Z))return Date.now()>=ue.createTime+mi?function X(L,O){return we.apply(this,arguments)}(L,{token:ue.token,createTime:Date.now(),subscriptionOptions:Z}):ue.token;try{yield Ye(L.firebaseDependencies,ue.token)}catch(Ne){console.warn(Ne)}return He(L.firebaseDependencies,Z)}return He(L.firebaseDependencies,Z)}),Po.apply(this,arguments)}function ar(){return ar=(0,N.Z)(function*(L){const O=yield yt(L.firebaseDependencies);O&&(yield Ye(L.firebaseDependencies,O.token),yield function z(L){return H.apply(this,arguments)}(L.firebaseDependencies));const Z=yield L.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()}),ar.apply(this,arguments)}function we(){return we=(0,N.Z)(function*(L,O){try{const Z=yield function ge(L,O){return $e.apply(this,arguments)}(L.firebaseDependencies,O),ue=Object.assign(Object.assign({},O),{token:Z,createTime:Date.now()});return yield Gt(L.firebaseDependencies,ue),Z}catch(Z){throw yield function ao(L){return ar.apply(this,arguments)}(L),Z}}),we.apply(this,arguments)}function He(L,O){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,N.Z)(function*(L,O){const ue={token:yield j(L,O),createTime:Date.now(),subscriptionOptions:O};return yield Gt(L,ue),ue.token})).apply(this,arguments)}function $t(){return($t=(0,N.Z)(function*(L,O){return(yield L.pushManager.getSubscription())||L.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_n(O)})})).apply(this,arguments)}function En(L){const O={from:L.from,collapseKey:L.collapse_key,messageId:L.fcmMessageId};return function Ai(L,O){if(!O.notification)return;L.notification={};const Z=O.notification.title;Z&&(L.notification.title=Z);const ue=O.notification.body;ue&&(L.notification.body=ue);const Ne=O.notification.image;Ne&&(L.notification.image=Ne);const Je=O.notification.icon;Je&&(L.notification.icon=Je)}(O,L),function Pr(L,O){O.data&&(L.data=O.data)}(O,L),function ji(L,O){var Z,ue,Ne,Je,Tt;if(!(O.fcmOptions||null!==(Z=O.notification)&&void 0!==Z&&Z.click_action))return;L.fcmOptions={};const gn=null!==(Ne=null===(ue=O.fcmOptions)||void 0===ue?void 0:ue.link)&&void 0!==Ne?Ne:null===(Je=O.notification)||void 0===Je?void 0:Je.click_action;gn&&(L.fcmOptions.link=gn);const dn=null===(Tt=O.fcmOptions)||void 0===Tt?void 0:Tt.analytics_label;dn&&(L.fcmOptions.analyticsLabel=dn)}(O,L),O}function it(L,O){const Z=[];for(let ue=0;ue<L.length;ue++)Z.push(L.charAt(ue)),ue<O.length&&Z.push(O.charAt(ue));return Z.join("")}function xn(L){return D.create("missing-app-config-values",{valueName:L})}it("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),it("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gr{constructor(O,Z,ue){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ne=function Yt(L){if(!L||!L.options)throw xn("App Configuration Object");if(!L.name)throw xn("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=L;for(const ue of O)if(!Z[ue])throw xn(ue);return{appName:L.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Ne,installations:Z,analyticsProvider:ue}}_delete(){return Promise.resolve()}}function Hi(L){return sr.apply(this,arguments)}function sr(){return(sr=(0,N.Z)(function*(L){try{L.swRegistration=yield navigator.serviceWorker.register(ot,{scope:Jn}),L.swRegistration.update().catch(()=>{})}catch(O){throw D.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function Kn(){return(Kn=(0,N.Z)(function*(L,O){if(!O&&!L.swRegistration&&(yield Hi(L)),O||!L.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw D.create("invalid-sw-registration");L.swRegistration=O}})).apply(this,arguments)}function lo(){return(lo=(0,N.Z)(function*(L,O){O?L.vapidKey=O:L.vapidKey||(L.vapidKey=ur)})).apply(this,arguments)}function Ls(){return Ls=(0,N.Z)(function*(L,O){if(!navigator)throw D.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw D.create("permission-blocked");return yield function ss(L,O){return lo.apply(this,arguments)}(L,O?.vapidKey),yield function is(L,O){return Kn.apply(this,arguments)}(L,O?.serviceWorkerRegistration),function zr(L){return Po.apply(this,arguments)}(L)}),Ls.apply(this,arguments)}function pa(){return(pa=(0,N.Z)(function*(L,O,Z){const ue=function _s(L){switch(L){case hn.NOTIFICATION_CLICKED:return"notification_open";case hn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(O);(yield L.firebaseDependencies.analyticsProvider.get()).logEvent(ue,{message_id:Z[qn],message_name:Z[Hn],message_time:Z[bt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zi(){return zi=(0,N.Z)(function*(L,O){const Z=O.data;if(!Z.isFirebaseMessaging)return;L.onMessageHandler&&Z.messageType===hn.PUSH_RECEIVED&&("function"==typeof L.onMessageHandler?L.onMessageHandler(En(Z)):L.onMessageHandler.next(En(Z)));const ue=Z.data;(function $i(L){return"object"==typeof L&&!!L&&qn in L})(ue)&&"1"===ue[ft]&&(yield function os(L,O,Z){return pa.apply(this,arguments)}(L,Z.messageType,ue))}),zi.apply(this,arguments)}const Gi="@firebase/messaging",uo=L=>{const O=new Gr(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),L.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function Wr(L,O){return zi.apply(this,arguments)}(O,Z)),O},ld=L=>{const O=L.getProvider("messaging").getImmediate();return{getToken:ue=>function Ut(L,O){return Ls.apply(this,arguments)}(O,ue)}};function ud(){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,N.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bt(){(0,ee._registerComponent)(new ae.wA("messaging",uo,"PUBLIC")),(0,ee._registerComponent)(new ae.wA("messaging-internal",ld,"PRIVATE")),(0,ee.registerVersion)(Gi,"0.12.4"),(0,ee.registerVersion)(Gi,"0.12.4","esm2017")}();var tl=F(3008),Oo=F(4408),Wi=F(7565);const ws=new class nl extends Wi.v{}(class vs extends Oo.o{constructor(O,Z){super(O,Z),this.scheduler=O,this.work=Z}schedule(O,Z=0){return Z>0?super.schedule(O,Z):(this.delay=Z,this.state=O,this.scheduler.flush(this),this)}execute(O,Z){return Z>0||this.closed?super.execute(O,Z):this._execute(O,Z)}requestAsyncId(O,Z,ue=0){return null!=ue&&ue>0||null==ue&&this.delay>0?super.requestAsyncId(O,Z,ue):(O.flush(this),0)}});var ko=F(4986),cd=F(9751),dd=F(8505),hd=F(9468),fd=F(5363);const Fo=new d.GfV("7.5.0"),ma="__angularfire_symbol__analyticsIsSupportedValue",Bs="__angularfire_symbol__analyticsIsSupported",pd="__angularfire_symbol__remoteConfigIsSupportedValue",gu="__angularfire_symbol__remoteConfigIsSupported",ci="__angularfire_symbol__messagingIsSupportedValue",ti="__angularfire_symbol__messagingIsSupported";globalThis[Bs]||(globalThis[Bs]=(0,tl.Gb)().then(L=>globalThis[ma]=L).catch(()=>globalThis[ma]=!1)),globalThis[ti]||(globalThis[ti]=ud().then(L=>globalThis[ci]=L).catch(()=>globalThis[ci]=!1)),globalThis[gu]||(globalThis[gu]=$n().then(L=>globalThis[pd]=L).catch(()=>globalThis[pd]=!1));const mu={async:()=>globalThis[Bs],sync:()=>{const L=globalThis[ma];if(void 0===L)throw new Error((L=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${L} in the constructor, first ensure that ${L} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${L})\`.`)("Analytics"));return L}};function md(L,O,Z){if(O){if(1===O.length)return O[0];const Je=O.filter(Tt=>Tt.app===Z);if(1===Je.length)return Je[0]}return Z.container.getProvider(L).getImmediate({optional:!0})}const ff=(L,O)=>{const Z=O?[O]:(0,$.C6)(),ue=[];return Z.forEach(Ne=>{Ne.container.getProvider(L).instances.forEach(Tt=>{ue.includes(Tt)||ue.push(Tt)})}),ue};function Mi(){}class sl{constructor(O,Z=ws){this.zone=O,this.delegate=Z}now(){return this.delegate.now()}schedule(O,Z,ue){const Ne=this.zone;return this.delegate.schedule(function(Tt){Ne.runGuarded(()=>{O.apply(this,[Tt])})},Z,ue)}}class _a{constructor(O){this.zone=O,this.task=null}call(O,Z){const ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mi,{},Mi,Mi)),Z.pipe((0,dd.b)({next:ue,complete:ue,error:ue})).subscribe(O).add(ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ol=(()=>{class L{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new sl(Zone.current)),this.insideAngular=Z.run(()=>new sl(Zone.current,ko.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(Z){return new(Z||L)(d.LFG(d.R0b))},L.\u0275prov=d.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function xi(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function Es(L){return xi().ngZone.run(()=>L())}function Cs(L){return xi(),function ll(L){return function(Z){return(Z=Z.lift(new _a(L.ngZone))).pipe((0,hd.R)(L.outsideAngular),(0,fd.Q)(L.insideAngular))}}(xi())(L)}const ni=(L,O)=>function(){const ue=arguments;return O&&setTimeout(()=>{"scheduled"===O.state&&O.invoke()},10),Es(()=>L.apply(void 0,ue))},ul=(L,O)=>function(){let Z;const ue=arguments;for(let Je=0;Je<arguments.length;Je++)"function"==typeof ue[Je]&&(O&&(Z||(Z=Es(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mi,{},Mi,Mi)))),ue[Je]=ni(ue[Je],Z));const Ne=function al(L){return xi().ngZone.runOutsideAngular(()=>L())}(()=>L.apply(this,ue));if(!O){if(Ne instanceof cd.y){const Je=xi();return Ne.pipe((0,hd.R)(Je.outsideAngular),(0,fd.Q)(Je.insideAngular))}return Es(()=>Ne)}return Ne instanceof cd.y?Ne.pipe(Cs):Ne instanceof Promise?Es(()=>new Promise((Je,Tt)=>Ne.then(gn=>Es(()=>Je(gn)),gn=>Es(()=>Tt(gn))))):"function"==typeof Ne&&Z?function(){return setTimeout(()=>{Z&&"scheduled"===Z.state&&Z.invoke()},10),Ne.apply(this,arguments)}:Es(()=>Ne)}},3432:(pt,Te,F)=>{F.d(Te,{$:()=>ul,A:()=>W,C:()=>ve,H:()=>we,I:()=>On,K:()=>Bt,M:()=>Vn,N:()=>nl,P:()=>Nf,Q:()=>cd,R:()=>Bm,U:()=>dd,V:()=>hd,W:()=>ko,X:()=>Bs,Y:()=>pd,Z:()=>gd,_:()=>ll,a:()=>xt,a0:()=>O,a1:()=>Je,a2:()=>on,a3:()=>as,a4:()=>Ft,a5:()=>Ri,a6:()=>_u,a7:()=>bm,a8:()=>cr,a9:()=>ke,aA:()=>$f,aB:()=>We,aC:()=>z,aD:()=>xd,aE:()=>Cl,aF:()=>Vf,aG:()=>ar,aK:()=>Zi,aN:()=>Fo,aa:()=>Dm,ab:()=>Tm,ac:()=>$s,ad:()=>gf,ae:()=>k0,ah:()=>Am,ai:()=>bs,aj:()=>mf,am:()=>Mi,an:()=>wf,ap:()=>U0,aq:()=>dr,ar:()=>Ee,as:()=>dt,at:()=>ge,au:()=>Me,av:()=>Bd,aw:()=>Pd,ax:()=>et,ay:()=>xe,az:()=>J,b:()=>er,c:()=>Ir,d:()=>Du,e:()=>G0,f:()=>Uf,g:()=>Hm,h:()=>Bf,i:()=>Id,j:()=>bl,k:()=>Al,l:()=>oD,m:()=>Qf,o:()=>qd,p:()=>fe,r:()=>wl,s:()=>z0,u:()=>aD,w:()=>Nm});var d=F(5861),$=F(2090),N=F(9681),ee=F(1877),de=F(7582),ae=F(4859);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ve=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new ee.Yd("@firebase/auth");function Ae(w,...g){be.logLevel<=ee.in.ERROR&&be.error(`Auth (${N.SDK_VERSION}): ${w}`,...g)}function Me(w,...g){throw Ge(w,...g)}function xe(w,...g){return Ge(w,...g)}function Re(w,g,_){const E=Object.assign(Object.assign({},Be()),{[g]:_});return new $.LL("auth","Firebase",E).create(g,{appName:w.name})}function De(w,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Me(w,"argument-error"),Re(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(w,...g){if("string"!=typeof w){const _=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(_,...E)}return nt.create(w,...g)}function J(w,g,..._){if(!w)throw Ge(g,..._)}function se(w){const g="INTERNAL ASSERTION FAILED: "+w;throw Ae(g),new Error(g)}function Ee(w,g){w||se(g)}const Xe=new Map;function We(w){Ee(w instanceof Function,"Expected a class definition");let g=Xe.get(w);return g?(Ee(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,Xe.set(w,g),g)}function mn(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function jn(){return"http:"===Rn()||"https:"===Rn()}function Rn(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class oe{constructor(g,_){this.shortDelay=g,this.longDelay=_,Ee(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function ui(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(jn()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function le(w,g){Ee(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class ie{static initialize(g,_,E){this.fetchImpl=g,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ze={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Le=new oe(3e4,6e4);function Ze(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function je(w,g,_,E){return en.apply(this,arguments)}function en(){return(en=(0,d.Z)(function*(w,g,_,E,M={}){return _t(w,M,(0,d.Z)(function*(){let k={},te={};E&&("GET"===g?te=E:k={body:JSON.stringify(E)});const Pe=(0,$.xO)(Object.assign({key:w.config.apiKey},te)).slice(1),at=yield w._getAdditionalHeaders();return at["Content-Type"]="application/json",w.languageCode&&(at["X-Firebase-Locale"]=w.languageCode),ie.fetch()(Pn(w,w.config.apiHost,_,Pe),Object.assign({method:g,headers:at,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function _t(w,g,_){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,d.Z)(function*(w,g,_){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},ze),g);try{const M=new In(w),k=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const te=yield k.json();if("needConfirmation"in te)throw vn(w,"account-exists-with-different-credential",te);if(k.ok&&!("errorMessage"in te))return te;{const Pe=k.ok?te.errorMessage:te.error.message,[at,vt]=Pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw vn(w,"credential-already-in-use",te);if("EMAIL_EXISTS"===at)throw vn(w,"email-already-in-use",te);if("USER_DISABLED"===at)throw vn(w,"user-disabled",te);const Xt=E[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(vt)throw Re(w,Xt,vt);Me(w,Xt)}}catch(M){if(M instanceof $.ZR)throw M;Me(w,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function zt(w,g,_,E){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,d.Z)(function*(w,g,_,E,M={}){const k=yield je(w,g,_,E,M);return"mfaPendingCredential"in k&&Me(w,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Pn(w,g,_,E){const M=`${g}${_}?${E}`;return w.config.emulator?le(w.config,M):`${w.config.apiScheme}://${M}`}class In{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(xe(this.auth,"network-request-failed")),Le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vn(w,g,_){const E={appName:w.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const M=xe(w,g,E);return M.customData._tokenResponse=_,M}function $n(){return($n=(0,d.Z)(function*(w,g){return je(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function bn(){return(bn=(0,d.Z)(function*(w,g){return je(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(w,g){return je(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ur(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Hn(){return(Hn=(0,d.Z)(function*(w,g=!1){const _=(0,$.m9)(w),E=yield _.getIdToken(g),M=ft(E);J(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const k="object"==typeof M.firebase?M.firebase:void 0,te=k?.sign_in_provider;return{claims:M,token:E,authTime:ur(bt(M.auth_time)),issuedAtTime:ur(bt(M.iat)),expirationTime:ur(bt(M.exp)),signInProvider:te||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function bt(w){return 1e3*Number(w)}function ft(w){const[g,_,E]=w.split(".");if(void 0===g||void 0===_||void 0===E)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,$.tV)(_);return M?JSON.parse(M):(Ae("Failed to decode base64 JWT payload"),null)}catch(M){return Ae("Caught error parsing JWT payload as JSON",M?.toString()),null}}function hn(w,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(w,g,_=!1){if(_)return g;try{return yield g}catch(E){throw E instanceof $.ZR&&function _n({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}class zn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),E)}iteration(){var g=this;return(0,d.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Xn{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sr(w){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,d.Z)(function*(w){var g;const _=w.auth,E=yield w.getIdToken(),M=yield hn(w,function ot(w,g){return Jn.apply(this,arguments)}(_,{idToken:E}));J(M?.users.length,_,"internal-error");const k=M.users[0];w._notifyReloadListener(k);const te=null!==(g=k.providerUserInfo)&&void 0!==g&&g.length?function Ln(w){return w.map(g=>{var{providerId:_}=g,E=(0,de._T)(g,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(k.providerUserInfo):[],Pe=function yr(w,g){return[...w.filter(E=>!g.some(M=>M.providerId===E.providerId)),...g]}(w.providerData,te),Xt=!!w.isAnonymous&&!(w.email&&k.passwordHash||Pe?.length),tr={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Pe,metadata:new Xn(k.createdAt,k.lastLoginAt),isAnonymous:Xt};Object.assign(w,tr)}),Rt.apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(w){const g=(0,$.m9)(w);yield Sr(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ie(){return(Ie=(0,d.Z)(function*(w,g){const _=yield _t(w,{},(0,d.Z)(function*(){const E=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:k}=w.config,te=Pn(w,M,"/v1/token",`key=${k}`),Pe=yield w._getAdditionalHeaders();return Pe["Content-Type"]="application/x-www-form-urlencoded",ie.fetch()(te,{method:"POST",headers:Pe,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){J(g.idToken,"internal-error"),J(typeof g.idToken<"u","internal-error"),J(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Et(w){const g=ft(w);return J(g,"internal-error"),J(typeof g.exp<"u","internal-error"),J(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var E=this;return(0,d.Z)(function*(){return J(!E.accessToken||E.refreshToken,g,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var E=this;return(0,d.Z)(function*(){const{accessToken:M,refreshToken:k,expiresIn:te}=yield function Ve(w,g){return Ie.apply(this,arguments)}(g,_);E.updateTokensAndExpiration(M,k,Number(te))})()}updateTokensAndExpiration(g,_,E){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,_){const{refreshToken:E,accessToken:M,expirationTime:k}=_,te=new rt;return E&&(J("string"==typeof E,"internal-error",{appName:g}),te.refreshToken=E),M&&(J("string"==typeof M,"internal-error",{appName:g}),te.accessToken=M),k&&(J("number"==typeof k,"internal-error",{appName:g}),te.expirationTime=k),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return se("not implemented")}}function yt(w,g){J("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class At{constructor(g){var{uid:_,auth:E,stsTokenManager:M}=g,k=(0,de._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Xn(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,d.Z)(function*(){const E=yield hn(_,_.stsTokenManager.getToken(_.auth,g));return J(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(g){return function qn(w){return Hn.apply(this,arguments)}(this,g)}reload(){return function _r(w){return Vt.apply(this,arguments)}(this)}_assign(g){this!==g&&(J(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new At(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var E=this;return(0,d.Z)(function*(){let M=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),M=!0),_&&(yield Sr(E)),yield E.auth._persistUserIfCurrent(E),M&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,d.Z)(function*(){const _=yield g.getIdToken();return yield hn(g,function wn(w,g){return $n.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var E,M,k,te,Pe,at,vt,Xt;const tr=null!==(E=_.displayName)&&void 0!==E?E:void 0,vi=null!==(M=_.email)&&void 0!==M?M:void 0,Gs=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,Ou=null!==(te=_.photoURL)&&void 0!==te?te:void 0,Kd=null!==(Pe=_.tenantId)&&void 0!==Pe?Pe:void 0,Zd=null!==(at=_._redirectEventId)&&void 0!==at?at:void 0,Jf=null!==(vt=_.createdAt)&&void 0!==vt?vt:void 0,Xf=null!==(Xt=_.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:Rl,emailVerified:Nu,isAnonymous:ep,providerData:xa,stsTokenManager:Jm}=_;J(Rl&&Jm,g,"internal-error");const Xm=rt.fromJSON(this.name,Jm);J("string"==typeof Rl,g,"internal-error"),yt(tr,g.name),yt(vi,g.name),J("boolean"==typeof Nu,g,"internal-error"),J("boolean"==typeof ep,g,"internal-error"),yt(Gs,g.name),yt(Ou,g.name),yt(Kd,g.name),yt(Zd,g.name),yt(Jf,g.name),yt(Xf,g.name);const ku=new At({uid:Rl,auth:g,email:vi,emailVerified:Nu,displayName:tr,isAnonymous:ep,photoURL:Ou,phoneNumber:Gs,tenantId:Kd,stsTokenManager:Xm,createdAt:Jf,lastLoginAt:Xf});return xa&&Array.isArray(xa)&&(ku.providerData=xa.map(tp=>Object.assign({},tp))),Zd&&(ku._redirectEventId=Zd),ku}static _fromIdTokenResponse(g,_,E=!1){return(0,d.Z)(function*(){const M=new rt;M.updateFromServerResponse(_);const k=new At({uid:_.localId,auth:g,stsTokenManager:M,isAnonymous:E});return yield Sr(k),k})()}}const Vn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,E){var M=this;return(0,d.Z)(function*(){M.storage[_]=E})()}_get(_){var E=this;return(0,d.Z)(function*(){const M=E.storage[_];return void 0===M?null:M})()}_remove(_){var E=this;return(0,d.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return w.type="NONE",w})();function z(w,g,_){return`firebase:${w}:${g}:${_}`}class H{constructor(g,_,E){this.persistence=g,this.auth=_,this.userKey=E;const{config:M,name:k}=this.auth;this.fullUserKey=z(this.userKey,M.apiKey,k),this.fullPersistenceKey=z("persistence",M.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?At._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,d.Z)(function*(){if(_.persistence===g)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,E="authUser"){return(0,d.Z)(function*(){if(!_.length)return new H(We(Vn),g,E);const M=(yield Promise.all(_.map(function(){var vt=(0,d.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return vt.apply(this,arguments)}}()))).filter(vt=>vt);let k=M[0]||We(Vn);const te=z(E,g.config.apiKey,g.name);let Pe=null;for(const vt of _)try{const Xt=yield vt._get(te);if(Xt){const tr=At._fromJSON(g,Xt);vt!==k&&(Pe=tr),k=vt;break}}catch{}const at=M.filter(vt=>vt._shouldAllowMigration);return k._shouldAllowMigration&&at.length?(k=at[0],Pe&&(yield k._set(te,Pe.toJSON())),yield Promise.all(_.map(function(){var vt=(0,d.Z)(function*(Xt){if(Xt!==k)try{yield Xt._remove(te)}catch{}});return function(Xt){return vt.apply(this,arguments)}}())),new H(k,g,E)):new H(k,g,E)})()}}function P(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(K(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(A(g))return"Firefox";if(g.includes("silk/"))return"Silk";if($e(g))return"Blackberry";if(Ye(g))return"Webos";if(D(g))return"Safari";if((g.includes("chrome/")||j(g))&&!g.includes("edge/"))return"Chrome";if(ge(g))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function A(w=(0,$.z$)()){return/firefox\//i.test(w)}function D(w=(0,$.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function j(w=(0,$.z$)()){return/crios\//i.test(w)}function K(w=(0,$.z$)()){return/iemobile/i.test(w)}function ge(w=(0,$.z$)()){return/android/i.test(w)}function $e(w=(0,$.z$)()){return/blackberry/i.test(w)}function Ye(w=(0,$.z$)()){return/webos/i.test(w)}function dt(w=(0,$.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function et(w=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Dn(w=(0,$.z$)()){return dt(w)||ge(w)||Ye(w)||$e(w)||/windows phone/i.test(w)||K(w)}function zr(w,g=[]){let _;switch(w){case"Browser":_=P((0,$.z$)());break;case"Worker":_=`${P((0,$.z$)())}-${w}`;break;default:_=w}const E=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${N.SDK_VERSION}/${E}`}class Po{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const E=k=>new Promise((te,Pe)=>{try{te(g(k))}catch(at){Pe(at)}});E.onAbort=_,this.queue.push(E);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===g)return;const E=[];try{for(const M of _.queue)yield M(g),M.onAbort&&E.push(M.onAbort)}catch(M){E.reverse();for(const k of E)try{k()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class ao{constructor(g,_,E){this.app=g,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X(this),this.idTokenSubscription=new X(this),this.beforeStateQueue=new Po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,_){var E=this;return _&&(this._popupRedirectResolver=We(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var M,k;if(!E._deleted&&(E.persistenceManager=yield H.create(E,g),!E._deleted)){if(null!==(M=E._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(k=E.currentUser)||void 0===k?void 0:k.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,d.Z)(function*(){var E;const M=yield _.assertedPersistence.getCurrentUser();let k=M,te=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Pe=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,at=k?._redirectEventId,vt=yield _.tryRedirectSignIn(g);(!Pe||Pe===at)&&vt?.user&&(k=vt.user,te=!0)}if(!k)return _.directlySetCurrentUser(null);if(!k._redirectEventId){if(te)try{yield _.beforeStateQueue.runMiddleware(k)}catch(Pe){k=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Pe))}return k?_.reloadAndSetCurrentUserOrClear(k):_.directlySetCurrentUser(null)}return J(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===k._redirectEventId?_.directlySetCurrentUser(k):_.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(g){var _=this;return(0,d.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,d.Z)(function*(){try{yield Sr(g)}catch(E){if("auth/network-request-failed"!==E?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function re(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,d.Z)(function*(){const E=g?(0,$.m9)(g):null;return E&&J(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(g,_=!1){var E=this;return(0,d.Z)(function*(){if(!E._deleted)return g&&J(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,d.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(We(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,_,E){return this.registerStateListener(this.authStateSubscription,g,_,E)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,E){return this.registerStateListener(this.idTokenSubscription,g,_,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var E=this;return(0,d.Z)(function*(){const M=yield E.getOrInitRedirectPersistenceManager(_);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const E=g&&We(g)||_._popupRedirectResolver;J(E,_,"argument-error"),_.redirectPersistenceManager=yield H.create(_,[We(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,d.Z)(function*(){var E,M;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===g?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,d.Z)(function*(){if(g===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,E,M){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),te=this._isInitialized?Promise.resolve():this._initializationPromise;return J(te,this,"internal-error"),te.then(()=>k(this.currentUser)),"function"==typeof _?g.addObserver(_,E,M):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=zr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.Z)(function*(){var _;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(E["X-Firebase-Client"]=M),E})()}}function ar(w){return(0,$.m9)(w)}class X{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(_=>this.observer=_)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function we(w,g,_){const E=ar(w);J(E._canInitEmulator,E,"emulator-config-failed"),J(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const M=!!_?.disableWarnings,k=He(g),{host:te,port:Pe}=function Qe(w){const g=He(w),_=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(E);if(M){const k=M[1];return{host:k,port:Zt(E.substr(k.length+1))}}{const[k,te]=E.split(":");return{host:k,port:Zt(te)}}}(g);E.config.emulator={url:`${k}//${te}${null===Pe?"":`:${Pe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:te,port:Pe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function $t(){function w(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function He(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Zt(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class On{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return se("not implemented")}_getIdTokenResponse(g){return se("not implemented")}_linkToIdToken(g,_){return se("not implemented")}_getReauthenticationResolver(g){return se("not implemented")}}function En(w,g){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,d.Z)(function*(w,g){return je(w,"POST","/v1/accounts:resetPassword",Ze(w,g))})).apply(this,arguments)}function Pr(w,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,d.Z)(function*(w,g){return je(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(w,g){return je(w,"POST","/v1/accounts:update",Ze(w,g))})).apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(w,g){return zt(w,"POST","/v1/accounts:signInWithPassword",Ze(w,g))})).apply(this,arguments)}function Gr(w,g){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,d.Z)(function*(w,g){return je(w,"POST","/v1/accounts:sendOobCode",Ze(w,g))})).apply(this,arguments)}function is(){return(is=(0,d.Z)(function*(w,g){return Gr(w,g)})).apply(this,arguments)}function ss(){return(ss=(0,d.Z)(function*(w,g){return Gr(w,g)})).apply(this,arguments)}function Ut(){return(Ut=(0,d.Z)(function*(w,g){return Gr(w,g)})).apply(this,arguments)}function os(){return(os=(0,d.Z)(function*(w,g){return Gr(w,g)})).apply(this,arguments)}function _s(){return(_s=(0,d.Z)(function*(w,g){return zt(w,"POST","/v1/accounts:signInWithEmailLink",Ze(w,g))})).apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(w,g){return zt(w,"POST","/v1/accounts:signInWithEmailLink",Ze(w,g))})).apply(this,arguments)}class Gi extends On{constructor(g,_,E,M=null){super("password",E),this._email=g,this._password=_,this._tenantId=M}static _fromEmailAndPassword(g,_){return new Gi(g,_,"password")}static _fromEmailAndCode(g,_,E=null){return new Gi(g,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,d.Z)(function*(){switch(_.signInMethod){case"password":return function Yt(w,g){return xn.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function pa(w,g){return _s.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Me(g,"internal-error")}})()}_linkToIdToken(g,_){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return Pr(g,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Wr(w,g){return zi.apply(this,arguments)}(g,{idToken:_,email:E._email,oobCode:E._password});default:Me(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function vr(w,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,d.Z)(function*(w,g){return zt(w,"POST","/v1/accounts:signInWithIdp",Ze(w,g))})).apply(this,arguments)}class Bt extends On{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Bt(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Me("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:M}=_,k=(0,de._T)(_,["providerId","signInMethod"]);if(!E||!M)return null;const te=new Bt(E,M);return te.idToken=k.idToken||void 0,te.accessToken=k.accessToken||void 0,te.secret=k.secret,te.nonce=k.nonce,te.pendingToken=k.pendingToken||null,te}_getIdTokenResponse(g){return vr(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,vr(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,vr(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,$.xO)(_)}return g}}function Vs(){return(Vs=(0,d.Z)(function*(w,g){return je(w,"POST","/v1/accounts:sendVerificationCode",Ze(w,g))})).apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(w,g){return zt(w,"POST","/v1/accounts:signInWithPhoneNumber",Ze(w,g))})).apply(this,arguments)}function Us(){return(Us=(0,d.Z)(function*(w,g){const _=yield zt(w,"POST","/v1/accounts:signInWithPhoneNumber",Ze(w,g));if(_.temporaryProof)throw vn(w,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Xr={USER_NOT_FOUND:"user-not-found"};function ei(){return(ei=(0,d.Z)(function*(w,g){return zt(w,"POST","/v1/accounts:signInWithPhoneNumber",Ze(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Xr)})).apply(this,arguments)}class Or extends On{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Or({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Or({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function fu(w,g){return ys.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function ga(w,g){return Us.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function pu(w,g){return ei.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:E,verificationCode:M}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:E,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:k}=g;return E||_||M||k?new Or({verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:k}):null}}class vs{constructor(g){var _,E,M,k,te,Pe;const at=(0,$.zd)((0,$.pd)(g)),vt=null!==(_=at.apiKey)&&void 0!==_?_:null,Xt=null!==(E=at.oobCode)&&void 0!==E?E:null,tr=function tl(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=at.mode)&&void 0!==M?M:null);J(vt&&Xt&&tr,"argument-error"),this.apiKey=vt,this.operation=tr,this.code=Xt,this.continueUrl=null!==(k=at.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(te=at.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Pe=at.tenantId)&&void 0!==Pe?Pe:null}static parseLink(g){const _=function Oo(w){const g=(0,$.zd)((0,$.pd)(w)).link,_=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,E=(0,$.zd)((0,$.pd)(w)).deep_link_id;return(E?(0,$.zd)((0,$.pd)(E)).link:null)||E||_||g||w}(g);try{return new vs(_)}catch{return null}}}let nl=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(_,E){return Gi._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const M=vs.parseLink(E);return J(M,"argument-error"),Gi._fromEmailAndCode(_,M.code,M.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class ws{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class No extends ws{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ko extends No{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return J("providerId"in _&&"signInMethod"in _,"argument-error"),Bt._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return J(g.idToken||g.accessToken,"argument-error"),Bt._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ko.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ko.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:M,pendingToken:k,nonce:te,providerId:Pe}=g;if(!E&&!M&&!_&&!k||!Pe)return null;try{return new ko(Pe)._credential({idToken:_,accessToken:E,nonce:te,pendingToken:k})}catch{return null}}}let cd=(()=>{class w extends No{constructor(){super("facebook.com")}static credential(_){return Bt._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),dd=(()=>{class w extends No{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return Bt._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:M}=_;if(!E&&!M)return null;try{return w.credential(E,M)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),hd=(()=>{class w extends No{constructor(){super("github.com")}static credential(_){return Bt._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Fo extends On{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return vr(g,this.buildRequest())}_linkToIdToken(g,_){const E=this.buildRequest();return E.idToken=_,vr(g,E)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,vr(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:M,pendingToken:k}=_;return E&&M&&k&&E===M?new Fo(E,k):null}static _create(g,_){return new Fo(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bs extends ws{constructor(g){J(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Bs.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Bs.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Fo.fromJSON(g);return J(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:E}=g;if(!_||!E)return null;try{return Fo._create(E,_)}catch{return null}}}let pd=(()=>{class w extends No{constructor(){super("twitter.com")}static credential(_,E){return Bt._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:M}=_;if(!E||!M)return null;try{return w.credential(E,M)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function gu(w,g){return ci.apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(w,g){return zt(w,"POST","/v1/accounts:signUp",Ze(w,g))})).apply(this,arguments)}class ti{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,E,M=!1){return(0,d.Z)(function*(){const k=yield At._fromIdTokenResponse(g,E,M),te=rl(E);return new ti({user:k,providerId:te,_tokenResponse:E,operationType:_})})()}static _forOperation(g,_,E){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const M=rl(E);return new ti({user:g,providerId:M,_tokenResponse:E,operationType:_})})()}}function rl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function gd(w){return il.apply(this,arguments)}function il(){return(il=(0,d.Z)(function*(w){var g;const _=ar(w);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new ti({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield gu(_,{returnSecureToken:!0}),M=yield ti._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class mu extends $.ZR{constructor(g,_,E,M){var k;super(_.code,_.message),this.operationType=E,this.user=M,Object.setPrototypeOf(this,mu.prototype),this.customData={appName:g.name,tenantId:null!==(k=g.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,_,E,M){return new mu(g,_,E,M)}}function md(w,g,_,E){return("reauthenticate"===g?_._getReauthenticationResolver(w):_._getIdTokenResponse(w)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?mu._fromErrorAndOperation(w,k,g,E):k})}function ff(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function Mi(w,g){return sl.apply(this,arguments)}function sl(){return sl=(0,d.Z)(function*(w,g){const _=(0,$.m9)(w);yield xi(!0,_,g);const{providerUserInfo:E}=yield function pn(w,g){return bn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),M=ff(E||[]);return _.providerData=_.providerData.filter(k=>M.has(k.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),sl.apply(this,arguments)}function _a(w,g){return ol.apply(this,arguments)}function ol(){return(ol=(0,d.Z)(function*(w,g,_=!1){const E=yield hn(w,g._linkToIdToken(w.auth,yield w.getIdToken()),_);return ti._forOperation(w,"link",E)})).apply(this,arguments)}function xi(w,g,_){return al.apply(this,arguments)}function al(){return(al=(0,d.Z)(function*(w,g,_){yield Sr(g);const M=!1===w?"provider-already-linked":"no-such-provider";J(ff(g.providerData).has(_)===w,g.auth,M)})).apply(this,arguments)}function Es(w,g){return ya.apply(this,arguments)}function ya(){return(ya=(0,d.Z)(function*(w,g,_=!1){const{auth:E}=w,M="reauthenticate";try{const k=yield hn(w,md(E,M,g,w),_);J(k.idToken,E,"internal-error");const te=ft(k.idToken);J(te,E,"internal-error");const{sub:Pe}=te;return J(w.uid===Pe,E,"user-mismatch"),ti._forOperation(w,M,k)}catch(k){throw"auth/user-not-found"===k?.code&&Me(E,"user-mismatch"),k}})).apply(this,arguments)}function pf(w,g){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,d.Z)(function*(w,g,_=!1){const E="signIn",M=yield md(w,E,g),k=yield ti._fromIdTokenResponse(w,E,M);return _||(yield w._updateCurrentUser(k.user)),k})).apply(this,arguments)}function ll(w,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,d.Z)(function*(w,g){return pf(ar(w),g)})).apply(this,arguments)}function ul(w,g){return L.apply(this,arguments)}function L(){return(L=(0,d.Z)(function*(w,g){const _=(0,$.m9)(w);return yield xi(!1,_,g.providerId),_a(_,g)})).apply(this,arguments)}function O(w,g){return Z.apply(this,arguments)}function Z(){return(Z=(0,d.Z)(function*(w,g){return Es((0,$.m9)(w),g)})).apply(this,arguments)}function Ne(){return(Ne=(0,d.Z)(function*(w,g){return zt(w,"POST","/v1/accounts:signInWithCustomToken",Ze(w,g))})).apply(this,arguments)}function Je(w,g){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,d.Z)(function*(w,g){const _=ar(w),E=yield function ue(w,g){return Ne.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),M=yield ti._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(M.user),M}),Tt.apply(this,arguments)}class gn{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?dn._fromServerResponse(g,_):"totpInfo"in _?Un._fromServerResponse(g,_):Me(g,"internal-error")}}class dn extends gn{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new dn(_)}}class Un extends gn{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new Un(_)}}function yn(w,g,_){var E;J((null===(E=_.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),J(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(J(_.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(J(_.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function on(w,g,_){return Nr.apply(this,arguments)}function Nr(){return Nr=(0,d.Z)(function*(w,g,_){const E=(0,$.m9)(w),M={requestType:"PASSWORD_RESET",email:g};_&&yn(E,M,_),yield function Kn(w,g){return ss.apply(this,arguments)}(E,M)}),Nr.apply(this,arguments)}function as(w,g,_){return Is.apply(this,arguments)}function Is(){return(Is=(0,d.Z)(function*(w,g,_){yield En((0,$.m9)(w),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Ft(w,g){return js.apply(this,arguments)}function js(){return js=(0,d.Z)(function*(w,g){yield function $i(w,g){return it.apply(this,arguments)}((0,$.m9)(w),{oobCode:g})}),js.apply(this,arguments)}function Ri(w,g){return qi.apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(w,g){const _=(0,$.m9)(w),E=yield En(_,{oobCode:g}),M=E.requestType;switch(J(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(E.mfaInfo,_,"internal-error");default:J(E.email,_,"internal-error")}let k=null;return E.mfaInfo&&(k=gn._fromServerResponse(ar(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:k},operation:M}})).apply(this,arguments)}function _u(w,g){return _d.apply(this,arguments)}function _d(){return(_d=(0,d.Z)(function*(w,g){const{data:_}=yield Ri((0,$.m9)(w),g);return _.email})).apply(this,arguments)}function bm(w,g,_){return yd.apply(this,arguments)}function yd(){return(yd=(0,d.Z)(function*(w,g,_){const E=ar(w),M=yield gu(E,{returnSecureToken:!0,email:g,password:_}),k=yield ti._fromIdTokenResponse(E,"signIn",M);return yield E._updateCurrentUser(k.user),k})).apply(this,arguments)}function cr(w,g,_){return ll((0,$.m9)(w),nl.credential(g,_))}function ke(w,g,_){return fn.apply(this,arguments)}function fn(){return fn=(0,d.Z)(function*(w,g,_){const E=(0,$.m9)(w),M={requestType:"EMAIL_SIGNIN",email:g};J(_.handleCodeInApp,E,"argument-error"),_&&yn(E,M,_),yield function lo(w,g){return Ut.apply(this,arguments)}(E,M)}),fn.apply(this,arguments)}function Dm(w,g){return"EMAIL_SIGNIN"===vs.parseLink(g)?.operation}function Tm(w,g,_){return kr.apply(this,arguments)}function kr(){return(kr=(0,d.Z)(function*(w,g,_){const E=(0,$.m9)(w),M=nl.credentialWithLink(g,_||mn());return J(M._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),ll(E,M)})).apply(this,arguments)}function Lo(){return(Lo=(0,d.Z)(function*(w,g){return je(w,"POST","/v1/accounts:createAuthUri",Ze(w,g))})).apply(this,arguments)}function $s(w,g){return yu.apply(this,arguments)}function yu(){return yu=(0,d.Z)(function*(w,g){const E={identifier:g,continueUri:jn()?mn():"http://localhost"},{signinMethods:M}=yield function Sm(w,g){return Lo.apply(this,arguments)}((0,$.m9)(w),E);return M||[]}),yu.apply(this,arguments)}function gf(w,g){return vu.apply(this,arguments)}function vu(){return vu=(0,d.Z)(function*(w,g){const _=(0,$.m9)(w),M={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&yn(_.auth,M,g);const{email:k}=yield function sr(w,g){return is.apply(this,arguments)}(_.auth,M);k!==w.email&&(yield w.reload())}),vu.apply(this,arguments)}function k0(w,g,_){return wu.apply(this,arguments)}function wu(){return wu=(0,d.Z)(function*(w,g,_){const E=(0,$.m9)(w),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};_&&yn(E.auth,k,_);const{email:te}=yield function Ls(w,g){return os.apply(this,arguments)}(E.auth,k);te!==w.email&&(yield w.reload())}),wu.apply(this,arguments)}function di(){return(di=(0,d.Z)(function*(w,g){return je(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Am(w,g){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,d.Z)(function*(w,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const E=(0,$.m9)(w),k={idToken:yield E.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},te=yield hn(E,function qr(w,g){return di.apply(this,arguments)}(E.auth,k));E.displayName=te.displayName||null,E.photoURL=te.photoUrl||null;const Pe=E.providerData.find(({providerId:at})=>"password"===at);Pe&&(Pe.displayName=E.displayName,Pe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(te)}),Vo.apply(this,arguments)}function bs(w,g){return _f((0,$.m9)(w),g,null)}function mf(w,g){return _f((0,$.m9)(w),null,g)}function _f(w,g,_){return yf.apply(this,arguments)}function yf(){return(yf=(0,d.Z)(function*(w,g,_){const{auth:E}=w,k={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(k.email=g),_&&(k.password=_);const te=yield hn(w,Pr(E,k));yield w._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Hs{constructor(g,_,E={}){this.isNewUser=g,this.providerId=_,this.profile=E}}class vd extends Hs{constructor(g,_,E,M){super(g,_,E),this.username=M}}class xm extends Hs{constructor(g,_){super(g,"facebook.com",_)}}class vf extends vd{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class F0 extends Hs{constructor(g,_){super(g,"google.com",_)}}class Rm extends vd{constructor(g,_,E){super(g,"twitter.com",_,E)}}function wf(w){const{user:g,_tokenResponse:_}=w;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Mm(w){var g,_;if(!w)return null;const{providerId:E}=w,M=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},k=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const te=null===(_=null===(g=ft(w.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(te)return new Hs(k,"anonymous"!==te&&"custom"!==te?te:null)}if(!E)return null;switch(E){case"facebook.com":return new xm(k,M);case"github.com":return new vf(k,M);case"google.com":return new F0(k,M);case"twitter.com":return new Rm(k,M,w.screenName||null);case"custom":case"anonymous":return new Hs(k,null);default:return new Hs(k,E,M)}}(_)}function Nm(w,g,_,E){return(0,$.m9)(w).onAuthStateChanged(g,_,E)}class Nn{constructor(g,_,E){this.type=g,this.credential=_,this.auth=E}static _fromIdtoken(g,_){return new Nn("enroll",g,_)}static _fromMfaPendingCredential(g){return new Nn("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,E;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Nn._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return Nn._fromIdtoken(g.multiFactorSession.idToken)}return null}}class wd{constructor(g,_,E){this.session=g,this.hints=_,this.signInResolver=E}static _fromError(g,_){const E=ar(g),M=_.customData._serverResponse,k=(M.mfaInfo||[]).map(Pe=>gn._fromServerResponse(E,Pe));J(M.mfaPendingCredential,E,"internal-error");const te=Nn._fromMfaPendingCredential(M.mfaPendingCredential);return new wd(te,k,function(){var Pe=(0,d.Z)(function*(at){const vt=yield at._process(E,te);delete M.mfaInfo,delete M.mfaPendingCredential;const Xt=Object.assign(Object.assign({},M),{idToken:vt.idToken,refreshToken:vt.refreshToken});switch(_.operationType){case"signIn":const tr=yield ti._fromIdTokenResponse(E,_.operationType,Xt);return yield E._updateCurrentUser(tr.user),tr;case"reauthenticate":return J(_.user,E,"internal-error"),ti._forOperation(_.user,_.operationType,Xt);default:Me(E,"internal-error")}});return function(at){return Pe.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,d.Z)(function*(){return _.signInResolver(g)})()}}function U0(w,g){var _;const E=(0,$.m9)(w),M=g;return J(g.customData.operationType,E,"argument-error"),J(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),wd._fromError(E,M)}class cl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>gn._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new cl(g)}getSession(){var g=this;return(0,d.Z)(function*(){return Nn._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var E=this;return(0,d.Z)(function*(){const M=g,k=yield E.getSession(),te=yield hn(E.user,M._process(E.user.auth,k,_));return yield E.user._updateTokensIfNecessary(te),E.user.reload()})()}unenroll(g){var _=this;return(0,d.Z)(function*(){const E="string"==typeof g?g:g.uid,M=yield _.user.getIdToken();try{const k=yield hn(_.user,function Ed(w,g){return je(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Ze(w,g))}(_.user.auth,{idToken:M,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:te})=>te!==E),yield _.user._updateTokensIfNecessary(k),yield _.user.reload()}catch(k){throw k}})()}}const Ki=new WeakMap;function dr(w){const g=(0,$.m9)(w);return Ki.has(g)||Ki.set(g,cl._fromUser(g)),Ki.get(g)}const gt="__sak";class Pi{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(gt,"1"),this.storage.removeItem(gt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const er=(()=>{class w extends Pi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wr(){const w=(0,$.z$)();return D(w)||dt(w)}()&&function mi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Dn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const M=this.storage.getItem(E),k=this.localCache[E];M!==k&&_(E,k,M)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((Pe,at,vt)=>{this.notifyListeners(Pe,vt)});const M=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pe=this.storage.getItem(M);if(_.newValue!==Pe)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!E)return}const k=()=>{const Pe=this.storage.getItem(M);!E&&this.localCache[M]===Pe||this.notifyListeners(M,Pe)},te=this.storage.getItem(M);!function Dt(){return(0,$.w1)()&&10===document.documentMode}()||te===_.newValue||_.newValue===_.oldValue?k():setTimeout(k,10)}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const k of Array.from(M))k(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var M=()=>super._set,k=this;return(0,d.Z)(function*(){yield M().call(k,_,E),k.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,M=this;return(0,d.Z)(function*(){const k=yield E().call(M,_);return M.localCache[_]=JSON.stringify(k),k})()}_remove(_){var E=()=>super._remove,M=this;return(0,d.Z)(function*(){yield E().call(M,_),delete M.localCache[_]})()}}return w.type="LOCAL",w})(),xt=(()=>{class w extends Pi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return w.type="SESSION",w})();let Cf=(()=>{class w{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(k=>k.isListeningto(_));if(E)return E;const M=new w(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,d.Z)(function*(){const M=_,{eventId:k,eventType:te,data:Pe}=M.data,at=E.handlersMap[te];if(!at?.size)return;M.ports[0].postMessage({status:"ack",eventId:k,eventType:te});const vt=Array.from(at).map(function(){var tr=(0,d.Z)(function*(vi){return vi(M.origin,Pe)});return function(vi){return tr.apply(this,arguments)}}()),Xt=yield function Eu(w){return Promise.all(w.map(function(){var g=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return g.apply(this,arguments)}}()))}(vt);M.ports[0].postMessage({status:"done",eventId:k,eventType:te,response:Xt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Zi(w="",g=10){let _="";for(let E=0;E<g;E++)_+=Math.floor(10*Math.random());return w+_}class If{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,E=50){var M=this;return(0,d.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let te,Pe;return new Promise((at,vt)=>{const Xt=Zi("",20);k.port1.start();const tr=setTimeout(()=>{vt(new Error("unsupported_event"))},E);Pe={messageChannel:k,onMessage(vi){const Gs=vi;if(Gs.data.eventId===Xt)switch(Gs.data.status){case"ack":clearTimeout(tr),te=setTimeout(()=>{vt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),at(Gs.data.response);break;default:clearTimeout(tr),clearTimeout(te),vt(new Error("invalid_response"))}}},M.handlers.add(Pe),k.port1.addEventListener("message",Pe.onMessage),M.target.postMessage({eventType:g,eventId:Xt,data:_},[k.port2])}).finally(()=>{Pe&&M.removeMessageHandler(Pe)})})()}}function Er(){return window}function $o(){return typeof Er().WorkerGlobalScope<"u"&&"function"==typeof Er().importScripts}function dl(){return(dl=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cu="firebaseLocalStorageDb",Cd=1,zo="firebaseLocalStorage",Tf="fbase_key";class Go{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function va(w,g){return w.transaction([zo],g?"readwrite":"readonly").objectStore(zo)}function ii(){const w=indexedDB.open(Cu,Cd);return new Promise((g,_)=>{w.addEventListener("error",()=>{_(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(zo,{keyPath:Tf})}catch(M){_(M)}}),w.addEventListener("success",(0,d.Z)(function*(){const E=w.result;E.objectStoreNames.contains(zo)?g(E):(E.close(),yield function Fm(){const w=indexedDB.deleteDatabase(Cu);return new Go(w).toPromise()}(),g(yield ii()))}))})}function hr(w,g,_){return fo.apply(this,arguments)}function fo(){return(fo=(0,d.Z)(function*(w,g,_){const E=va(w,!0).put({[Tf]:g,value:_});return new Go(E).toPromise()})).apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(w,g){const _=va(w,!1).get(g),E=yield new Go(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function fl(w,g){const _=va(w,!0).delete(g);return new Go(_).toPromise()}const Id=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield ii()),_.db})()}_withRetries(_){var E=this;return(0,d.Z)(function*(){let M=0;for(;;)try{const k=yield E._openDb();return yield _(k)}catch(k){if(M++>3)throw k;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return $o()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=Cf._getInstance(function ho(){return $o()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(M,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(M,k){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(M,k){return["keyChanged"]});return function(M,k){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var E,M;if(_.activeServiceWorker=yield function Df(){return dl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new If(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);k&&null!==(E=k[0])&&void 0!==E&&E.fulfilled&&null!==(M=k[0])&&void 0!==M&&M.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Ho(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ii();return yield hr(_,gt,"1"),yield fl(_,gt),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var M=this;return(0,d.Z)(function*(){return M._withPendingWrite((0,d.Z)(function*(){return yield M._withRetries(k=>hr(k,_,E)),M.localCache[_]=E,M.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,d.Z)(function*(){const M=yield E._withRetries(k=>function hl(w,g){return Wo.apply(this,arguments)}(k,_));return E.localCache[_]=M,M})()}_remove(_){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(M=>fl(M,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const E=yield _._withRetries(te=>{const Pe=va(te,!1).getAll();return new Go(Pe).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const M=[],k=new Set;for(const{fbase_key:te,value:Pe}of E)k.add(te),JSON.stringify(_.localCache[te])!==JSON.stringify(Pe)&&(_.notifyListeners(te,Pe),M.push(te));for(const te of Object.keys(_.localCache))_.localCache[te]&&!k.has(te)&&(_.notifyListeners(te,null),M.push(te));return M})()}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const k of Array.from(M))k(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Ds(){return(Ds=(0,d.Z)(function*(w){return(yield je(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xf(w){return new Promise((g,_)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=g,E.onerror=M=>{const k=xe("internal-error");k.customData=M,_(k)},E.type="text/javascript",E.charset="UTF-8",function $0(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(E)})}function Rf(w){return`__${w}${Math.floor(1e6*Math.random())}`}const bu=1e12;class bd{constructor(g){this.auth=g,this.counter=bu,this._widgets=new Map}render(g,_){const E=this.counter;return this._widgets.set(E,new Vm(g,this.auth.name,_||{})),this.counter++,E}reset(g){var _;const E=g||bu;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(g){var _;return(null===(_=this._widgets.get(g||bu))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,d.Z)(function*(){var E;return null===(E=_._widgets.get(g||bu))||void 0===E||E.execute(),""})()}}class Vm{constructor(g,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;J(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dd(w){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _l=Rf("rcb"),yl=new oe(3e4,6e4);class Ea{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Er().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return J(function Td(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Er().grecaptcha):new Promise((E,M)=>{const k=Er().setTimeout(()=>{M(xe(g,"network-request-failed"))},yl.get());Er()[_l]=()=>{Er().clearTimeout(k),delete Er()[_l];const Pe=Er().grecaptcha;if(!Pe)return void M(xe(g,"internal-error"));const at=Pe.render;Pe.render=(vt,Xt)=>{const tr=at(vt,Xt);return this.counter++,tr},this.hostLanguage=_,E(Pe)},xf(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:_l,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),M(xe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=Er().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vl{load(g){return(0,d.Z)(function*(){return new bd(g)})()}clearedOneInstance(){}}const qo="recaptcha",Um={theme:"light",type:"image"};class Bm{constructor(g,_=Object.assign({},Um),E){this.parameters=_,this.type=qo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ar(E),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;J(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vl:new Ea,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(_)||new Promise(k=>{const te=Pe=>{Pe&&(g.tokenChangeListeners.delete(te),k(Pe))};g.tokenChangeListeners.add(te),g.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof g)g(_);else if("string"==typeof g){const E=Er()[g];"function"==typeof E&&E(_)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){J(jn()&&!$o(),g.auth,"internal-error"),yield function Bn(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Iu(w){return Ds.apply(this,arguments)}(g.auth);J(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sd{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Or._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function z0(w,g,_){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,d.Z)(function*(w,g,_){const E=ar(w),M=yield Ko(E,g,(0,$.m9)(_));return new Sd(M,k=>ll(E,k))})).apply(this,arguments)}function oD(w,g,_){return lr.apply(this,arguments)}function lr(){return(lr=(0,d.Z)(function*(w,g,_){const E=(0,$.m9)(w);yield xi(!1,E,"phone");const M=yield Ko(E.auth,g,(0,$.m9)(_));return new Sd(M,k=>ul(E,k))})).apply(this,arguments)}function wl(w,g,_){return Of.apply(this,arguments)}function Of(){return(Of=(0,d.Z)(function*(w,g,_){const E=(0,$.m9)(w),M=yield Ko(E.auth,g,(0,$.m9)(_));return new Sd(M,k=>O(E,k))})).apply(this,arguments)}function Ko(w,g,_){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,d.Z)(function*(w,g,_){var E;const M=yield _.verify();try{let k;if(J("string"==typeof M,w,"argument-error"),J(_.type===qo,w,"argument-error"),k="string"==typeof g?{phoneNumber:g}:g,"session"in k){const te=k.session;if("phoneNumber"in k)return J("enroll"===te.type,w,"internal-error"),(yield function km(w,g){return je(w,"POST","/v2/accounts/mfaEnrollment:start",Ze(w,g))}(w,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{J("signin"===te.type,w,"internal-error");const Pe=(null===(E=k.multiFactorHint)||void 0===E?void 0:E.uid)||k.multiFactorUid;return J(Pe,w,"missing-multi-factor-info"),(yield function Af(w,g){return je(w,"POST","/v2/accounts/mfaSignIn:start",Ze(w,g))}(w,{mfaPendingCredential:te.credential,mfaEnrollmentId:Pe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield function ud(w,g){return Vs.apply(this,arguments)}(w,{phoneNumber:k.phoneNumber,recaptchaToken:M});return te}}finally{_._reset()}}),Ad.apply(this,arguments)}function aD(w,g){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,d.Z)(function*(w,g){yield _a((0,$.m9)(w),g)})).apply(this,arguments)}let Nf=(()=>{class w{constructor(_){this.providerId=w.PROVIDER_ID,this.auth=ar(_)}verifyPhoneNumber(_,E){return Ko(this.auth,_,(0,$.m9)(E))}static credential(_,E){return Or._fromVerification(_,E)}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:M}=_;return E&&M?Or._fromTokenResponse(E,M):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Ts(w,g){return g?We(g):(J(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class kf extends On{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return vr(g,this._buildIdpRequest())}_linkToIdToken(g,_){return vr(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return vr(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function ls(w){return pf(w.auth,new kf(w),w.bypassAuthState)}function Ca(w){const{auth:g,user:_}=w;return J(_,g,"internal-error"),Es(_,new kf(w),w.bypassAuthState)}function jm(w){return El.apply(this,arguments)}function El(){return(El=(0,d.Z)(function*(w){const{auth:g,user:_}=w;return J(_,g,"internal-error"),_a(_,new kf(w),w.bypassAuthState)})).apply(this,arguments)}class Wt{constructor(g,_,E,M,k=!1){this.auth=g,this.resolver=E,this.user=M,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,d.Z)(function*(E,M){g.pendingPromise={resolve:E,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(k){g.reject(k)}});return function(E,M){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:M,postBody:k,tenantId:te,error:Pe,type:at}=g;if(Pe)return void _.reject(Pe);const vt={auth:_.auth,requestUri:E,sessionId:M,tenantId:te||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(at)(vt))}catch(Xt){_.reject(Xt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ls;case"linkViaPopup":case"linkViaRedirect":return jm;case"reauthViaPopup":case"reauthViaRedirect":return Ca;default:Me(this.auth,"internal-error")}}resolve(g){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ia=new oe(2e3,1e4);function Ir(w,g,_){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(w,g,_){const E=ar(w);De(w,g,ws);const M=Ts(E,_);return new Tu(E,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function G0(w,g,_){return br.apply(this,arguments)}function br(){return(br=(0,d.Z)(function*(w,g,_){const E=(0,$.m9)(w);De(E.auth,g,ws);const M=Ts(E.auth,_);return new Tu(E.auth,"reauthViaPopup",g,M,E).executeNotNull()})).apply(this,arguments)}function Du(w,g,_){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(w,g,_){const E=(0,$.m9)(w);De(E.auth,g,ws);const M=Ts(E.auth,_);return new Tu(E.auth,"linkViaPopup",g,M,E).executeNotNull()})).apply(this,arguments)}let Tu=(()=>{class w extends Wt{constructor(_,E,M,k,te){super(_,E,k,te),this.provider=M,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const E=yield _.execute();return J(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,d.Z)(function*(){Ee(1===_.filter.length,"Popup operations only handle one event");const E=Zi();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(xe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,M;this.pollId=null!==(M=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Ia.get())};_()}}return w.currentPopupAction=null,w})();const Ff="pendingRedirect",Zo=new Map;class Lf extends Wt{constructor(g,_,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,d.Z)(function*(){let E=Zo.get(_.auth._key());if(!E){try{const k=(yield function $m(w,g){return hi.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;E=()=>Promise.resolve(k)}catch(M){E=()=>Promise.reject(M)}Zo.set(_.auth._key(),E)}return _.bypassAuthState||Zo.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(E,g);if("unknown"!==g.type){if(g.eventId){const M=yield E.auth._redirectUserForId(g.eventId);if(M)return E.user=M,_().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function hi(){return(hi=(0,d.Z)(function*(w,g){const _=Da(g),E=ba(w);if(!(yield E._isAvailable()))return!1;const M="true"===(yield E._get(_));return yield E._remove(_),M})).apply(this,arguments)}function Ss(w,g){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,d.Z)(function*(w,g){return ba(w)._set(Da(g),"true")})).apply(this,arguments)}function Vf(){Zo.clear()}function Cl(w,g){Zo.set(w._key(),g)}function ba(w){return We(w._redirectPersistence)}function Da(w){return z(Ff,w.config.apiKey,w.name)}function Uf(w,g,_){return function Su(w,g,_){return Md.apply(this,arguments)}(w,g,_)}function Md(){return(Md=(0,d.Z)(function*(w,g,_){const E=ar(w);De(w,g,ws),yield E._initializationPromise;const M=Ts(E,_);return yield Ss(M,E),M._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function Bf(w,g,_){return function Au(w,g,_){return Il.apply(this,arguments)}(w,g,_)}function Il(){return(Il=(0,d.Z)(function*(w,g,_){const E=(0,$.m9)(w);De(E.auth,g,ws),yield E.auth._initializationPromise;const M=Ts(E.auth,_);yield Ss(M,E.auth);const k=yield Rd(E);return M._openRedirect(E.auth,g,"reauthViaRedirect",k)})).apply(this,arguments)}function Hm(w,g,_){return function W0(w,g,_){return jf.apply(this,arguments)}(w,g,_)}function jf(){return(jf=(0,d.Z)(function*(w,g,_){const E=(0,$.m9)(w);De(E.auth,g,ws),yield E.auth._initializationPromise;const M=Ts(E.auth,_);yield xi(!1,E,g.providerId),yield Ss(M,E.auth);const k=yield Rd(E);return M._openRedirect(E.auth,g,"linkViaRedirect",k)})).apply(this,arguments)}function bl(w,g){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(w,g){return yield ar(w)._initializationPromise,xd(w,g,!1)})).apply(this,arguments)}function xd(w,g){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,d.Z)(function*(w,g,_=!1){const E=ar(w),M=Ts(E,g),te=yield new Lf(E,M,_).execute();return te&&!_&&(delete te.user._redirectEventId,yield E._persistUserIfCurrent(te.user),yield E._setRedirectUser(null,g)),te})).apply(this,arguments)}function Rd(w){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(w){const g=Zi(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class $f{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(_=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Dl(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zf(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var E;if(g.error&&!zf(g)){const M=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(xe(this.auth,M))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const E=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hf(g))}saveEventToCache(g){this.cachedEventUids.add(Hf(g)),this.lastProcessedEventTime=Date.now()}}function Hf(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function zf({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function Pd(w){return Od.apply(this,arguments)}function Od(){return(Od=(0,d.Z)(function*(w,g={}){return je(w,"GET","/v1/projects",g)})).apply(this,arguments)}const Gf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zm=/^https?/;function Wf(){return(Wf=(0,d.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Pd(w);for(const _ of g)try{if(qf(_))return}catch{}Me(w,"unauthorized-domain")})).apply(this,arguments)}function qf(w){const g=mn(),{protocol:_,hostname:E}=new URL(g);if(w.startsWith("chrome-extension://")){const te=new URL(w);return""===te.hostname&&""===E?"chrome-extension:"===_&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&te.hostname===E}if(!zm.test(_))return!1;if(Gf.test(w))return E===w;const M=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(E)}const Gm=new oe(3e4,6e4);function Tl(){const w=Er().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let _=0;_<w.CP.length;_++)w.CP[_]=null}let kd=null;const Jo=new oe(5e3,15e3),qm="__/auth/iframe",Kf="emulator/auth/iframe",Km={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mu(w){const g=w.config;J(g.authDomain,w,"auth-domain-config-required");const _=g.emulator?le(g,Kf):`https://${w.config.authDomain}/${qm}`,E={apiKey:g.apiKey,appName:w.name,v:N.SDK_VERSION},M=Fd.get(w.config.apiHost);M&&(E.eid=M);const k=w._getFrameworks();return k.length&&(E.fw=k.join(",")),`${_}?${(0,$.xO)(E).slice(1)}`}function Sl(){return Sl=(0,d.Z)(function*(w){const g=yield function Qo(w){return kd=kd||function Wm(w){return new Promise((g,_)=>{var E,M,k;function te(){Tl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Tl(),_(xe(w,"network-request-failed"))},timeout:Gm.get()})}if(null!==(M=null===(E=Er().gapi)||void 0===E?void 0:E.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(k=Er().gapi)||void 0===k||!k.load){const Pe=Rf("iframefcb");return Er()[Pe]=()=>{gapi.load?te():_(xe(w,"network-request-failed"))},xf(`https://apis.google.com/js/api.js?onload=${Pe}`).catch(at=>_(at))}te()}}).catch(g=>{throw kd=null,g})}(w),kd}(w),_=Er().gapi;return J(_,w,"internal-error"),g.open({where:document.body,url:Mu(w),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Km,dontclear:!0},E=>new Promise(function(){var M=(0,d.Z)(function*(k,te){yield E.restyle({setHideOnLeave:!1});const Pe=xe(w,"network-request-failed"),at=Er().setTimeout(()=>{te(Pe)},Jo.get());function vt(){Er().clearTimeout(at),k(E)}E.ping(vt).then(vt,()=>{te(Pe)})});return function(k,te){return M.apply(this,arguments)}}()))}),Sl.apply(this,arguments)}const As={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kr=500,zs=600,Ms="_blank",xu="http://localhost";class Ru{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Vd="__/auth/handler",Ud="emulator/auth/handler";function Bd(w,g,_,E,M,k){J(w.config.authDomain,w,"auth-domain-config-required"),J(w.config.apiKey,w,"invalid-api-key");const te={apiKey:w.config.apiKey,appName:w.name,authType:_,redirectUrl:E,v:N.SDK_VERSION,eventId:M};if(g instanceof ws){g.setDefaultLanguage(w.languageCode),te.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(te.customParameters=JSON.stringify(g.getCustomParameters()));for(const[at,vt]of Object.entries(k||{}))te[at]=vt}if(g instanceof No){const at=g.getScopes().filter(vt=>""!==vt);at.length>0&&(te.scopes=at.join(","))}w.tenantId&&(te.tid=w.tenantId);const Pe=te;for(const at of Object.keys(Pe))void 0===Pe[at]&&delete Pe[at];return`${function jd({config:w}){return w.emulator?le(w,Ud):`https://${w.authDomain}/${Vd}`}(w)}?${(0,$.xO)(Pe).slice(1)}`}const go="webStorageSupport",Al=class Zm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xt,this._completeRedirectFn=xd,this._overrideRedirectResult=Cl}_openPopup(g,_,E,M){var k=this;return(0,d.Z)(function*(){var te;Ee(null===(te=k.eventManagers[g._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Pe=Bd(g,_,E,mn(),M);return function Zf(w,g,_,E=Kr,M=zs){const k=Math.max((window.screen.availHeight-M)/2,0).toString(),te=Math.max((window.screen.availWidth-E)/2,0).toString();let Pe="";const at=Object.assign(Object.assign({},As),{width:E.toString(),height:M.toString(),top:k,left:te}),vt=(0,$.z$)().toLowerCase();_&&(Pe=j(vt)?Ms:_),A(vt)&&(g=g||xu,at.scrollbars="yes");const Xt=Object.entries(at).reduce((vi,[Gs,Ou])=>`${vi}${Gs}=${Ou},`,"");if(function kt(w=(0,$.z$)()){var g;return dt(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(vt)&&"_self"!==Pe)return function Yf(w,g){const _=document.createElement("a");_.href=w,_.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(g||"",Pe),new Ru(null);const tr=window.open(g||"",Pe,Xt);J(tr,w,"popup-blocked");try{tr.focus()}catch{}return new Ru(tr)}(g,Pe,Zi())})()}_openRedirect(g,_,E,M){var k=this;return(0,d.Z)(function*(){return yield k._originValidation(g),function bf(w){Er().location.href=w}(Bd(g,_,E,mn(),M)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:M,promise:k}=this.eventManagers[_];return M?Promise.resolve(M):(Ee(k,"If manager is not set, promise should be"),k)}const E=this.initAndGetManager(g);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(g){var _=this;return(0,d.Z)(function*(){const E=yield function Ld(w){return Sl.apply(this,arguments)}(g),M=new $f(g);return E.register("authEvent",k=>(J(k?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:M},_.iframes[g._key()]=E,M})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(go,{type:go},M=>{var k;const te=null===(k=M?.[0])||void 0===k?void 0:k[go];void 0!==te&&_(!!te),Me(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Nd(w){return Wf.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Dn()||D()||dt()}};class yi{constructor(g){this.factorId=g}_process(g,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,E);case"signin":return this._finalizeSignIn(g,_.credential);default:return se("unexpected MultiFactorSessionType")}}}class Ml extends yi{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Ml(g)}_finalizeEnroll(g,_,E){return function B0(w,g){return je(w,"POST","/v2/accounts/mfaEnrollment:finalize",Ze(w,g))}(g,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Mf(w,g){return je(w,"POST","/v2/accounts/mfaSignIn:finalize",Ze(w,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qf=(()=>{class w{constructor(){}static assertion(_){return Ml._fromCredential(_)}}return w.FACTOR_ID="phone",w})();var Ma="@firebase/auth";class Hd{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(E=>{g(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Gd=(0,$.Pz)("authIdTokenMaxAge")||300;let Wd=null;const Qm=w=>function(){var g=(0,d.Z)(function*(_){const E=_&&(yield _.getIdTokenResult()),M=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(M&&M>Gd)return;const k=E?.token;Wd!==k&&(Wd=k,yield fetch(w,{method:k?"POST":"DELETE",headers:k?{Authorization:`Bearer ${k}`}:{}}))});return function(_){return g.apply(this,arguments)}}();function qd(w=(0,N.getApp)()){const g=(0,N._getProvider)(w,"auth");if(g.isInitialized())return g.getImmediate();const _=function Ct(w,g){const _=(0,N._getProvider)(w,"auth");if(_.isInitialized()){const M=_.getImmediate(),k=_.getOptions();if((0,$.vZ)(k,g??{}))return M;Me(M,"already-initialized")}return _.initialize({options:g})}(w,{popupRedirectResolver:Al,persistence:[Id,er,xt]}),E=(0,$.Pz)("authTokenSyncURL");if(E){const k=Qm(E);(function Om(w,g,_){(0,$.m9)(w).beforeAuthStateChanged(g,_)})(_,k,()=>k(_.currentUser)),function Pm(w,g,_,E){(0,$.m9)(w).onIdTokenChanged(g,_,E)}(_,te=>k(te))}const M=(0,$.q4)("auth");return M&&we(_,`http://${M}`),_}!function Pu(w){(0,N._registerComponent)(new ae.wA("auth",(g,{options:_})=>{const E=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),{apiKey:k,authDomain:te}=E.options;return((Pe,at)=>{J(k&&!k.includes(":"),"invalid-api-key",{appName:Pe.name}),J(!te?.includes(":"),"argument-error",{appName:Pe.name});const vt={apiKey:k,authDomain:te,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zr(w)},Xt=new ao(Pe,at,vt);return function tt(w,g){const _=g?.persistence||[],E=(Array.isArray(_)?_:[_]).map(We);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(E,g?.popupRedirectResolver)}(Xt,_),Xt})(E,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,E)=>{g.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new ae.wA("auth-internal",g=>{const _=ar(g.getProvider("auth").getImmediate());return new Hd(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(Ma,"0.22.0",function xl(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,N.registerVersion)(Ma,"0.22.0","esm2017")}("Browser")},2090:(pt,Te,F)=>{F.d(Te,{$s:()=>yt,BH:()=>De,DV:()=>wn,Dv:()=>_n,GJ:()=>In,L:()=>me,LL:()=>Le,P0:()=>Me,Pz:()=>Re,Sg:()=>Ge,UG:()=>Ee,UI:()=>pn,US:()=>ae,Wj:()=>Sr,Wl:()=>_t,Yr:()=>Rn,ZB:()=>Q,ZR:()=>ze,aH:()=>xe,b$:()=>Ct,cI:()=>en,dS:()=>_r,eu:()=>oe,g5:()=>N,gK:()=>zn,gQ:()=>Hn,h$:()=>fe,hl:()=>re,hu:()=>$,jU:()=>Xe,lb:()=>Rt,m9:()=>Vn,ne:()=>bt,p$:()=>W,pd:()=>qn,q4:()=>Ae,r3:()=>vn,ru:()=>We,tV:()=>G,uI:()=>se,ug:()=>Vt,vZ:()=>bn,w1:()=>mn,w9:()=>Pn,xO:()=>ur,xb:()=>$n,z$:()=>J,zI:()=>le,zd:()=>Wn});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$=function(z,H){if(!z)throw N(H)},N=function(z){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+z)},ee=function(z){const H=[];let P=0;for(let A=0;A<z.length;A++){let D=z.charCodeAt(A);D<128?H[P++]=D:D<2048?(H[P++]=D>>6|192,H[P++]=63&D|128):55296==(64512&D)&&A+1<z.length&&56320==(64512&z.charCodeAt(A+1))?(D=65536+((1023&D)<<10)+(1023&z.charCodeAt(++A)),H[P++]=D>>18|240,H[P++]=D>>12&63|128,H[P++]=D>>6&63|128,H[P++]=63&D|128):(H[P++]=D>>12|224,H[P++]=D>>6&63|128,H[P++]=63&D|128)}return H},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,H){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,A=[];for(let D=0;D<z.length;D+=3){const j=z[D],K=D+1<z.length,ge=K?z[D+1]:0,$e=D+2<z.length,Ye=$e?z[D+2]:0;let kt=(15&ge)<<2|Ye>>6,Dt=63&Ye;$e||(Dt=64,K||(kt=64)),A.push(P[j>>2],P[(3&j)<<4|ge>>4],P[kt],P[Dt])}return A.join("")},encodeString(z,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(z):this.encodeByteArray(ee(z),H)},decodeString(z,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(z):function(z){const H=[];let P=0,A=0;for(;P<z.length;){const D=z[P++];if(D<128)H[A++]=String.fromCharCode(D);else if(D>191&&D<224){const j=z[P++];H[A++]=String.fromCharCode((31&D)<<6|63&j)}else if(D>239&&D<365){const $e=((7&D)<<18|(63&z[P++])<<12|(63&z[P++])<<6|63&z[P++])-65536;H[A++]=String.fromCharCode(55296+($e>>10)),H[A++]=String.fromCharCode(56320+(1023&$e))}else{const j=z[P++],K=z[P++];H[A++]=String.fromCharCode((15&D)<<12|(63&j)<<6|63&K)}}return H.join("")}(this.decodeStringToByteArray(z,H))},decodeStringToByteArray(z,H){this.init_();const P=H?this.charToByteMapWebSafe_:this.charToByteMap_,A=[];for(let D=0;D<z.length;){const j=P[z.charAt(D++)],ge=D<z.length?P[z.charAt(D)]:0;++D;const Ye=D<z.length?P[z.charAt(D)]:64;++D;const et=D<z.length?P[z.charAt(D)]:64;if(++D,null==j||null==ge||null==Ye||null==et)throw new _e;A.push(j<<2|ge>>4),64!==Ye&&(A.push(ge<<4&240|Ye>>2),64!==et&&A.push(Ye<<6&192|et))}return A},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fe=function(z){const H=ee(z);return ae.encodeByteArray(H,!0)},me=function(z){return fe(z).replace(/\./g,"")},G=function(z){try{return ae.decodeString(z,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function W(z){return Q(void 0,z)}function Q(z,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return H}for(const P in H)!H.hasOwnProperty(P)||!Oe(P)||(z[P]=Q(z[P],H[P]));return z}function Oe(z){return"__proto__"!==z}const be=()=>{try{return function ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=z&&G(z[1]);return H&&JSON.parse(H)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},Ae=z=>{var H,P;return null===(P=null===(H=be())||void 0===H?void 0:H.emulatorHosts)||void 0===P?void 0:P[z]},Me=z=>{const H=Ae(z);if(!H)return;const P=H.lastIndexOf(":");if(P<=0||P+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const A=parseInt(H.substring(P+1),10);return"["===H[0]?[H.substring(1,P-1),A]:[H.substring(0,P),A]},xe=()=>{var z;return null===(z=be())||void 0===z?void 0:z.config},Re=z=>{var H;return null===(H=be())||void 0===H?void 0:H[`_${z}`]};class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,P)=>{this.resolve=H,this.reject=P})}wrapCallback(H){return(P,A)=>{P?this.reject(P):this.resolve(A),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(P):H(P,A))}}}function Ge(z,H){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const A=H||"demo-project",D=z.iat||0,j=z.sub||z.user_id;if(!j)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const K=Object.assign({iss:`https://securetoken.google.com/${A}`,aud:A,iat:D,exp:D+3600,auth_time:D,sub:j,user_id:j,firebase:{sign_in_provider:"custom",identities:{}}},z);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(K)),""].join(".")}function J(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function Ee(){var z;const H=null===(z=be())||void 0===z?void 0:z.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Xe(){return"object"==typeof self&&self.self===self}function We(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mn(){const z=J();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Rn(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function re(){try{return"object"==typeof indexedDB}catch{return!1}}function oe(){return new Promise((z,H)=>{try{let P=!0;const A="validate-browser-context-for-indexeddb-analytics-module",D=self.indexedDB.open(A);D.onsuccess=()=>{D.result.close(),P||self.indexedDB.deleteDatabase(A),z(!0)},D.onupgradeneeded=()=>{P=!1},D.onerror=()=>{var j;H((null===(j=D.error)||void 0===j?void 0:j.message)||"")}}catch(P){H(P)}})}function le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ze extends Error{constructor(H,P,A){super(P),this.code=H,this.customData=A,this.name="FirebaseError",Object.setPrototypeOf(this,ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(H,P,A){this.service=H,this.serviceName=P,this.errors=A}create(H,...P){const A=P[0]||{},D=`${this.service}/${H}`,j=this.errors[H],K=j?function Ze(z,H){return z.replace(je,(P,A)=>{const D=H[A];return null!=D?String(D):`<${A}?>`})}(j,A):"Error";return new ze(D,`${this.serviceName}: ${K} (${D}).`,A)}}const je=/\{\$([^}]+)}/g;function en(z){return JSON.parse(z)}function _t(z){return JSON.stringify(z)}const Ht=function(z){let H={},P={},A={},D="";try{const j=z.split(".");H=en(G(j[0])||""),P=en(G(j[1])||""),D=j[2],A=P.d||{},delete P.d}catch{}return{header:H,claims:P,data:A,signature:D}},Pn=function(z){const P=Ht(z).claims;return!!P&&"object"==typeof P&&P.hasOwnProperty("iat")},In=function(z){const H=Ht(z).claims;return"object"==typeof H&&!0===H.admin};function vn(z,H){return Object.prototype.hasOwnProperty.call(z,H)}function wn(z,H){if(Object.prototype.hasOwnProperty.call(z,H))return z[H]}function $n(z){for(const H in z)if(Object.prototype.hasOwnProperty.call(z,H))return!1;return!0}function pn(z,H,P){const A={};for(const D in z)Object.prototype.hasOwnProperty.call(z,D)&&(A[D]=H.call(P,z[D],D,z));return A}function bn(z,H){if(z===H)return!0;const P=Object.keys(z),A=Object.keys(H);for(const D of P){if(!A.includes(D))return!1;const j=z[D],K=H[D];if(ot(j)&&ot(K)){if(!bn(j,K))return!1}else if(j!==K)return!1}for(const D of A)if(!P.includes(D))return!1;return!0}function ot(z){return null!==z&&"object"==typeof z}function ur(z){const H=[];for(const[P,A]of Object.entries(z))Array.isArray(A)?A.forEach(D=>{H.push(encodeURIComponent(P)+"="+encodeURIComponent(D))}):H.push(encodeURIComponent(P)+"="+encodeURIComponent(A));return H.length?"&"+H.join("&"):""}function Wn(z){const H={};return z.replace(/^\?/,"").split("&").forEach(A=>{if(A){const[D,j]=A.split("=");H[decodeURIComponent(D)]=decodeURIComponent(j)}}),H}function qn(z){const H=z.indexOf("?");if(!H)return"";const P=z.indexOf("#",H);return z.substring(H,P>0?P:void 0)}class Hn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,P){P||(P=0);const A=this.W_;if("string"==typeof H)for(let et=0;et<16;et++)A[et]=H.charCodeAt(P)<<24|H.charCodeAt(P+1)<<16|H.charCodeAt(P+2)<<8|H.charCodeAt(P+3),P+=4;else for(let et=0;et<16;et++)A[et]=H[P]<<24|H[P+1]<<16|H[P+2]<<8|H[P+3],P+=4;for(let et=16;et<80;et++){const kt=A[et-3]^A[et-8]^A[et-14]^A[et-16];A[et]=4294967295&(kt<<1|kt>>>31)}let Ye,dt,D=this.chain_[0],j=this.chain_[1],K=this.chain_[2],ge=this.chain_[3],$e=this.chain_[4];for(let et=0;et<80;et++){et<40?et<20?(Ye=ge^j&(K^ge),dt=1518500249):(Ye=j^K^ge,dt=1859775393):et<60?(Ye=j&K|ge&(j|K),dt=2400959708):(Ye=j^K^ge,dt=3395469782);const kt=(D<<5|D>>>27)+Ye+$e+dt+A[et]&4294967295;$e=ge,ge=K,K=4294967295&(j<<30|j>>>2),j=D,D=kt}this.chain_[0]=this.chain_[0]+D&4294967295,this.chain_[1]=this.chain_[1]+j&4294967295,this.chain_[2]=this.chain_[2]+K&4294967295,this.chain_[3]=this.chain_[3]+ge&4294967295,this.chain_[4]=this.chain_[4]+$e&4294967295}update(H,P){if(null==H)return;void 0===P&&(P=H.length);const A=P-this.blockSize;let D=0;const j=this.buf_;let K=this.inbuf_;for(;D<P;){if(0===K)for(;D<=A;)this.compress_(H,D),D+=this.blockSize;if("string"==typeof H){for(;D<P;)if(j[K]=H.charCodeAt(D),++K,++D,K===this.blockSize){this.compress_(j),K=0;break}}else for(;D<P;)if(j[K]=H[D],++K,++D,K===this.blockSize){this.compress_(j),K=0;break}}this.inbuf_=K,this.total_+=P}digest(){const H=[];let P=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let D=this.blockSize-1;D>=56;D--)this.buf_[D]=255&P,P/=256;this.compress_(this.buf_);let A=0;for(let D=0;D<5;D++)for(let j=24;j>=0;j-=8)H[A]=this.chain_[D]>>j&255,++A;return H}}function bt(z,H){const P=new ft(z,H);return P.subscribe.bind(P)}class ft{constructor(H,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{H(this)}).catch(A=>{this.error(A)})}next(H){this.forEachObserver(P=>{P.next(H)})}error(H){this.forEachObserver(P=>{P.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,P,A){let D;if(void 0===H&&void 0===P&&void 0===A)throw new Error("Missing Observer.");D=function hn(z,H){if("object"!=typeof z||null===z)return!1;for(const P of H)if(P in z&&"function"==typeof z[P])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:P,complete:A},void 0===D.next&&(D.next=ln),void 0===D.error&&(D.error=ln),void 0===D.complete&&(D.complete=ln);const j=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?D.error(this.finalError):D.complete()}catch{}}),this.observers.push(D),j}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,H)}sendOne(H,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{P(this.observers[H])}catch(A){typeof console<"u"&&console.error&&console.error(A)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}const _n=function(z,H,P,A){let D;if(A<H?D="at least "+H:A>P&&(D=0===P?"none":"no more than "+P),D)throw new Error(z+" failed: Was called with "+A+(1===A?" argument.":" arguments.")+" Expects "+D+".")};function zn(z,H){return`${z} failed: ${H} argument `}function Sr(z,H,P,A){if((!A||P)&&"function"!=typeof P)throw new Error(zn(z,H)+"must be a valid function.")}function Rt(z,H,P,A){if((!A||P)&&("object"!=typeof P||null===P))throw new Error(zn(z,H)+"must be a valid context object.")}const _r=function(z){const H=[];let P=0;for(let A=0;A<z.length;A++){let D=z.charCodeAt(A);if(D>=55296&&D<=56319){const j=D-55296;A++,$(A<z.length,"Surrogate pair missing trail surrogate."),D=65536+(j<<10)+(z.charCodeAt(A)-56320)}D<128?H[P++]=D:D<2048?(H[P++]=D>>6|192,H[P++]=63&D|128):D<65536?(H[P++]=D>>12|224,H[P++]=D>>6&63|128,H[P++]=63&D|128):(H[P++]=D>>18|240,H[P++]=D>>12&63|128,H[P++]=D>>6&63|128,H[P++]=63&D|128)}return H},Vt=function(z){let H=0;for(let P=0;P<z.length;P++){const A=z.charCodeAt(P);A<128?H++:A<2048?H+=2:A>=55296&&A<=56319?(H+=4,P++):H+=3}return H},Ln=1e3,Ve=2,Ie=144e5,rt=.5;function yt(z,H=Ln,P=Ve){const A=H*Math.pow(P,z),D=Math.round(rt*A*(Math.random()-.5)*2);return Math.min(Ie,A+D)}function Vn(z){return z&&z._delegate?z._delegate:z}},6649:(pt,Te,F)=>{var d=F(4650);let $=null;function N(){return $}class de{}const ae=new d.OlP("DocumentToken");let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function fe(){return(0,d.LFG)(G)}()},providedIn:"platform"}),n})(),G=(()=>{class n extends _e{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){W()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){W()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Q(){return new G((0,d.LFG)(ae))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ve(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let nt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(be)},providedIn:"root"}),n})();const ye=new d.OlP("appBaseHref");let be=(()=>{class n extends nt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Be(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+Be(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+Be(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(_e),d.LFG(ye,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Me=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ve(De(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Be(r))}normalize(t){return n.stripTrailingSlash(function Re(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,De(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Be,n.joinWithSlash=Oe,n.stripTrailingSlash=ve,n.\u0275fac=function(t){return new(t||n)(d.LFG(nt))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function xe(){return new Me((0,d.LFG)(nt))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}function Pr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}const ji=/\s+/,$i=[];let it=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=$i,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ji):$i}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ji):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ji).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Hi{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sr=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Hi(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,u),is(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{is(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function is(n,e){n.context.$implicit=e.item}let ss=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new lo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ut("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ut("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class lo{constructor(){this.$implicit=null,this.ngIf=null}}function Ut(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let ci=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();class ya{}var Ki=F(7669),dr=F(8996);function gt(...n){const e=(0,Ki.yG)(n);return(0,dr.D)(n,e)}var Pi=F(9751),wr=F(5577),Uo=F(576);function Bo(n,e){return(0,Uo.m)(e)?(0,wr.z)(n,e,1):(0,wr.z)(n,1)}var ri=F(4482),er=F(5403);function jo(n,e){return(0,ri.e)((t,r)=>{let i=0;t.subscribe((0,er.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var xt=F(4004);class Eu{}class Cf{}class Zi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Zi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Zi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Zi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Er{encodeKey(e){return dl(e)}encodeValue(e){return dl(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const $o=/%(\d[a-f0-9])/gi,Df={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dl(n){return encodeURIComponent(n).replace($o,(e,t)=>Df[t]??e)}function Ho(n){return`${n}`}class ho{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Er,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bf(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[u,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],m=t.get(u)||[];m.push(f),t.set(u,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Ho):[Ho(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ho({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Ho(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Ho(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Cd{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Tf(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Go(n){return typeof Blob<"u"&&n instanceof Blob}function va(n){return typeof FormData<"u"&&n instanceof FormData}class ii{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function zo(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Zi),this.context||(this.context=new Cd),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new ho,this.urlWithParams=t}serializeBody(){return null===this.body?null:Tf(this.body)||Go(this.body)||va(this.body)||function Fm(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ho?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||va(this.body)?null:Go(this.body)?this.body.type||null:Tf(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ho?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,v=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((S,R)=>S.set(R,e.setHeaders[R]),m)),e.setParams&&(v=Object.keys(e.setParams).reduce((S,R)=>S.set(R,e.setParams[R]),v)),new ii(t,r,a,{params:v,headers:m,context:b,reportProgress:f,responseType:i,withCredentials:u})}}var hr=(()=>((hr=hr||{})[hr.Sent=0]="Sent",hr[hr.UploadProgress=1]="UploadProgress",hr[hr.ResponseHeader=2]="ResponseHeader",hr[hr.DownloadProgress=3]="DownloadProgress",hr[hr.Response=4]="Response",hr[hr.User=5]="User",hr))();class fo{constructor(e,t=200,r="OK"){this.headers=e.headers||new Zi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class hl extends fo{constructor(e={}){super(e),this.type=hr.ResponseHeader}clone(e={}){return new hl({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Wo extends fo{constructor(e={}){super(e),this.type=hr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Wo({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fl extends fo{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function pl(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Lm=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof ii)a=t;else{let m,v;m=i.headers instanceof Zi?i.headers:new Zi(i.headers),i.params&&(v=i.params instanceof ho?i.params:new ho({fromObject:i.params})),a=new ii(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=gt(a).pipe(Bo(m=>this.handler.handle(m)));if(t instanceof ii||"events"===i.observe)return u;const f=u.pipe(jo(m=>m instanceof Wo));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,xt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,xt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,xt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,xt.U)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ho).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,pl(i,r))}post(t,r,i={}){return this.request("POST",t,pl(i,r))}put(t,r,i={}){return this.request("PUT",t,pl(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Eu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Sf(n,e){return e(n)}const gl=new d.OlP("HTTP_INTERCEPTOR_FNS");let Ds=(()=>{class n extends Eu{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(gl)));this.chain=r.reduceRight((i,a)=>function Af(n,e,t){return(r,i)=>t.runInContext(()=>e(r,a=>n(a,i)))}(i,a,this.injector),Sf)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cf),d.LFG(d.lqb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const wa=/^\)\]\}',?\n/;let Td=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pi.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((B,q)=>i.setRequestHeader(B,q.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&i.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();i.responseType="json"!==B?B:"text"}const a=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const B=i.statusText||"OK",q=new Zi(i.getAllResponseHeaders()),he=function Ea(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new hl({headers:q,status:i.status,statusText:B,url:he}),u},m=()=>{let{headers:B,status:q,statusText:he,url:Se}=f(),ct=null;204!==q&&(ct=typeof i.response>"u"?i.responseText:i.response),0===q&&(q=ct?200:0);let wt=q>=200&&q<300;if("json"===t.responseType&&"string"==typeof ct){const Ot=ct;ct=ct.replace(wa,"");try{ct=""!==ct?JSON.parse(ct):null}catch(cn){ct=Ot,wt&&(wt=!1,ct={error:cn,text:ct})}}wt?(r.next(new Wo({body:ct,headers:B,status:q,statusText:he,url:Se||void 0})),r.complete()):r.error(new fl({error:ct,headers:B,status:q,statusText:he,url:Se||void 0}))},v=B=>{const{url:q}=f(),he=new fl({error:B,status:i.status||0,statusText:i.statusText||"Unknown Error",url:q||void 0});r.error(he)};let b=!1;const S=B=>{b||(r.next(f()),b=!0);let q={type:hr.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(q.total=B.total),"text"===t.responseType&&i.responseText&&(q.partialText=i.responseText),r.next(q)},R=B=>{let q={type:hr.UploadProgress,loaded:B.loaded};B.lengthComputable&&(q.total=B.total),r.next(q)};return i.addEventListener("load",m),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",S),null!==a&&i.upload&&i.upload.addEventListener("progress",R)),i.send(a),r.next({type:hr.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",m),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",S),null!==a&&i.upload&&i.upload.removeEventListener("progress",R)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ya))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const vl=new d.OlP("XSRF_ENABLED"),Um=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Bn=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Sd{}let z0=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Pr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae),d.LFG(d.Lbi),d.LFG(Um))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Pf(n,e){const t=n.url.toLowerCase();if(!(0,d.f3M)(vl)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,d.f3M)(Sd).getToken(),i=(0,d.f3M)(Bn);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Wt=F(462),Ia=F(8421);function Ir(n,e){return(0,ri.e)((t,r)=>{let i=null,a=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe((0,er.x)(r,m=>{i?.unsubscribe();let v=0;const b=a++;(0,Ia.Xf)(n(m,b)).subscribe(i=(0,er.x)(r,S=>r.next(e?e(m,S,b,v++):S),()=>{i=null,f()}))},()=>{u=!0,f()}))})}var us=F(7579);var br=F(4671);function Du(n,e=br.y){return n=n??po,(0,ri.e)((t,r)=>{let i,a=!0;t.subscribe((0,er.x)(r,u=>{const f=e(u);(a||!n(i,f))&&(a=!1,i=f,r.next(u))}))})}function po(n,e){return n===e}var Tu=F(8189);function Zo(...n){return function Ff(){return(0,Tu.J)(1)}()((0,dr.D)(n,(0,Ki.yG)(n)))}function Lf(...n){const e=(0,Ki.yG)(n);return(0,ri.e)((t,r)=>{(e?Zo(n,t,e):Zo(n,t)).subscribe(r)})}var hi=F(259);class Ss{constructor(e){return e}}class Yo{constructor(){return(0,hi.C6)()}}const ba=new d.OlP("angularfire2._apps"),Da={provide:Ss,useFactory:function Cl(n){return n&&1===n.length?n[0]:new Ss((0,hi.Mq)())},deps:[[new d.FiY,ba]]},Uf={provide:Yo,deps:[[new d.FiY,ba]]};function Su(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ss(r)}}let Md=(()=>{class n{constructor(t){(0,hi.KN)("angularfire",Wt.q4.full,"core"),(0,hi.KN)("angularfire",Wt.q4.full,"app"),(0,hi.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Da,Uf]}),n})();var xd=F(7582);class Yi extends us.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Sa=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:q0}=Array,{getPrototypeOf:$f,prototype:Hf,keys:zf}=Object;function Dl(n){if(1===n.length){const e=n[0];if(q0(e))return{args:e,keys:null};if(function Pd(n){return n&&"object"==typeof n&&$f(n)===Hf}(e)){const t=zf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Od}=Array;function zm(n){return(0,xt.U)(e=>function Gf(n,e){return Od(e)?n(...e):n(e)}(n,e))}function Nd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Wf=F(9672);function qf(...n){const e=(0,Ki.yG)(n),t=(0,Ki.jO)(n),{args:r,keys:i}=Dl(n);if(0===r.length)return(0,dr.D)([],e);const a=new Pi.y(function Gm(n,e,t=br.y){return r=>{Tl(e,()=>{const{length:i}=n,a=new Array(i);let u=i,f=i;for(let m=0;m<i;m++)Tl(e,()=>{const v=(0,dr.D)(n[m],e);let b=!1;v.subscribe((0,er.x)(r,S=>{a[m]=S,b||(b=!0,f--),f||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>Nd(i,u):br.y));return t?a.pipe(zm(t)):a}function Tl(n,e,t){n?(0,Wf.f)(t,n,e):e()}function Wm(n){return new Pi.y(e=>{(0,Ia.Xf)(n()).subscribe(e)})}var kd=F(9635);function Qo(n,e){const t=(0,Uo.m)(n)?n:()=>n,r=i=>i.error(t());return new Pi.y(e?i=>e.schedule(r,0,i):r)}var Jo=F(515),qm=F(727);function Kf(){return(0,ri.e)((n,e)=>{let t=null;n._refCount++;const r=(0,er.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Km extends Pi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ri.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qm.w0;const t=this.getSubject();e.add(this.source.subscribe((0,er.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qm.w0.EMPTY)}return e}refCount(){return Kf()(this)}}function Fd(n){return n<=0?()=>Jo.E:(0,ri.e)((e,t)=>{let r=0;e.subscribe((0,er.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Mu(n){return(0,ri.e)((e,t)=>{let r=!1;e.subscribe((0,er.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ld(n=Sl){return(0,ri.e)((e,t)=>{let r=!1;e.subscribe((0,er.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Sl(){return new Sa}function As(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jo((i,a)=>n(i,a,r)):br.y,Fd(1),t?Mu(e):Ld(()=>new Sa))}var Kr=F(8505);function zs(n){return(0,ri.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,er.x)(t,void 0,void 0,u=>{a=(0,Ia.Xf)(n(u,zs(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function xu(n,e){return(0,ri.e)(function Ms(n,e,t,r,i){return(a,u)=>{let f=t,m=e,v=0;a.subscribe((0,er.x)(u,b=>{const S=v++;m=f?n(m,b,S):(f=!0,b),r&&u.next(m)},i&&(()=>{f&&u.next(m),u.complete()})))}}(n,e,arguments.length>=2,!0))}function Ru(n){return n<=0?()=>Jo.E:(0,ri.e)((e,t)=>{let r=[];e.subscribe((0,er.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Zf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jo((i,a)=>n(i,a,r)):br.y,Ru(1),t?Mu(e):Ld(()=>new Sa))}function Ud(n){return(0,ri.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Bd extends de{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jd extends Bd{static makeCurrent(){!function ee(n){$||($=n)}(new jd)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zm(){return go=go||document.querySelector("base"),go?go.getAttribute("href"):null}();return null==t?null:function yi(n){Al=Al||document.createElement("a"),Al.setAttribute("href",n);const e=Al.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){go=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Pr(document.cookie,e)}}let Al,go=null,Aa=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const mo=new d.OlP("EventManagerPlugins");let Ma=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(mo),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class $d{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Hd=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),xl=(()=>{class n extends Hd{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Pu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zd=/%COMP%/g,g=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function M(n,e){return e.flat(100).map(t=>t.replace(zd,n))}function k(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let te=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Pe(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Gs?i.applyToHost(t):i instanceof vi&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const u=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestory;switch(r.encapsulation){case d.ifc.Emulated:a=new Gs(u,f,r,this.appId,m);break;case d.ifc.ShadowDom:return new tr(u,f,t,r);default:a=new vi(u,f,r,m)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ma),d.LFG(xl),d.LFG(d.AFp),d.LFG(g))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Pe{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Pu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Xt(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Xt(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Pu[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Pu[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,k(r)):this.eventManager.addEventListener(e,t,k(r))}}function Xt(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class tr extends Pe{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=M(i.id,i.styles);for(const u of a){const f=document.createElement("style");f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vi extends Pe{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=M(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Gs extends vi{constructor(e,t,r,i,a){const u=i+"-"+r.id;super(e,t,r,a,u),this.contentAttr=function _(n){return"_ngcontent-%COMP%".replace(zd,n)}(u),this.hostAttr=function E(n){return"_nghost-%COMP%".replace(zd,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Ou=(()=>{class n extends $d{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Kd=["alt","control","meta","shift"],Zd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Xf=(()=>{class n extends $d{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),u="code."),Kd.forEach(v=>{const b=r.indexOf(v);b>-1&&(r.splice(b,1),u+=v+".")}),u+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=i,m.fullKey=u,m}static matchEventFullKeyCode(t,r){let i=Zd[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Kd.forEach(u=>{u!==i&&(0,Jf[u])(t)&&(a+=u+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function xa(n){return{appProviders:[...tP,...n?.providers??[]],platformProviders:Pl}}const Pl=[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Xm(){jd.makeCurrent()},multi:!0},{provide:ae,useFactory:function tp(){return(0,d.RDi)(document),document},deps:[]}],tP=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function ku(){return new d.qLn},deps:[]},{provide:mo,useClass:Ou,multi:!0,deps:[ae,d.R0b,d.Lbi]},{provide:mo,useClass:Xf,multi:!0,deps:[ae]},{provide:te,useClass:te,deps:[Ma,xl,d.AFp,g]},{provide:d.FYo,useExisting:te},{provide:Hd,useExisting:xl},{provide:xl,useClass:xl,deps:[ae]},{provide:Ma,useClass:Ma,deps:[mo,d.R0b]},{provide:ya,useClass:Aa,deps:[]},[]];let Yd=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Y0(){return new Yd((0,d.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const Qt="primary",Fu=Symbol("RouteTitle");class rw{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ol(n){return new rw(n)}function iw(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],f=n[a];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function _o(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!sw(n[i],e[i]))return!1;return!0}function sw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function ow(n){return Array.prototype.concat.apply([],n)}function aw(n){return n.length>0?n[n.length-1]:null}function Ar(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ra(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,dr.D)(Promise.resolve(n)):gt(n)}const r_=!1,dP={exact:function i_(n,e,t){if(!Pa(n.segments,e.segments)||!op(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!i_(n.children[r],e.children[r],t))return!1;return!0},subset:lw},pD={exact:function hP(n,e){return _o(n,e)},subset:function mD(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sw(n[t],e[t]))},ignored:()=>!0};function gD(n,e,t){return dP[t.paths](n.root,e.root,t.matrixParams)&&pD[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function lw(n,e,t){return uw(n,e,e.segments,t)}function uw(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Pa(i,t)||e.hasChildren()||!op(i,t,r))}if(n.segments.length===t.length){if(!Pa(n.segments,t)||!op(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!lw(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Pa(n.segments,i)&&op(n.segments,i,r)&&n.children[Qt])&&uw(n.children[Qt],e,a,r)}}function op(n,e,t){return e.every((r,i)=>pD[t](n[i].parameters,r.parameters))}class yo{constructor(e=new qt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ol(this.queryParams)),this._queryParamMap}toString(){return fP.serialize(this)}}class qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ar(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lu(this)}}class Xo{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ol(this.parameters)),this._parameterMap}toString(){return gw(this)}}function Pa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ap=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new hw},providedIn:"root"}),n})();class hw{parse(e){const t=new a_(e);return new yo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${kl(e.root,!0)}`,r=function up(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${s_(t)}=${s_(i)}`).join("&"):`${s_(t)}=${s_(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function fw(n){return encodeURI(n)}(e.fragment)}`:""}`}}const fP=new hw;function Lu(n){return n.segments.map(e=>gw(e)).join("/")}function kl(n,e){if(!n.hasChildren())return Lu(n);if(e){const t=n.children[Qt]?kl(n.children[Qt],!1):"",r=[];return Ar(n.children,(i,a)=>{a!==Qt&&r.push(`${a}:${kl(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function dw(n,e){let t=[];return Ar(n.children,(r,i)=>{i===Qt&&(t=t.concat(e(r,i)))}),Ar(n.children,(r,i)=>{i!==Qt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Qt?[kl(n.children[Qt],!1)]:[`${i}:${kl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qt]?`${Lu(n)}/${t[0]}`:`${Lu(n)}/(${t.join("//")})`}}function _D(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function s_(n){return _D(n).replace(/%3B/gi,";")}function o_(n){return _D(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lp(n){return decodeURIComponent(n)}function pw(n){return lp(n.replace(/\+/g,"%20"))}function gw(n){return`${o_(n.path)}${function mw(n){return Object.keys(n).map(e=>`;${o_(e)}=${o_(n[e])}`).join("")}(n.parameters)}`}const yD=/^[^\/()?;=#]+/;function Vu(n){const e=n.match(yD);return e?e[0]:""}const vD=/^[^=?&#]+/,wD=/^[^&#]+/;class a_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Qt]=new qt(e,t)),r}parseSegment(){const e=Vu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,r_);return this.capture(e),new Xo(lp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Vu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Vu(this.remaining);i&&(r=i,this.capture(r))}e[lp(t)]=lp(r)}parseQueryParam(e){const t=function Lr(n){const e=n.match(vD);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function ED(n){const e=n.match(wD);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=pw(t),a=pw(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Vu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,r_);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Qt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Qt]:new qt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,r_)}}function cp(n){return n.segments.length>0?new qt([],{[Qt]:n}):n}function dp(n){const e={};for(const r of Object.keys(n.children)){const a=dp(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function CD(n){if(1===n.numberOfChildren&&n.children[Qt]){const e=n.children[Qt];return new qt(n.segments.concat(e.segments),e.children)}return n}(new qt(n.segments,e))}function Fl(n){return n instanceof yo}const l_=!1;function Xd(n,e,t,r,i){if(0===t.length)return Vl(e.root,e.root,e.root,r,i);const a=function c_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _w(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Ar(a.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new _w(t,e,r)}(t);return a.toRoot()?Vl(e.root,e.root,new qt([],{}),r,i):function u(m){const v=function d_(n,e,t,r){if(n.isAbsolute)return new Ul(e.root,!0,0);if(-1===r)return new Ul(t,t===e.root,0);return function TD(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new d.vHH(4005,l_&&"Invalid number of '../'");i=r.segments.length}return new Ul(r,!1,i-a)}(t,r+(Ll(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,m),b=v.processChildren?Oa(v.segmentGroup,v.index,a.commands):f_(v.segmentGroup,v.index,a.commands);return Vl(e.root,v.segmentGroup,b,r,i)}(n.snapshot?._lastPathIndex)}function Ll(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Uu(n){return"object"==typeof n&&null!=n&&n.outlets}function Vl(n,e,t,r,i){let u,a={};r&&Ar(r,(m,v)=>{a[v]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`}),u=n===e?t:u_(n,e,t);const f=cp(dp(u));return new yo(f,a,i)}function u_(n,e,t){const r={};return Ar(n.children,(i,a)=>{r[a]=i===e?t:u_(i,e,t)}),new qt(n.segments,r)}class _w{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ll(r[0]))throw new d.vHH(4003,l_&&"Root segment cannot have matrix parameters");const i=r.find(Uu);if(i&&i!==aw(r))throw new d.vHH(4004,l_&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ul{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function f_(n,e,t){if(n||(n=new qt([],{})),0===n.segments.length&&n.hasChildren())return Oa(n,e,t);const r=function vw(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],f=t[r];if(Uu(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!fp(m,v,u))return a;r+=2}else{if(!fp(m,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new qt(n.segments.slice(0,r.pathIndex),{});return a.children[Qt]=new qt(n.segments.slice(r.pathIndex),n.children),Oa(a,0,i)}return r.match&&0===i.length?new qt(n.segments,{}):r.match&&!n.hasChildren()?hp(n,e,t):r.match?Oa(n,0,i):hp(n,e,t)}function Oa(n,e,t){if(0===t.length)return new qt(n.segments,{});{const r=function h_(n){return Uu(n[0])?n[0].outlets:{[Qt]:n}}(t),i={};return!r[Qt]&&n.children[Qt]&&1===n.numberOfChildren&&0===n.children[Qt].segments.length?Oa(n.children[Qt],e,t):(Ar(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=f_(n.children[u],e,a))}),Ar(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new qt(n.segments,i))}}function hp(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Uu(a)){const m=Bl(a.outlets);return new qt(r,m)}if(0===i&&Ll(t[0])){r.push(new Xo(n.segments[e].path,ww(t[0]))),i++;continue}const u=Uu(a)?a.outlets[Qt]:`${a}`,f=i<t.length-1?t[i+1]:null;u&&f&&Ll(f)?(r.push(new Xo(u,ww(f))),i+=2):(r.push(new Xo(u,{})),i++)}return new qt(r,{})}function Bl(n){const e={};return Ar(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=hp(new qt([],{}),0,t))}),e}function ww(n){const e={};return Ar(n,(t,r)=>e[r]=`${t}`),e}function fp(n,e,t){return n==t.path&&_o(e,t.parameters)}const Na="imperative";class vo{constructor(e,t){this.id=e,this.url=t}}class pp extends vo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ka extends vo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wo extends vo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eh extends vo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class th extends vo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SD extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AD extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ew extends vo{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bu extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MD extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xD{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RD{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class p_{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PD{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cw{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}let nh=(()=>{class n{createUrlTree(t,r,i,a,u,f){return Xd(t||r.root,i,a,u,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ju=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(e){return nh.\u0275fac(e)},providedIn:"root"}),n})();class $u{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=g_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=g_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gp(e,this._root).map(t=>t.value)}}function g_(n,e){if(n===e.value)return e;for(const t of e.children){const r=g_(n,t);if(r)return r}return null}function gp(n,e){if(n===e.value)return[e];for(const t of e.children){const r=gp(n,t);if(r.length)return r.unshift(e),r}return[]}class ea{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Hu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bw extends $u{constructor(e,t){super(e),this.snapshot=t,__(this,e)}toString(){return this.snapshot.toString()}}function m_(n,e){const t=function Dw(n,e){const u=new zu([],{},{},"",{},Qt,e,null,n.root,-1,{});return new Gu("",new ea(u,[]))}(n,e),r=new Yi([new Xo("",{})]),i=new Yi({}),a=new Yi({}),u=new Yi({}),f=new Yi(""),m=new Fa(r,i,u,f,a,Qt,e,t.root);return m.snapshot=t.root,new bw(new ea(m,[]),t)}class Fa{constructor(e,t,r,i,a,u,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,xt.U)(v=>v[Fu]))??gt(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>Ol(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>Ol(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mp(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function FD(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class zu{get title(){return this.data?.[Fu]}constructor(e,t,r,i,a,u,f,m,v,b,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=b,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ol(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ol(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gu extends $u{constructor(e,t){super(t),this.url=e,__(this,t)}toString(){return Tw(this._root)}}function __(n,e){e.value._routerState=n,e.children.forEach(t=>__(n,t))}function Tw(n){const e=n.children.length>0?` { ${n.children.map(Tw).join(", ")} } `:"";return`${n.value}${e}`}function y_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_o(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),_o(e.params,t.params)||n.params.next(t.params),function fD(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_o(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),_o(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function v_(n,e){const t=_o(n.params,e.params)&&function cw(n,e){return Pa(n,e)&&n.every((t,r)=>_o(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||v_(n.parent,e.parent))}function rh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function VD(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return rh(n,r,i);return rh(n,r)})}(n,e,t);return new ea(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>rh(n,f)),u}}const r=function Wu(n){return new Fa(new Yi(n.url),new Yi(n.params),new Yi(n.queryParams),new Yi(n.fragment),new Yi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>rh(n,a));return new ea(r,i)}}const qs="ngNavigationCancelingError";function Sw(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Fl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Aw(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Aw(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[qs]=!0,r.cancellationCode=e,t&&(r.url=t),r}function UD(n){return BD(n)&&Fl(n.url)}function BD(n){return n&&n[qs]}class Mw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _p,this.attachRef=null}}let _p=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Mw,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ih=!1;let w_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(_p),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,ih);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,ih);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,ih);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,ih);this._activatedRoute=t;const i=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new jD(t,f,i.injector);if(r&&function xw(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(u);this.activated=i.createComponent(v,i.length,m)}else this.activated=i.createComponent(u,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class jD{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Fa?this.route:e===_p?this.childContexts:this.parent.get(e,t)}}let E_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[w_],encapsulation:2}),n})();function Rw(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function I_(n){const e=n.children&&n.children.map(I_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Qt&&(t.component=E_),t}function xs(n){return n.outlet||Qt}function Ow(n,e){const t=n.filter(r=>xs(r)===e);return t.push(...n.filter(r=>xs(r)!==e)),t}function jt(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class kw{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),y_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Hu(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),Ar(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Hu(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Hu(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Hu(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Iw(a.value.snapshot))}),e.children.length&&this.forwardEvent(new PD(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(y_(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),y_(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=jt(i.snapshot),m=f?.get(d._Vd)??null;u.attachRef=null,u.route=i,u.resolver=m,u.injector=f,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class b_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yp{constructor(e,t){this.component=e,this.route=t}}function GD(n,e,t){const r=n._root;return Ku(r,e?e._root:null,t,[r.value])}function qu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function Ku(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Hu(e);return n.children.forEach(u=>{(function WD(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const m=function qD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Pa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Pa(n.url,e.url)||!_o(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!v_(n,e)||!_o(n.queryParams,e.queryParams);default:return!v_(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new b_(r)):(a.data=u.data,a._resolvedData=u._resolvedData),Ku(n,e,a.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new yp(f.outlet.component,u))}else u&&vp(e,f,i),i.canActivateChecks.push(new b_(r)),Ku(n,null,a.component?f?f.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),Ar(a,(u,f)=>vp(u,t.getContext(f),i)),i}function vp(n,e,t){const r=Hu(n),i=n.value;Ar(r,(a,u)=>{vp(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new yp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Zu(n){return"function"==typeof n}function Vw(n){return n instanceof Sa||"EmptyError"===n?.name}const wp=Symbol("INITIAL_VALUE");function $l(){return Ir(n=>qf(n.map(e=>e.pipe(Fd(1),Lf(wp)))).pipe((0,xt.U)(e=>{for(const t of e)if(!0!==t){if(t===wp)return wp;if(!1===t||t instanceof yo)return t}return!0}),jo(e=>e!==wp),Fd(1)))}function jw(n){return(0,kd.z)((0,Kr.b)(e=>{if(Fl(e))throw Sw(0,e)}),(0,xt.U)(e=>!0===e))}const S_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $w(n,e,t,r,i){const a=Cp(n,e,t);return a.matched?function eT(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?gt(i.map(u=>{const f=qu(u,n);return Ra(function ZD(n){return n&&Zu(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe($l(),jw()):gt(!0)}(r=Rw(e,r),e,t).pipe((0,xt.U)(u=>!0===u?a:{...S_})):gt(a)}function Cp(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...S_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||iw)(t,n,e);if(!i)return{...S_};const a={};Ar(i.posParams,(f,m)=>{a[m]=f.path});const u=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Ip(n,e,t,r){if(t.length>0&&function A_(n,e,t){return t.some(r=>Qu(n,e,r)&&xs(r)!==Qt)}(n,t,r)){const a=new qt(e,function zw(n,e,t,r){const i={};i[Qt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&xs(a)!==Qt){const u=new qt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[xs(a)]=u}return i}(n,e,r,new qt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function vP(n,e,t){return t.some(r=>Qu(n,e,r))}(n,t,r)){const a=new qt(n.segments,function Hw(n,e,t,r,i){const a={};for(const u of r)if(Qu(n,t,u)&&!i[xs(u)]){const f=new qt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[xs(u)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new qt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Qu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Gw(n,e,t,r){return!!(xs(n)===r||r!==Qt&&Qu(e,t,n))&&("**"===n.path||Cp(e,n,t).matched)}function tT(n,e,t){return 0===e.length&&!n.children[t]}const ta=!1;class bp{constructor(e){this.segmentGroup=e||null}}class Ww{constructor(e){this.urlTree=e}}function Ju(n){return Qo(new bp(n))}function qw(n){return Qo(new Ww(n))}class M_{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Ip(this.urlTree.root,[],[],this.config).segmentGroup,t=new qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Qt).pipe((0,xt.U)(a=>this.createUrlTree(dp(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zs(a=>{if(a instanceof Ww)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof bp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Qt).pipe((0,xt.U)(i=>this.createUrlTree(dp(i),e.queryParams,e.fragment))).pipe(zs(i=>{throw i instanceof bp?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,ta)}createUrlTree(e,t,r){const i=cp(e);return new yo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,xt.U)(a=>new qt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,dr.D)(i).pipe(Bo(a=>{const u=r.children[a],f=Ow(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,xt.U)(m=>({segment:m,outlet:a})))}),xu((a,u)=>(a[u.outlet]=u.segment,a),{}),Zf())}expandSegment(e,t,r,i,a,u){return(0,dr.D)(r).pipe(Bo(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,u).pipe(zs(v=>{if(v instanceof bp)return gt(null);throw v}))),As(f=>!!f),zs((f,m)=>{if(Vw(f))return tT(t,i,a)?gt(new qt([],{})):Ju(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,u,f){return Gw(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):Ju(t):Ju(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?qw(a):this.lineralizeSegments(r,a).pipe((0,wr.z)(u=>{const f=new qt(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:b}=Cp(t,i,a);if(!f)return Ju(t);const S=this.applyRedirectCommands(m,i.redirectTo,b);return i.redirectTo.startsWith("/")?qw(S):this.lineralizeSegments(i,S).pipe((0,wr.z)(R=>this.expandSegment(e,t,r,R.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Rw(r,e),r.loadChildren?(r._loadedRoutes?gt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,xt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new qt(i,{})))):gt(new qt(i,{}))):$w(t,r,i,e).pipe(Ir(({matched:u,consumedSegments:f,remainingSegments:m})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,wr.z)(b=>{const S=b.injector??e,R=b.routes,{segmentGroup:B,slicedSegments:q}=Ip(t,f,m,R),he=new qt(B.segments,B.children);if(0===q.length&&he.hasChildren())return this.expandChildren(S,R,he).pipe((0,xt.U)(Ot=>new qt(f,Ot)));if(0===R.length&&0===q.length)return gt(new qt(f,{}));const Se=xs(r)===a;return this.expandSegment(S,he,R,q,Se?Qt:a,!0).pipe((0,xt.U)(wt=>new qt(f.concat(wt.segments),wt.children)))})):Ju(t)))}getChildConfig(e,t,r){return t.children?gt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?gt({routes:t._loadedRoutes,injector:t._loadedInjector}):function XD(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?gt(!0):gt(i.map(u=>{const f=qu(u,n);return Ra(function jl(n){return n&&Zu(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe($l(),jw())}(e,t,r).pipe((0,wr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Kr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Dp(n){return Qo(Aw(ta,3))}())):gt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return gt(r);if(i.numberOfChildren>1||!i.children[Qt])return e.redirectTo,Qo(new d.vHH(4e3,ta));i=i.children[Qt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new yo(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ar(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return Ar(t.children,(f,m)=>{u[m]=this.createSegmentGroup(e,f,r,i)}),new qt(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,ta);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Sp{}class R_{constructor(e,t,r,i,a,u,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.urlSerializer=f}recognize(){const e=Ip(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Qt).pipe((0,xt.U)(t=>{if(null===t)return null;const r=new zu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Qt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ea(r,t),a=new Gu(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=mp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,dr.D)(Object.keys(r.children)).pipe(Bo(i=>{const a=r.children[i],u=Ow(t,i);return this.processSegmentGroup(e,u,a,i)}),xu((i,a)=>i&&a?(i.push(...a),i):null),function Yf(n,e=!1){return(0,ri.e)((t,r)=>{let i=0;t.subscribe((0,er.x)(r,a=>{const u=n(a,i++);(u||e)&&r.next(a),!u&&r.complete()}))})}(i=>null!==i),Mu(null),Zf(),(0,xt.U)(i=>{if(null===i)return null;const a=Yw(i);return function P_(n){n.sort((e,t)=>e.value.outlet===Qt?-1:t.value.outlet===Qt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,dr.D)(t).pipe(Bo(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,a)),As(u=>!!u),zs(u=>{if(Vw(u))return tT(r,i,a)?gt([]):gt(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Gw(t,r,i,a))return gt(null);let u;if("**"===t.path){const f=i.length>0?aw(i).parameters:{},m=Qw(r)+i.length;u=gt({snapshot:new zu(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,k_(t),xs(t),t.component??t._loadedComponent??null,t,N_(r),m,Jw(t)),consumedSegments:[],remainingSegments:[]})}else u=$w(r,t,i,e).pipe((0,xt.U)(({matched:f,consumedSegments:m,remainingSegments:v,parameters:b})=>{if(!f)return null;const S=Qw(r)+m.length;return{snapshot:new zu(m,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,k_(t),xs(t),t.component??t._loadedComponent??null,t,N_(r),S,Jw(t)),consumedSegments:m,remainingSegments:v}}));return u.pipe(Ir(f=>{if(null===f)return gt(null);const{snapshot:m,consumedSegments:v,remainingSegments:b}=f;e=t._injector??e;const S=t._loadedInjector??e,R=function Zw(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:q}=Ip(r,v,b,R.filter(Se=>void 0===Se.redirectTo));if(0===q.length&&B.hasChildren())return this.processChildren(S,R,B).pipe((0,xt.U)(Se=>null===Se?null:[new ea(m,Se)]));if(0===R.length&&0===q.length)return gt([new ea(m,[])]);const he=xs(t)===a;return this.processSegment(S,R,B,q,he?Qt:a).pipe((0,xt.U)(Se=>null===Se?null:[new ea(m,Se)]))}))}}function O_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Yw(n){const e=[],t=new Set;for(const r of n){if(!O_(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Yw(r.children);e.push(new ea(r.value,i))}return e.filter(r=>!t.has(r))}function N_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function k_(n){return n.data||{}}function Jw(n){return n.resolve||{}}function L_(n){return"string"==typeof n.title||null===n.title}function V_(n){return Ir(e=>{const t=n(e);return t?(0,dr.D)(t).pipe((0,xt.U)(()=>e)):gt(e)})}const Ap=new d.OlP("ROUTES");let U_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return gt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ra(t.loadComponent()).pipe((0,xt.U)(tE),(0,Kr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Ud(()=>{this.componentLoaders.delete(t)})),i=new Km(r,()=>new us.x).pipe(Kf());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return gt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,xt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,b=!1;Array.isArray(f)?v=f:(m=f.create(t).injector,v=ow(m.get(Ap,[],d.XFs.Self|d.XFs.Optional)));return{routes:v.map(I_),injector:m}}),Ud(()=>{this.childrenLoaders.delete(r)})),u=new Km(a,()=>new us.x).pipe(Kf());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return Ra(t()).pipe((0,xt.U)(tE),(0,wr.z)(r=>r instanceof d.YKP||Array.isArray(r)?gt(r):(0,dr.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tE(n){return function aT(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Mp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new us.x,this.configLoader=(0,d.f3M)(U_),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(ap),this.rootContexts=(0,d.f3M)(_p),this.navigationId=0,this.afterPreactivation=()=>gt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new RD(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new xD(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Yi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Na,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jo(r=>0!==r.id),(0,xt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ir(r=>{let i=!1,a=!1;return gt(r).pipe((0,Kr.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ir(u=>{const f=t.browserUrlTree.toString(),m=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!m&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const b="";return this.events.next(new eh(u.id,t.serializeUrl(r.rawUrl),b,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),Jo.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return nE(u.source)&&(t.browserUrlTree=u.extractedUrl),gt(u).pipe(Ir(b=>{const S=this.transitions?.getValue();return this.events.next(new pp(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),S!==this.transitions?.getValue()?Jo.E:Promise.resolve(b)}),function sh(n,e,t,r){return Ir(i=>function Xu(n,e,t,r,i){return new M_(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,xt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Kr.b)(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},r.urlAfterRedirects=b.urlAfterRedirects}),function sT(n,e,t,r,i){return(0,wr.z)(a=>function x_(n,e,t,r,i,a,u="emptyOnly"){return new R_(n,e,t,r,i,u,a).recognize().pipe(Ir(f=>null===f?function Kw(n){return new Pi.y(e=>e.error(n))}(new Sp):gt(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,xt.U)(u=>({...a,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Kr.b)(b=>{if(r.targetSnapshot=b.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!b.extras.skipLocationChange){const R=t.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);t.setBrowserUrl(R,b)}t.browserUrlTree=b.urlAfterRedirects}const S=new SD(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(S)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:b,extractedUrl:S,source:R,restoredState:B,extras:q}=u,he=new pp(b,this.urlSerializer.serialize(S),R,B);this.events.next(he);const Se=m_(S,this.rootComponentType).snapshot;return gt(r={...u,targetSnapshot:Se,urlAfterRedirects:S,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}{const b="";return this.events.next(new eh(u.id,t.serializeUrl(r.extractedUrl),b,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),Jo.E}}),(0,Kr.b)(u=>{const f=new AD(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,xt.U)(u=>r={...u,guards:GD(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function yP(n,e){return(0,wr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?gt({...t,guardsResult:!0}):function YD(n,e,t,r){return(0,dr.D)(n).pipe((0,wr.z)(i=>function Bw(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?gt(a.map(f=>{const m=jt(e)??i,v=qu(f,m);return Ra(function T_(n){return n&&Zu(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(As())})).pipe($l()):gt(!0)}(i.component,i.route,t,e,r)),As(i=>!0!==i,!0))}(u,r,i,n).pipe((0,wr.z)(f=>f&&function Lw(n){return"boolean"==typeof n}(f)?function Yu(n,e,t,r){return(0,dr.D)(e).pipe(Bo(i=>Zo(function Uw(n,e){return null!==n&&e&&e(new p_(n)),gt(!0)}(i.route.parent,r),function QD(n,e){return null!==n&&e&&e(new Cw(n)),gt(!0)}(i.route,r),function JD(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function Fw(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Wm(()=>gt(u.guards.map(m=>{const v=jt(u.node)??t,b=qu(m,v);return Ra(function D_(n){return n&&Zu(n.canActivateChild)}(b)?b.canActivateChild(r,n):v.runInContext(()=>b(r,n))).pipe(As())})).pipe($l())));return gt(a).pipe($l())}(n,i.path,t),function Ep(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const i=r.map(a=>Wm(()=>{const u=jt(e)??t,f=qu(a,u);return Ra(function KD(n){return n&&Zu(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(As())}));return gt(i).pipe($l())}(n,i.route,t))),As(i=>!0!==i,!0))}(r,a,n,e):gt(f)),(0,xt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),(0,Kr.b)(u=>{if(r.guardsResult=u.guardsResult,Fl(u.guardsResult))throw Sw(0,u.guardsResult);const f=new Ew(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),jo(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),V_(u=>{if(u.guards.canActivateChecks.length)return gt(u).pipe((0,Kr.b)(f=>{const m=new Bu(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),Ir(f=>{let m=!1;return gt(f).pipe(function cs(n,e){return(0,wr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return gt(t);let a=0;return(0,dr.D)(i).pipe(Bo(u=>function Xw(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!L_(i)&&(a[Fu]=i.title),function oT(n,e,t,r){const i=function wP(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return gt({});const a={};return(0,dr.D)(i).pipe((0,wr.z)(u=>function F_(n,e,t,r){const i=jt(e)??r,a=qu(n,i);return Ra(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[u],e,t,r).pipe(As(),(0,Kr.b)(f=>{a[u]=f}))),Ru(1),function Vd(n){return(0,xt.U)(()=>n)}(a),zs(u=>Vw(u)?Jo.E:Qo(u)))}(a,n,e,r).pipe((0,xt.U)(u=>(n._resolvedData=u,n.data=mp(n,t).resolve,i&&L_(i)&&(n.data[Fu]=i.title),null)))}(u.route,r,n,e)),(0,Kr.b)(()=>a++),Ru(1),(0,wr.z)(u=>a===i.length?gt(t):Jo.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Kr.b)({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Kr.b)(f=>{const m=new MD(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),V_(u=>{const f=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,Kr.b)(b=>{m.component=b}),(0,xt.U)(()=>{})));for(const b of m.children)v.push(...f(b));return v};return qf(f(u.targetSnapshot.root)).pipe(Mu(),Fd(1))}),V_(()=>this.afterPreactivation()),(0,xt.U)(u=>{const f=function LD(n,e,t){const r=rh(n,e._root,t?t._root:void 0);return new bw(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:f}}),(0,Kr.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,xt.U)(r=>(new kw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),(0,Kr.b)({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ka(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),Ud(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),zs(u=>{if(a=!0,BD(u)){UD(u)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new wo(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),UD(u)){const m=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||nE(r.source)};t.scheduleNavigation(m,Na,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new th(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(u))}catch(m){r.reject(m)}}return Jo.E}))}))}cancelNavigationTransition(t,r,i){const a=new wo(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nE(n){return n!==Na}let rE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Qt);return r}getResolvedTitleForRoute(t){return t.data[Fu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(lT)},providedIn:"root"}),n})(),lT=(()=>{class n extends rE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Yd))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(B_)},providedIn:"root"}),n})();class Co{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let B_=(()=>{class n extends Co{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j_=new d.OlP("",{providedIn:"root",factory:()=>({})});let iE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(dT)},providedIn:"root"}),n})(),dT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hT(n){throw n}function H_(n,e,t){return e.parse("/")}const fT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(j_,{optional:!0})||{},this.errorHandler=this.options.errorHandler||hT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||H_,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(iE),this.routeReuseStrategy=(0,d.f3M)(uT),this.urlCreationStrategy=(0,d.f3M)(ju),this.titleStrategy=(0,d.f3M)(rE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ow((0,d.f3M)(Ap,{optional:!0})??[]),this.navigationTransitions=(0,d.f3M)(Mp),this.urlSerializer=(0,d.f3M)(ap),this.location=(0,d.f3M)(Me),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new yo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=m_(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Na,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,u,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(I_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:m}=r,v=m?this.currentUrlTree.fragment:u;let b=null;switch(f){case"merge":b={...this.currentUrlTree.queryParams,...a};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=a||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,b,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Fl(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Na,null,r)}navigate(t,r={skipLocationChange:!1}){return function z_(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...fT}:!1===r?{...pT}:r,Fl(t))return gD(this.currentUrlTree,t,i);const a=this.parseUrl(t);return gD(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,u){if(this.disposed)return Promise.resolve(!1);let f,m,v,b;return u?(f=u.resolve,m=u.reject,v=u.promise):v=new Promise((S,R)=>{f=S,m=R}),b="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(S=>Promise.reject(S))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var hE=F(3008),wi=F(5861),Ni=F(9681),La=F(4859),V=F(2090),Va=F(1877);const Ps=new Map,nc={activated:!1,tokenObservers:[]},Ei={initialized:!1,enabled:!1};function fr(n){return Ps.get(n)||Object.assign({},nc)}function ki(){return Ei}const oh="https://content-firebaseappcheck.googleapis.com/v1",sc="exchangeDebugToken",Hl={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ac{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,wi.Z)(function*(){t.stop();try{t.pending=new V.BH,yield function lc(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new V.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Vr=new V.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Up(n,e){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,wi.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const S=yield i.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const a={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,a)}catch(S){throw Vr.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw Vr.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(S){throw Vr.create("fetch-parse-error",{originalErrorMessage:S?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),b=Date.now();return{token:f.token,expireTimeMillis:b+v,issuedAtTimeMillis:b}})).apply(this,arguments)}const DT="firebase-app-check-database",TT=1,cc="firebase-app-check-store";let uh=null;function zp(n,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,wi.Z)(function*(n,e){const r=(yield function jp(){return uh||(uh=new Promise((n,e)=>{try{const t=indexedDB.open(DT,TT);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Vr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(cc,{keyPath:"compositeKey"})}}catch(t){e(Vr.create("storage-open",{originalErrorMessage:t?.message}))}}),uh)}()).transaction(cc,"readwrite"),a=r.objectStore(cc).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=m=>{u()},r.onerror=m=>{var v;f(Vr.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const hc=new Va.Yd("@firebase/app-check");function Wp(n,e){return(0,V.hl)()?function ST(n,e){return zp(function Y_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{hc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function X_(){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,wi.Z)(function*(){const n=ki();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vE={error:"UNKNOWN_ERROR"};function AT(n){return V.US.encodeString(JSON.stringify(n),!1)}function Zp(n){return ey.apply(this,arguments)}function ey(){return(ey=(0,wi.Z)(function*(n,e=!1){const t=n.app;!function q_(n){if(!fr(n).activated)throw Vr.create("use-before-activation",{appName:n.name})}(t);const r=fr(t);let a,i=r.token;if(i&&!zl(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(zl(m)?i=m:yield Wp(t,void 0))}if(!e&&i&&zl(i))return{token:i.token};let f,u=!1;if(function _E(){return ki().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Up(function gE(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${oh}/projects/${t}/apps/${r}:${sc}?key=${i}`,body:{debug_token:e}}}(t,yield X_()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const m=yield r.exchangeTokenPromise;return yield Wp(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield fr(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?hc.warn(m.message):hc.error(m),a=m}return i?a?f=zl(i)?{token:i.token,internalError:a}:ry(a):(f={token:i.token},r.token=i,yield Wp(t,i)):f=ry(a),u&&function ny(n,e){const t=fr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function fc(n,e){const t=fr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function ty(n){const{app:e}=n,t=fr(e);let r=t.tokenRefresher;r||(r=function wE(n){const{app:e}=n;return new ac((0,wi.Z)(function*(){let r;if(r=fr(e).token?yield Zp(n,!0):yield Zp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=fr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Hl.RETRIAL_MIN_WAIT,Hl.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function zl(n){return n.expireTimeMillis-Date.now()>0}function ry(n){return{token:AT(vE),error:n}}class EE{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=fr(this.app);for(const t of e)fc(this.app,t.next);return Promise.resolve()}}const ME="app-check-internal";!function xE(){(0,Ni._registerComponent)(new La.wA("app-check",n=>function CE(n,e){return new EE(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ME).initialize()})),(0,Ni._registerComponent)(new La.wA(ME,n=>function IE(n){return{getToken:e=>Zp(n,e),addTokenListener:e=>function Yp(n,e,t,r){const{app:i}=n,a=fr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&zl(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),ty(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>ty(n))}(n,"INTERNAL",e),removeTokenListener:e=>fc(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ni.registerVersion)("@firebase/app-check","0.6.4")}();class hh{constructor(){return(0,Wt.vb)("app-check")}}typeof window<"u"&&window;var gc=F(3432);function VT(n){return new Pi.y(function(e){return{unsubscribe:(0,gc.w)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class ph{constructor(e){return e}}class mc{constructor(){return(0,Wt.vb)("auth")}}const tg=new d.OlP("angularfire2.auth-instances");function FE(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ph(r)}}const ng={provide:mc,deps:[[new d.FiY,tg]]},LE={provide:ph,useFactory:function kE(n,e){const t=(0,Wt.JM)("auth",n,e);return t&&new ph(t)},deps:[[new d.FiY,tg],Ss]};let VE=(()=>{class n{constructor(){(0,hi.KN)("angularfire",Wt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[LE,ng]}),n})();const BE=(0,Wt.u3)(VT,!0);class yc{constructor(e){return e}}const cy="analytics",dy=Wt.nk.async,aS=(0,Wt.u3)(hE.Kz,!0),lS=(0,Wt.u3)(hE.Iv,!0);let $E=(()=>{class n{constructor(t,r,i){let a;this.disposables=[],(0,hi.KN)("angularfire",Wt.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(u=>{a=u})),dy().then(()=>{const u=i.get(yc);u?this.disposables=[BE(t).subscribe(f=>{lS(u,f?.uid),a()})]:a()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ph),d.LFG(d.R0b),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const vc="firebase_screen_id",hy="outlet",wc="screen_class",fy="screen_name";let fS=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const py={},mO=n=>{const e=[n[wc],n[hy]].join("#");if(py.hasOwnProperty(e))return py[e];{const t=fS++;return py[e]=t,t}},_O=(n,e,t)=>n.events.pipe(jo(i=>i instanceof Iw)).pipe(Ir(i=>{var a;const f=(null===(a=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,B=>B.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===a?void 0:a.toString())||"",m=n.routerState.root.children.map(B=>B).find(B=>B.outlet===i.snapshot.outlet);if(!m)return gt(null);let v=m;for(;v.firstChild;)v=v.firstChild;const b=v.pathFromRoot.map(B=>{var q;return null===(q=B.routeConfig)||void 0===q?void 0:q.path}).filter(B=>B).join("/")||"/",S={[fy]:b,page_path:`/${f}`,firebase_event_origin:"auto",firebase_screen:b,[hy]:i.snapshot.outlet};e&&(S.page_title=e.getTitle());let R=m.component;if(R){if(R===E_){let B=i.snapshot;for(;B.firstChild;)B=B.firstChild;R=B.component}}else R=i.snapshot.component;if("string"==typeof R)return gt(Object.assign(Object.assign({},S),{[wc]:R}));if(R){const B=t.resolveComponentFactory(R);return gt(Object.assign(Object.assign({},S),{[wc]:B.selector}))}return gt(null)}),jo(i=>!!i),(0,xt.U)(i=>Object.assign({firebase_screen_class:i[wc],[vc]:mO(i)},i)),function G0(n,e,t,r){return(0,ri.e)((i,a)=>{let u;e&&"function"!=typeof e?({duration:t,element:u,connector:r}=e):u=e;const f=new Map,m=q=>{f.forEach(q),q(a)},v=q=>m(he=>he.error(q));let b=0,S=!1;const R=new er.Q(a,q=>{try{const he=n(q);let Se=f.get(he);if(!Se){f.set(he,Se=r?r():new us.x);const ct=function B(q,he){const Se=new Pi.y(ct=>{b++;const wt=he.subscribe(ct);return()=>{wt.unsubscribe(),0==--b&&S&&R.unsubscribe()}});return Se.key=q,Se}(he,Se);if(a.next(ct),t){const wt=(0,er.x)(Se,()=>{Se.complete(),wt?.unsubscribe()},void 0,void 0,()=>f.delete(he));R.add((0,Ia.Xf)(t(ct)).subscribe(wt))}}Se.next(u?u(q):q)}catch(he){v(he)}},()=>m(q=>q.complete()),v,()=>f.clear(),()=>(S=!0,0===b));i.subscribe(R)})}(i=>i[hy]),(0,wr.z)(i=>i.pipe(Du((a,u)=>JSON.stringify(a)===JSON.stringify(u)),Lf(void 0),function $m(){return(0,ri.e)((n,e)=>{let t,r=!1;n.subscribe((0,er.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}(),(0,xt.U)(([a,u])=>a?Object.assign({firebase_previous_class:a[wc],firebase_previous_screen:a[fy],firebase_previous_id:a[vc]},u):u))));let yO=(()=>{class n{constructor(t,r,i,a,u,f){(0,hi.KN)("angularfire",Wt.q4.full,"screen-tracking"),dy().then(()=>{const m=f.get(yc);!t||!m||a.runOutsideAngular(()=>{this.disposable=_O(t,r,i).pipe(Ir(v=>(0,xd.mG)(this,void 0,void 0,function*(){return u&&(yield u.initialized),aS(m,"screen_view",v)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Oi,8),d.LFG(Yd,8),d.LFG(d._Vd),d.LFG(d.R0b),d.LFG($E,8),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const KE=new d.OlP("angularfire2.analytics-instances");function sg(n){return(e,t)=>{if(!Wt.nk.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new yc(r)}}const pS={provide:class rS{constructor(){return(0,Wt.vb)(cy)}},deps:[[new d.FiY,KE]]},gS={provide:yc,useFactory:function ZE(n,e){if(!Wt.nk.sync())return null;const t=(0,Wt.JM)(cy,n,e);return t&&new yc(t)},deps:[[new d.FiY,KE],Ss]};let YE=(()=>{class n{constructor(t,r){(0,hi.KN)("angularfire",Wt.q4.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yO,8),d.LFG($E,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[gS,pS,{provide:d.ip1,useValue:Wt.nk.async,multi:!0}]}),n})();var Zs=F(2011);const QE="@firebase/database";let gy="";function mS(n){gy=n}class _S{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,V.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,V.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class XE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,V.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const eC=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _S(e)}}catch{}return new XE},Wl=eC("localStorage"),ql=eC("sessionStorage"),Ec=new Va.Yd("@firebase/database"),my=function(){let n=1;return function(){return n++}}(),tC=function(n){const e=(0,V.dS)(n),t=new V.gQ;t.update(e);const r=t.digest();return V.US.encodeByteArray(r)},Cc=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Cc.apply(null,r):e+="object"==typeof r?(0,V.Wl)(r):r,e+=" "}return e};let Kl=null,_y=!0;const nC=function(n,e){(0,V.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ec.logLevel=Va.in.VERBOSE,Kl=Ec.log.bind(Ec),e&&ql.set("logging_enabled",!0)):"function"==typeof n?Kl=n:(Kl=null,ql.remove("logging_enabled"))},Br=function(...n){if(!0===_y&&(_y=!1,null===Kl&&!0===ql.get("logging_enabled")&&nC(!0)),Kl){const e=Cc.apply(null,n);Kl(e)}},vh=function(n){return function(...e){Br(n,...e)}},og=function(...n){const e="FIREBASE INTERNAL ERROR: "+Cc(...n);Ec.error(e)},Ys=function(...n){const e=`FIREBASE FATAL ERROR: ${Cc(...n)}`;throw Ec.error(e),new Error(e)},Ci=function(...n){const e="FIREBASE WARNING: "+Cc(...n);Ec.warn(e)},ag=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ba="[MIN_NAME]",Do="[MAX_NAME]",Zl=function(n,e){if(n===e)return 0;if(n===Ba||e===Do)return-1;if(e===Ba||n===Do)return 1;{const t=lC(n),r=lC(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},vS=function(n,e){return n===e?0:n<e?-1:1},wh=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,V.Wl)(e))},vy=function(n){if("object"!=typeof n||null===n)return(0,V.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,V.Wl)(e[r]),t+=":",t+=vy(n[e[r]]);return t+="}",t},rC=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function si(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const iC=function(n){(0,V.hu)(!ag(n),"Invalid JSON number");const r=1023;let i,a,u,f,m;0===n?(a=0,u=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=f+r,u=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(a=0,u=Math.round(n/Math.pow(2,-1074))));const v=[];for(m=52;m;m-=1)v.push(u%2?1:0),u=Math.floor(u/2);for(m=11;m;m-=1)v.push(a%2?1:0),a=Math.floor(a/2);v.push(i?1:0),v.reverse();const b=v.join("");let S="";for(m=0;m<64;m+=8){let R=parseInt(b.substr(m,8),2).toString(16);1===R.length&&(R="0"+R),S+=R}return S.toLowerCase()},ES=new RegExp("^-?(0*)\\d{1,10}$"),lC=function(n){if(ES.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Ic=function(n){try{n()}catch(e){setTimeout(()=>{throw Ci("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},IS=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yl=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class wy{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ci(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class uC{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Br("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ci(e)}}let Ql=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Jl=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Iy="websocket",cg="long_polling";class by{constructor(e,t,r,i,a=!1,u="",f=!1,m=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wl.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function pC(n,e,t){let r;if((0,V.hu)("string"==typeof e,"typeof type must == string"),(0,V.hu)("object"==typeof t,"typeof params must == object"),e===Iy)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==cg)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Dy(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return si(t,(a,u)=>{i.push(a+"="+u)}),r+i.join("&")}class gC{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,V.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,V.p$)(this.counters_)}}const Eh={},dg={};function hg(n){const e=n.toString();return Eh[e]||(Eh[e]=new gC),Eh[e]}class _C{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ic(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ja{constructor(e,t,r,i,a,u,f){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vh(e),this.stats_=hg(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),pC(t,cg,m))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new _C(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,V.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ay((...a)=>{const[u,f,m,v,b]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=f,this.password=m;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[u,f]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Jl.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ja.forceAllow_=!0}static forceDisallow(){ja.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!ja.forceAllow_&&(ja.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,V.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,V.h$)(t),i=rC(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,V.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Ay{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=my(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Ay.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){Br("frame writing exception"),f.stack&&Br(f.stack),Br(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Br("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const u=this.pendingSegs.shift();r=r+"&seg"+i+"="+u.seg+"&ts"+i+"="+u.ts+"&d"+i+"="+u.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,V.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Br("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let fg=null;typeof MozWebSocket<"u"?fg=MozWebSocket:typeof WebSocket<"u"&&(fg=WebSocket);let To=(()=>{class n{constructor(t,r,i,a,u,f,m){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vh(this.connId),this.stats_=hg(r),this.connURL=n.connectionURL_(r,f,m,a,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,a,u){const f={v:"5"};return!(0,V.Yr)()&&typeof location<"u"&&location.hostname&&Jl.test(location.hostname)&&(f.r="f"),r&&(f.s=r),i&&(f.ls=i),a&&(f.ac=a),u&&(f.p=u),pC(t,Iy,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wl.set("previous_websocket_failure",!0);try{let i;if((0,V.Yr)()){i={headers:{"User-Agent":`Firebase/5/${gy}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,f=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;f&&(i.proxy={origin:f})}this.mySock=new fg(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==fg&&!n.forceDisallow_}static previouslyFailed(){return Wl.isInMemoryStorage||!0===Wl.get("previous_websocket_failure")}markConnectionHealthy(){Wl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,V.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,V.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=rC(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),My=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ja,To]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=To&&To.isAvailable();let i=r&&!To.previouslyFailed();if(t.webSocketOnly&&(r||Ci("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[To];else{const a=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class pg{constructor(e,t,r,i,a,u,f,m,v,b){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=m,this.onKill_=v,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vh("c:"+this.id+":"),this.transportManager_=new My(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Yl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=wh("t",e),r=wh("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=wh("t",e),r=wh("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=wh("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?og("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):og("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ci("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Yl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Qs{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class xC{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,V.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(e){(0,V.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Dc extends xC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Dc}getInitialEvent(e){return(0,V.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Tc=32,RC=768;class kn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Tn(){return new kn("")}function rn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Js(n){return n.pieces_.length-n.pieceNum_}function Zn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new kn(n.pieces_,e)}function Ry(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Sc(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function gg(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new kn(e,0)}function or(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof kn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new kn(t,0)}function sn(n){return n.pieceNum_>=n.pieces_.length}function fi(n,e){const t=rn(n),r=rn(e);if(null===t)return e;if(t===r)return fi(Zn(n),Zn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function OC(n,e){const t=Sc(n,0),r=Sc(e,0);for(let i=0;i<t.length&&i<r.length;i++){const a=Zl(t[i],r[i]);if(0!==a)return a}return t.length===r.length?0:t.length<r.length?-1:1}function Ch(n,e){if(Js(n)!==Js(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Qi(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Js(n)>Js(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class US{constructor(e,t){this.errorPrefix_=t,this.parts_=Sc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,V.ug)(this.parts_[r]);NC(this)}}function NC(n){if(n.byteLength_>RC)throw new Error(n.errorPrefix_+"has a key path longer than "+RC+" bytes ("+n.byteLength_+").");if(n.parts_.length>Tc)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Tc+") or object contains a cycle "+$a(n))}function $a(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Ih extends xC{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ih}getInitialEvent(e){return(0,V.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ac=1e3;let oi,Xl=(()=>{class n extends Qs{constructor(t,r,i,a,u,f,m,v){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=vh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ac,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ih.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Dc.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const a=++this.requestNumber_,u={r:a,a:t,b:r};this.log_((0,V.Wl)(u)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const r=new V.BH,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const m=f.d;"ok"===f.s?r.resolve(m):r.reject(m)}};return this.outstandingGets_.push(a),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,a){this.initConnection_();const u=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),(0,V.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const m={onComplete:a,hashFn:r,query:t,tag:i};this.listens.get(f).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const u={p:i};t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,m=>{const v=m.d,b=m.s;n.warnOnListenWarnings_(v,r),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",m),"ok"!==b&&this.removeListen_(i,a),t.onComplete&&t.onComplete(b,v))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,V.r3)(t,"w")){const i=(0,V.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();Ci(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,V.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,V.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const u=a.s,f=a.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,V.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,r)}sendUnlisten_(t,r,i,a){this.log_("Unlisten on "+t+" for "+r);const u={p:t};a&&(u.q=i,u.t=a),this.sendRequest("n",u)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,a){const u={p:r,d:i};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(t,r,i,a){this.putInternal("p",t,r,i,a)}merge(t,r,i,a){this.putInternal("m",t,r,i,a)}putInternal(t,r,i,a,u){this.initConnection_();const f={p:r,d:i};void 0!==u&&(f.h=u),this.outstandingPuts_.push({action:t,request:f,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,V.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):og("Unrecognized action received from server: "+(0,V.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ac,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ac,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ac),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,wi.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),a=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,f=t.lastSessionId;let m=!1,v=null;const b=function(){v?v.close():(m=!0,a())};t.realtime_={close:b,sendRequest:function(B){(0,V.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(B)}};const R=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[B,q]=yield Promise.all([t.authTokenProvider_.getToken(R),t.appCheckTokenProvider_.getToken(R)]);m?Br("getToken() completed but was canceled"):(Br("getToken() completed. Creating connection."),t.authToken_=B&&B.accessToken,t.appCheckToken_=q&&q.token,v=new pg(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,a,he=>{Ci(he+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},f))}catch(B){t.log_("Failed to get token: "+B),m||(t.repoInfo_.nodeAdmin&&Ci(B),b())}}})()}interrupt(t){Br("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Br("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ac,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(u=>vy(u)).join("$"):"default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const i=new kn(t).toString();let a;if(this.listens.has(i)){const u=this.listens.get(i);a=u.get(r),u.delete(r),0===u.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,r){Br("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Br("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,V.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+gy.replace(/\./g,"-")]=1,(0,V.uI)()?t["framework.cordova"]=1:(0,V.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Dc.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class un{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new un(e,t)}}class mg{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new un(Ba,e),i=new un(Ba,t);return 0!==this.compare(r,i)}minPost(){return un.MIN}}class eu extends mg{static get __EMPTY_NODE(){return oi}static set __EMPTY_NODE(e){oi=e}compare(e,t){return Zl(e.name,t.name)}isDefinedOn(e){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return un.MIN}maxPost(){return new un(Do,oi)}makePost(e,t){return(0,V.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new un(e,oi)}toString(){return".key"}}const So=new eu;class _g{constructor(e,t,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,i&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let ky,Ao=(()=>{class n{constructor(t,r,i,a,u){this.key=t,this.value=r,this.color=i??n.RED,this.left=a??Fi.EMPTY_NODE,this.right=u??Fi.EMPTY_NODE}copy(t,r,i,a,u){return new n(t??this.key,r??this.value,i??this.color,a??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let a=this;const u=i(t,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(t,r,i),null):0===u?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fi.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,a;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Fi.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Fi{constructor(e,t=Fi.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Fi(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ao.BLACK,null,null))}remove(e){return new Fi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ao.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new _g(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new _g(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new _g(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new _g(this.root_,null,this.comparator_,!0,e)}}function Ny(n,e){return Zl(n.name,e.name)}function tu(n,e){return Zl(n,e)}Fi.EMPTY_NODE=new class EO{copy(e,t,r,i,a){return this}insert(e,t,r){return new Ao(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const LC=function(n){return"number"==typeof n?"number:"+iC(n):"string:"+n},Ly=function(n){if(n.isLeafNode()){const e=n.val();(0,V.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,V.r3)(e,".sv"),"Priority must be a string or number.")}else(0,V.hu)(n===ky||n.isEmpty(),"priority of unexpected type.");(0,V.hu)(n===ky||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let VC,UC,yg,Mc=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ly(this.priorityNode_)}static set __childrenNodeConstructor(t){VC=t}static get __childrenNodeConstructor(){return VC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return sn(t)?this:".priority"===rn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=rn(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,V.hu)(".priority"!==i||1===Js(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Zn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+LC(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?iC(this.value_):this.value_,this.lazyHash_=tC(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,V.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(r),u=n.VALUE_TYPE_ORDER.indexOf(i);return(0,V.hu)(a>=0,"Unknown leaf type: "+r),(0,V.hu)(u>=0,"Unknown leaf type: "+i),a===u?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-a}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Gn=new class vg extends mg{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),a=r.compareTo(i);return 0===a?Zl(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return un.MIN}maxPost(){return new un(Do,new Mc("[PRIORITY-POST]",yg))}makePost(e,t){const r=UC(e);return new un(t,new Mc("[PRIORITY-POST]",r))}toString(){return".priority"}},CO=Math.log(2);class $C{constructor(e){this.count=parseInt(Math.log(e+1)/CO,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wg=function(n,e,t,r){n.sort(e);const i=function(m,v){const b=v-m;let S,R;if(0===b)return null;if(1===b)return S=n[m],R=t?t(S):S,new Ao(R,S.node,Ao.BLACK,null,null);{const B=parseInt(b/2,10)+m,q=i(m,B),he=i(B+1,v);return S=n[B],R=t?t(S):S,new Ao(R,S.node,Ao.BLACK,q,he)}},f=function(m){let v=null,b=null,S=n.length;const R=function(q,he){const Se=S-q,ct=S;S-=q;const wt=i(Se+1,ct),Ot=n[Se],cn=t?t(Ot):Ot;B(new Ao(cn,Ot.node,he,null,wt))},B=function(q){v?(v.left=q,v=q):(b=q,v=q)};for(let q=0;q<m.count;++q){const he=m.nextBitIsOne(),Se=Math.pow(2,m.count-(q+1));he?R(Se,Ao.BLACK):(R(Se,Ao.BLACK),R(Se,Ao.RED))}return b}(new $C(n.length));return new Fi(r||e,f)};let Eg;const Xs={};class sa{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,V.hu)(Xs&&Gn,"ChildrenNode.ts has not been loaded"),Eg=Eg||new sa({".priority":Xs},{".priority":Gn}),Eg}get(e){const t=(0,V.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Fi?t:null}hasIndex(e){return(0,V.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,V.hu)(e!==So,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=t.getIterator(un.Wrap);let f,u=a.getNext();for(;u;)i=i||e.isDefinedOn(u.node),r.push(u),u=a.getNext();f=i?wg(r,e.getCompare()):Xs;const m=e.toString(),v=Object.assign({},this.indexSet_);v[m]=e;const b=Object.assign({},this.indexes_);return b[m]=f,new sa(b,v)}addToIndexes(e,t){const r=(0,V.UI)(this.indexes_,(i,a)=>{const u=(0,V.DV)(this.indexSet_,a);if((0,V.hu)(u,"Missing index implementation for "+a),i===Xs){if(u.isDefinedOn(e.node)){const f=[],m=t.getIterator(un.Wrap);let v=m.getNext();for(;v;)v.name!==e.name&&f.push(v),v=m.getNext();return f.push(e),wg(f,u.getCompare())}return Xs}{const f=t.get(e.name);let m=i;return f&&(m=m.remove(new un(e.name,f))),m.insert(e,e.node)}});return new sa(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,V.UI)(this.indexes_,i=>{if(i===Xs)return i;{const a=t.get(e.name);return a?i.remove(new un(e.name,a)):i}});return new sa(r,this.indexSet_)}}let xc,Jt=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Ly(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xc||(xc=new n(new Fi(tu),null,sa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xc}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?xc:r}}getChild(t){const r=rn(t);return null===r?this:this.getImmediateChild(r).getChild(Zn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,V.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new un(t,r);let a,u;r.isEmpty()?(a=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(i,this.children_));const f=a.isEmpty()?xc:this.priorityNode_;return new n(a,f,u)}}updateChild(t,r){const i=rn(t);if(null===i)return r;{(0,V.hu)(".priority"!==rn(t)||1===Js(t),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(Zn(t),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,a=0,u=!0;if(this.forEachChild(Gn,(f,m)=>{r[f]=m.val(t),i++,u&&n.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):u=!1}),!t&&u&&a<2*i){const f=[];for(const m in r)f[m]=r[m];return f}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+LC(this.getPriority().val())+":"),this.forEachChild(Gn,(r,i)=>{const a=i.hash();""!==a&&(t+=":"+r+":"+a)}),this.lazyHash_=""===t?"":tC(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const a=this.resolveIndex_(i);if(a){const u=a.getPredecessorKey(new un(t,r));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new un(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new un(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,un.Wrap);let u=a.peek();for(;null!=u&&r.compare(u,t)<0;)a.getNext(),u=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,un.Wrap);let u=a.peek();for(;null!=u&&r.compare(u,t)>0;)a.getNext(),u=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===bh?-1:0}withIndex(t){if(t===So||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===So||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Gn),a=r.getIterator(Gn);let u=i.getNext(),f=a.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=i.getNext(),f=a.getNext()}return null===u&&null===f}return!1}return!1}}resolveIndex_(t){return t===So?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const bh=new class IO extends Jt{constructor(){super(new Fi(tu),Jt.EMPTY_NODE,sa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Jt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(un,{MIN:{value:new un(Ba,Jt.EMPTY_NODE)},MAX:{value:new un(Do,bh)}}),eu.__EMPTY_NODE=Jt.EMPTY_NODE,Mc.__childrenNodeConstructor=Jt,function Fy(n){ky=n}(bh),function jC(n){yg=n}(bh);const bO=!0;function pr(n,e=null){if(null===n)return Jt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,V.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Mc(n,pr(e));if(n instanceof Array||!bO){let t=Jt.EMPTY_NODE;return si(n,(r,i)=>{if((0,V.r3)(n,r)&&"."!==r.substring(0,1)){const a=pr(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(r,a))}}),t.updatePriority(pr(e))}{const t=[];let r=!1;if(si(n,(u,f)=>{if("."!==u.substring(0,1)){const m=pr(f);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),t.push(new un(u,m)))}}),0===t.length)return Jt.EMPTY_NODE;const a=wg(t,Ny,u=>u.name,tu);if(r){const u=wg(t,Gn.getCompare());return new Jt(a,pr(e),new sa({".priority":u},{".priority":Gn}))}return new Jt(a,pr(e),sa.Default)}}!function BC(n){UC=n}(pr);class Vy extends mg{constructor(e){super(),this.indexPath_=e,(0,V.hu)(!sn(e)&&".priority"!==rn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),a=r.compareTo(i);return 0===a?Zl(e.name,t.name):a}makePost(e,t){const r=pr(e),i=Jt.EMPTY_NODE.updateChild(this.indexPath_,r);return new un(t,i)}maxPost(){const e=Jt.EMPTY_NODE.updateChild(this.indexPath_,bh);return new un(Do,e)}toString(){return Sc(this.indexPath_,0).join("/")}}const Cg=new class zS extends mg{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Zl(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return un.MIN}maxPost(){return un.MAX}makePost(e,t){const r=pr(e);return new un(t,r)}toString(){return".value"}};function Uy(n){return{type:"value",snapshotNode:n}}function Rc(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Pc(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Oc(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class By{constructor(e){this.index_=e}updateChild(e,t,r,i,a,u){(0,V.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(t);return f.getChild(i).equals(r.getChild(i))&&f.isEmpty()===r.isEmpty()||(null!=u&&(r.isEmpty()?e.hasChild(t)?u.trackChildChange(Pc(t,f)):(0,V.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?u.trackChildChange(Rc(t,r)):u.trackChildChange(Oc(t,r,f))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Gn,(i,a)=>{t.hasChild(i)||r.trackChildChange(Pc(i,a))}),t.isLeafNode()||t.forEachChild(Gn,(i,a)=>{if(e.hasChild(i)){const u=e.getImmediateChild(i);u.equals(a)||r.trackChildChange(Oc(i,a,u))}else r.trackChildChange(Rc(i,a))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Jt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Nc{constructor(e){this.indexedFilter_=new By(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Nc.getStartPost_(e),this.endPost_=Nc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,a,u){return this.matches(new un(t,r))||(r=Jt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,a,u)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Jt.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Jt.EMPTY_NODE);const a=this;return t.forEachChild(Gn,(u,f)=>{a.matches(new un(u,f))||(i=i.updateImmediateChild(u,Jt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class WS{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Nc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,a,u){return this.rangedFilter_.matches(new un(t,r))||(r=Jt.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,a,u):this.fullLimitUpdateChild_(e,t,r,a,u)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let a;i=Jt.EMPTY_NODE.withIndex(this.index_),a=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;a.hasNext()&&u<this.limit_;){const f=a.getNext();if(this.withinDirectionalStart(f)){if(!this.withinDirectionalEnd(f))break;i=i.updateImmediateChild(f.name,f.node),u++}}}else{let a;i=t.withIndex(this.index_),i=i.updatePriority(Jt.EMPTY_NODE),a=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let u=0;for(;a.hasNext();){const f=a.getNext();u<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?u++:i=i.updateImmediateChild(f.name,Jt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,a){let u;if(this.reverse_){const S=this.index_.getCompare();u=(R,B)=>S(B,R)}else u=this.index_.getCompare();const f=e;(0,V.hu)(f.numChildren()===this.limit_,"");const m=new un(t,r),v=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),b=this.rangedFilter_.matches(m);if(f.hasChild(t)){const S=f.getImmediateChild(t);let R=i.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=R&&(R.name===t||f.hasChild(R.name));)R=i.getChildAfterChild(this.index_,R,this.reverse_);const B=null==R?1:u(R,m);if(b&&!r.isEmpty()&&B>=0)return a?.trackChildChange(Oc(t,r,S)),f.updateImmediateChild(t,r);{a?.trackChildChange(Pc(t,S));const he=f.updateImmediateChild(t,Jt.EMPTY_NODE);return null!=R&&this.rangedFilter_.matches(R)?(a?.trackChildChange(Rc(R.name,R.node)),he.updateImmediateChild(R.name,R.node)):he}}return r.isEmpty()?e:b&&u(v,m)>=0?(null!=a&&(a.trackChildChange(Pc(v.name,v.node)),a.trackChildChange(Rc(t,r))),f.updateImmediateChild(t,r).updateImmediateChild(v.name,Jt.EMPTY_NODE)):e}}class Dh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ba}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Do}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Gn}copy(){const e=new Dh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function jy(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function WC(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function $y(n,e){const t=n.copy();return t.index_=e,t}function KS(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Gn?t="$priority":n.index_===Cg?t="$value":n.index_===So?t="$key":((0,V.hu)(n.index_ instanceof Vy,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,V.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,V.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,V.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,V.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,V.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function ZS(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Gn&&(e.i=n.index_.toString()),e}class Hy extends Qs{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=vh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,V.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const u=Hy.getListenId_(e,r),f={};this.listens_[u]=f;const m=KS(e._queryParams);this.restRequest_(a+".json",m,(v,b)=>{let S=b;if(404===v&&(S=null,v=null),null===v&&this.onDataUpdate_(a,S,!1,r),(0,V.DV)(this.listens_,u)===f){let R;R=v?401===v?"permission_denied":"rest_error:"+v:"ok",i(R,null)}})}unlisten(e,t){const r=Hy.getListenId_(e,t);delete this.listens_[r]}get(e){const t=KS(e._queryParams),r=e._path.toString(),i=new V.BH;return this.restRequest_(r+".json",t,(a,u)=>{let f=u;404===a&&(f=null,a=null),null===a?(this.onDataUpdate_(r,f,!1,null),i.resolve(f)):i.reject(new Error(f))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,V.xO)(t);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&4===f.readyState){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let m=null;if(f.status>=200&&f.status<300){try{m=(0,V.cI)(f.responseText)}catch{Ci("Failed to parse JSON response for "+u+": "+f.responseText)}r(null,m)}else 401!==f.status&&404!==f.status&&Ci("Got unsuccessful REST response for "+u+" Status: "+f.status),r(f.status);r=null}},f.open("GET",u,!0),f.send()})}}class DO{constructor(){this.rootNode_=Jt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function zy(){return{value:null,children:new Map}}function Th(n,e,t){if(sn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=rn(e);n.children.has(r)||n.children.set(r,zy()),Th(n.children.get(r),e=Zn(e),t)}}function KC(n,e){if(sn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Gn,(r,i)=>{Th(n,new kn(r),i)}),KC(n,e)}}if(n.children.size>0){const t=rn(e);return e=Zn(e),n.children.has(t)&&KC(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function kc(n,e,t){null!==n.value?t(e,n.value):function TO(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{kc(i,new kn(e.toString()+"/"+r),t)})}class ZC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&si(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class SO{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ZC(e);const r=1e4+2e4*Math.random();Yl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;si(e,(i,a)=>{a>0&&(0,V.r3)(this.statsToReport_,i)&&(t[i]=a,r=!0)}),r&&this.server_.reportStats(t),Yl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ji=(()=>{return(n=Ji||(Ji={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ji;var n})();function JC(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Wy{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Ji.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(sn(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new kn(e));return new Wy(Tn(),t,this.revert)}}return(0,V.hu)(rn(this.path)===e,"operationForChild called for unrelated child."),new Wy(Zn(this.path),this.affectedTree,this.revert)}}class Ah{constructor(e,t){this.source=e,this.path=t,this.type=Ji.LISTEN_COMPLETE}operationForChild(e){return sn(this.path)?new Ah(this.source,Tn()):new Ah(this.source,Zn(this.path))}}class nu{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Ji.OVERWRITE}operationForChild(e){return sn(this.path)?new nu(this.source,Tn(),this.snap.getImmediateChild(e)):new nu(this.source,Zn(this.path),this.snap)}}class oa{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Ji.MERGE}operationForChild(e){if(sn(this.path)){const t=this.children.subtree(new kn(e));return t.isEmpty()?null:t.value?new nu(this.source,Tn(),t.value):new oa(this.source,Tn(),t)}return(0,V.hu)(rn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new oa(this.source,Zn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ha{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(sn(e))return this.isFullyInitialized()&&!this.filtered_;const t=rn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class AO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function bg(n,e,t,r,i,a){const u=r.filter(f=>f.type===t);u.sort((f,m)=>function QS(n,e,t){if(null==e.childName||null==t.childName)throw(0,V.g5)("Should only compare child_ events.");const r=new un(e.childName,e.snapshotNode),i=new un(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,f,m)),u.forEach(f=>{const m=function YS(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,f,a);i.forEach(v=>{v.respondsTo(f.type)&&e.push(v.createEvent(m,n.query_))})})}function Dg(n,e){return{eventCache:n,serverCache:e}}function Tg(n,e,t,r){return Dg(new Ha(e,t,r),n.serverCache)}function XC(n,e,t,r){return Dg(n.eventCache,new Ha(e,t,r))}function Mh(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function za(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let eI;class nr{constructor(e,t=(()=>(eI||(eI=new Fi(vS)),eI))()){this.value=e,this.children=t}static fromObject(e){let t=new nr(null);return si(e,(r,i)=>{t=t.set(new kn(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Tn(),value:this.value};if(sn(e))return null;{const r=rn(e),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(Zn(e),t);return null!=a?{path:or(new kn(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(sn(e))return this;{const t=rn(e),r=this.children.get(t);return null!==r?r.subtree(Zn(e)):new nr(null)}}set(e,t){if(sn(e))return new nr(t,this.children);{const r=rn(e),a=(this.children.get(r)||new nr(null)).set(Zn(e),t),u=this.children.insert(r,a);return new nr(this.value,u)}}remove(e){if(sn(e))return this.children.isEmpty()?new nr(null):new nr(null,this.children);{const t=rn(e),r=this.children.get(t);if(r){const i=r.remove(Zn(e));let a;return a=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&a.isEmpty()?new nr(null):new nr(this.value,a)}return this}}get(e){if(sn(e))return this.value;{const t=rn(e),r=this.children.get(t);return r?r.get(Zn(e)):null}}setTree(e,t){if(sn(e))return t;{const r=rn(e),a=(this.children.get(r)||new nr(null)).setTree(Zn(e),t);let u;return u=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new nr(this.value,u)}}fold(e){return this.fold_(Tn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(or(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Tn(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(sn(e))return null;{const a=rn(e),u=this.children.get(a);return u?u.findOnPath_(Zn(e),or(t,a),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Tn(),t)}foreachOnPath_(e,t,r){if(sn(e))return this;{this.value&&r(t,this.value);const i=rn(e),a=this.children.get(i);return a?a.foreachOnPath_(Zn(e),or(t,i),r):new nr(null)}}foreach(e){this.foreach_(Tn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(or(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class ds{constructor(e){this.writeTree_=e}static empty(){return new ds(new nr(null))}}function xh(n,e,t){if(sn(e))return new ds(new nr(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let a=r.value;const u=fi(i,e);return a=a.updateChild(u,t),new ds(n.writeTree_.set(i,a))}{const i=new nr(t),a=n.writeTree_.setTree(e,i);return new ds(a)}}}function tI(n,e,t){let r=n;return si(t,(i,a)=>{r=xh(r,or(e,i),a)}),r}function hs(n,e){if(sn(e))return ds.empty();{const t=n.writeTree_.setTree(e,new nr(null));return new ds(t)}}function qy(n,e){return null!=aa(n,e)}function aa(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(fi(t.path,e)):null}function nI(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Gn,(r,i)=>{e.push(new un(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new un(r,i.value))}),e}function Ga(n,e){if(sn(e))return n;{const t=aa(n,e);return new ds(null!=t?new nr(t):n.writeTree_.subtree(e))}}function Rh(n){return n.writeTree_.isEmpty()}function ru(n,e){return Ky(Tn(),n.writeTree_,e)}function Ky(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{".priority"===i?((0,V.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):t=Ky(or(n,i),a,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(or(n,".priority"),r)),t}}function Sg(n,e){return rA(e,n)}function XS(n,e){if(n.snap)return Qi(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Qi(or(n.path,t),e))return!0;return!1}function la(n){return n.visible}function ua(n,e,t){let r=ds.empty();for(let i=0;i<n.length;++i){const a=n[i];if(e(a)){const u=a.path;let f;if(a.snap)Qi(t,u)?(f=fi(t,u),r=xh(r,f,a.snap)):Qi(u,t)&&(f=fi(u,t),r=xh(r,Tn(),a.snap.getChild(f)));else{if(!a.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(Qi(t,u))f=fi(t,u),r=tI(r,f,a.children);else if(Qi(u,t))if(f=fi(u,t),sn(f))r=tI(r,Tn(),a.children);else{const m=(0,V.DV)(a.children,rn(f));if(m){const v=m.getChild(Zn(f));r=xh(r,Tn(),v)}}}}}return r}function Yy(n,e,t,r,i){if(r||i){const a=Ga(n.visibleWrites,e);return!i&&Rh(a)?t:i||null!=t||qy(a,Tn())?ru(ua(n.allWrites,function(v){return(v.visible||i)&&(!r||!~r.indexOf(v.writeId))&&(Qi(v.path,e)||Qi(e,v.path))},e),t||Jt.EMPTY_NODE):null}{const a=aa(n.visibleWrites,e);if(null!=a)return a;{const u=Ga(n.visibleWrites,e);return Rh(u)?t:null!=t||qy(u,Tn())?ru(u,t||Jt.EMPTY_NODE):null}}}function Ag(n,e,t,r){return Yy(n.writeTree,n.treePath,e,t,r)}function Jy(n,e){return function Qy(n,e,t){let r=Jt.EMPTY_NODE;const i=aa(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Gn,(a,u)=>{r=r.updateImmediateChild(a,u)}),r;if(t){const a=Ga(n.visibleWrites,e);return t.forEachChild(Gn,(u,f)=>{const m=ru(Ga(a,new kn(u)),f);r=r.updateImmediateChild(u,m)}),nI(a).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}return nI(Ga(n.visibleWrites,e)).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}(n.writeTree,n.treePath,e)}function Xy(n,e,t,r){return function eA(n,e,t,r,i){(0,V.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=or(e,t);if(qy(n.visibleWrites,a))return null;{const u=Ga(n.visibleWrites,a);return Rh(u)?i.getChild(t):ru(u,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Mg(n,e){return function xO(n,e){return aa(n.visibleWrites,e)}(n.writeTree,or(n.treePath,e))}function ev(n,e,t){return function tA(n,e,t,r){const i=or(e,t),a=aa(n.visibleWrites,i);return null!=a?a:r.isCompleteForChild(t)?ru(Ga(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function tv(n,e){return rA(or(n.treePath,e),n.writeTree)}function rA(n,e){return{treePath:n,writeTree:e}}class nv{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,V.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(r,Oc(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(r,Pc(r,i.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(r,Rc(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw(0,V.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Oc(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const rv=new class oI{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class xg{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Ha(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ev(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:za(this.viewCache_),a=function PO(n,e,t,r,i,a){return function nA(n,e,t,r,i,a,u){let f;const m=Ga(n.visibleWrites,e),v=aa(m,Tn());if(null!=v)f=v;else{if(null==t)return[];f=ru(m,t)}if(f=f.withIndex(u),f.isEmpty()||f.isLeafNode())return[];{const b=[],S=u.getCompare(),R=a?f.getReverseIteratorFrom(r,u):f.getIteratorFrom(r,u);let B=R.getNext();for(;B&&b.length<i;)0!==S(B,r)&&b.push(B),B=R.getNext();return b}}(n.writeTree,n.treePath,e,t,r,i,a)}(this.writes_,i,t,1,r,e);return 0===a.length?null:a[0]}}function sv(n,e,t,r,i,a){const u=e.eventCache;if(null!=Mg(r,t))return e;{let f,m;if(sn(t))if((0,V.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=za(e),S=Jy(r,v instanceof Jt?v:Jt.EMPTY_NODE);f=n.filter.updateFullNode(e.eventCache.getNode(),S,a)}else{const v=Ag(r,za(e));f=n.filter.updateFullNode(e.eventCache.getNode(),v,a)}else{const v=rn(t);if(".priority"===v){(0,V.hu)(1===Js(t),"Can't have a priority with additional path components");const b=u.getNode();m=e.serverCache.getNode();const S=Xy(r,t,b,m);f=null!=S?n.filter.updatePriority(b,S):u.getNode()}else{const b=Zn(t);let S;if(u.isCompleteForChild(v)){m=e.serverCache.getNode();const R=Xy(r,t,u.getNode(),m);S=null!=R?u.getNode().getImmediateChild(v).updateChild(b,R):u.getNode().getImmediateChild(v)}else S=ev(r,v,e.serverCache);f=null!=S?n.filter.updateChild(u.getNode(),v,S,b,i,a):u.getNode()}}return Tg(e,f,u.isFullyInitialized()||sn(t),n.filter.filtersNodes())}}function Pg(n,e,t,r,i,a,u,f){const m=e.serverCache;let v;const b=u?n.filter:n.filter.getIndexedFilter();if(sn(t))v=b.updateFullNode(m.getNode(),r,null);else if(b.filtersNodes()&&!m.isFiltered()){const B=m.getNode().updateChild(t,r);v=b.updateFullNode(m.getNode(),B,null)}else{const B=rn(t);if(!m.isCompleteForPath(t)&&Js(t)>1)return e;const q=Zn(t),Se=m.getNode().getImmediateChild(B).updateChild(q,r);v=".priority"===B?b.updatePriority(m.getNode(),Se):b.updateChild(m.getNode(),B,Se,q,rv,null)}const S=XC(e,v,m.isFullyInitialized()||sn(t),b.filtersNodes());return sv(n,S,t,i,new xg(i,S,a),f)}function ov(n,e,t,r,i,a,u){const f=e.eventCache;let m,v;const b=new xg(i,e,a);if(sn(t))v=n.filter.updateFullNode(e.eventCache.getNode(),r,u),m=Tg(e,v,!0,n.filter.filtersNodes());else{const S=rn(t);if(".priority"===S)v=n.filter.updatePriority(e.eventCache.getNode(),r),m=Tg(e,v,f.isFullyInitialized(),f.isFiltered());else{const R=Zn(t),B=f.getNode().getImmediateChild(S);let q;if(sn(R))q=r;else{const he=b.getCompleteChild(S);q=null!=he?".priority"===Ry(R)&&he.getChild(gg(R)).isEmpty()?he:he.updateChild(R,r):Jt.EMPTY_NODE}m=B.equals(q)?e:Tg(e,n.filter.updateChild(f.getNode(),S,q,R,b,u),f.isFullyInitialized(),n.filter.filtersNodes())}}return m}function iA(n,e){return n.eventCache.isCompleteForChild(e)}function sA(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Og(n,e,t,r,i,a,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,m=e;v=sn(t)?r:new nr(null).setTree(t,r);const b=e.serverCache.getNode();return v.children.inorderTraversal((S,R)=>{if(b.hasChild(S)){const q=sA(0,e.serverCache.getNode().getImmediateChild(S),R);m=Pg(n,m,new kn(S),q,i,a,u,f)}}),v.children.inorderTraversal((S,R)=>{const B=!e.serverCache.isCompleteForChild(S)&&null===R.value;if(!b.hasChild(S)&&!B){const he=sA(0,e.serverCache.getNode().getImmediateChild(S),R);m=Pg(n,m,new kn(S),he,i,a,u,f)}}),m}class NO{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new By(r.getIndex()),a=function HC(n){return n.loadsAllData()?new By(n.getIndex()):n.hasLimit()?new WS(n):new Nc(n)}(r);this.processor_=function aI(n){return{filter:n}}(a);const u=t.serverCache,f=t.eventCache,m=i.updateFullNode(Jt.EMPTY_NODE,u.getNode(),null),v=a.updateFullNode(Jt.EMPTY_NODE,f.getNode(),null),b=new Ha(m,u.isFullyInitialized(),i.filtersNodes()),S=new Ha(v,f.isFullyInitialized(),a.filtersNodes());this.viewCache_=Dg(S,b),this.eventGenerator_=new AO(this.query_)}get query(){return this.query_}}function LO(n,e){const t=za(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!sn(e)&&!t.getImmediateChild(rn(e)).isEmpty())?t.getChild(e):null}function uA(n){return 0===n.eventRegistrations_.length}function Ph(n,e,t){const r=[];if(t){(0,V.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(a=>{const u=a.createCancelEvent(t,i);u&&r.push(u)})}if(e){let i=[];for(let a=0;a<n.eventRegistrations_.length;++a){const u=n.eventRegistrations_[a];if(u.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(a+1));break}}else i.push(u)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function uI(n,e,t,r){e.type===Ji.MERGE&&null!==e.source.queryId&&((0,V.hu)(za(n.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(Mh(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=function iv(n,e,t,r,i){const a=new nv;let u,f;if(t.type===Ji.OVERWRITE){const v=t;v.source.fromUser?u=ov(n,e,v.path,v.snap,r,i,a):((0,V.hu)(v.source.fromServer,"Unknown source."),f=v.source.tagged||e.serverCache.isFiltered()&&!sn(v.path),u=Pg(n,e,v.path,v.snap,r,i,f,a))}else if(t.type===Ji.MERGE){const v=t;v.source.fromUser?u=function OO(n,e,t,r,i,a,u){let f=e;return r.foreach((m,v)=>{const b=or(t,m);iA(e,rn(b))&&(f=ov(n,f,b,v,i,a,u))}),r.foreach((m,v)=>{const b=or(t,m);iA(e,rn(b))||(f=ov(n,f,b,v,i,a,u))}),f}(n,e,v.path,v.children,r,i,a):((0,V.hu)(v.source.fromServer,"Unknown source."),f=v.source.tagged||e.serverCache.isFiltered(),u=Og(n,e,v.path,v.children,r,i,f,a))}else if(t.type===Ji.ACK_USER_WRITE){const v=t;u=v.revert?function lA(n,e,t,r,i,a){let u;if(null!=Mg(r,t))return e;{const f=new xg(r,e,i),m=e.eventCache.getNode();let v;if(sn(t)||".priority"===rn(t)){let b;if(e.serverCache.isFullyInitialized())b=Ag(r,za(e));else{const S=e.serverCache.getNode();(0,V.hu)(S instanceof Jt,"serverChildren would be complete if leaf node"),b=Jy(r,S)}v=n.filter.updateFullNode(m,b,a)}else{const b=rn(t);let S=ev(r,b,e.serverCache);null==S&&e.serverCache.isCompleteForChild(b)&&(S=m.getImmediateChild(b)),v=null!=S?n.filter.updateChild(m,b,S,Zn(t),f,a):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(m,b,Jt.EMPTY_NODE,Zn(t),f,a):m,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Ag(r,za(e)),u.isLeafNode()&&(v=n.filter.updateFullNode(v,u,a)))}return u=e.serverCache.isFullyInitialized()||null!=Mg(r,Tn()),Tg(e,v,u,n.filter.filtersNodes())}}(n,e,v.path,r,i,a):function oA(n,e,t,r,i,a,u){if(null!=Mg(i,t))return e;const f=e.serverCache.isFiltered(),m=e.serverCache;if(null!=r.value){if(sn(t)&&m.isFullyInitialized()||m.isCompleteForPath(t))return Pg(n,e,t,m.getNode().getChild(t),i,a,f,u);if(sn(t)){let v=new nr(null);return m.getNode().forEachChild(So,(b,S)=>{v=v.set(new kn(b),S)}),Og(n,e,t,v,i,a,f,u)}return e}{let v=new nr(null);return r.foreach((b,S)=>{const R=or(t,b);m.isCompleteForPath(R)&&(v=v.set(b,m.getNode().getChild(R)))}),Og(n,e,t,v,i,a,f,u)}}(n,e,v.path,v.affectedTree,r,i,a)}else{if(t.type!==Ji.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+t.type);u=function aA(n,e,t,r,i){const a=e.serverCache;return sv(n,XC(e,a.getNode(),a.isFullyInitialized()||sn(t),a.isFiltered()),t,r,rv,i)}(n,e,t.path,r,a)}const m=a.getChanges();return function Rg(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Mh(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&t.push(Uy(Mh(e)))}}(e,u,m),{viewCache:u,changes:m}}(n.processor_,i,e,t,r);return function lI(n,e){(0,V.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,V.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,av(n,a.changes,a.viewCache.eventCache.getNode(),null)}function av(n,e,t,r){return function MO(n,e,t,r){const i=[],a=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&a.push(function GS(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),bg(n,i,"child_removed",e,r,t),bg(n,i,"child_added",e,r,t),bg(n,i,"child_moved",a,r,t),bg(n,i,"child_changed",e,r,t),bg(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let Mo,Lg;class lv{constructor(){this.views=new Map}}function Oh(n,e,t,r){const i=e.source.queryId;if(null!==i){const a=n.views.get(i);return(0,V.hu)(null!=a,"SyncTree gave us an op for an invalid query."),uI(a,e,t,r)}{let a=[];for(const u of n.views.values())a=a.concat(uI(u,e,t,r));return a}}function Ng(n,e,t,r,i){const u=n.views.get(e._queryIdentifier);if(!u){let f=Ag(t,i?r:null),m=!1;f?m=!0:r instanceof Jt?(f=Jy(t,r),m=!1):(f=Jt.EMPTY_NODE,m=!1);const v=Dg(new Ha(f,m,!1),new Ha(r,i,!1));return new NO(e,v)}return u}function fA(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function iu(n,e){let t=null;for(const r of n.views.values())t=t||LO(r,e);return t}function pA(n,e){return e._queryParams.loadsAllData()?Fg(n):n.views.get(e._queryIdentifier)}function dv(n,e){return null!=pA(n,e)}function Wa(n){return null!=Fg(n)}function Fg(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let dI=1;class hv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new nr(null),this.pendingWriteTree_=function RO(){return{visibleWrites:ds.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fv(n,e,t,r,i){return function rI(n,e,t,r,i){(0,V.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=xh(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Fc(n,new nu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function ca(n,e,t=!1){const r=function JS(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function sI(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);(0,V.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,a=!1,u=n.allWrites.length-1;for(;i&&u>=0;){const f=n.allWrites[u];f.visible&&(u>=t&&XS(f,r.path)?i=!1:Qi(r.path,f.path)&&(a=!0)),u--}return!!i&&(a?(function Zy(n){n.visibleWrites=ua(n.allWrites,la,Tn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=hs(n.visibleWrites,r.path):si(r.children,m=>{n.visibleWrites=hs(n.visibleWrites,or(r.path,m))}),!0))}(n.pendingWriteTree_,e)){let a=new nr(null);return null!=r.snap?a=a.set(Tn(),!0):si(r.children,u=>{a=a.set(new kn(u),!0)}),Fc(n,new Wy(r.path,a,t))}return[]}function su(n,e,t){return Fc(n,new nu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Vg(n,e,t,r,i=!1){const a=e._path,u=n.syncPointTree_.get(a);let f=[];if(u&&("default"===e._queryIdentifier||dv(u,e))){const m=function VO(n,e,t,r){const i=e._queryIdentifier,a=[];let u=[];const f=Wa(n);if("default"===i)for(const[m,v]of n.views.entries())u=u.concat(Ph(v,t,r)),uA(v)&&(n.views.delete(m),v.query._queryParams.loadsAllData()||a.push(v.query));else{const m=n.views.get(i);m&&(u=u.concat(Ph(m,t,r)),uA(m)&&(n.views.delete(i),m.query._queryParams.loadsAllData()||a.push(m.query)))}return f&&!Wa(n)&&a.push(new(function cv(){return(0,V.hu)(Mo,"Reference.ts has not been loaded"),Mo}())(e._repo,e._path)),{removed:a,events:u}}(u,e,t,r);(function hA(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const v=m.removed;if(f=m.events,!i){const b=-1!==v.findIndex(R=>R._queryParams.loadsAllData()),S=n.syncPointTree_.findOnPath(a,(R,B)=>Wa(B));if(b&&!S){const R=n.syncPointTree_.subtree(a);if(!R.isEmpty()){const B=function $O(n){return n.fold((e,t,r)=>{if(t&&Wa(t))return[Fg(t)];{let i=[];return t&&(i=fA(t)),si(r,(a,u)=>{i=i.concat(u)}),i}})}(R);for(let q=0;q<B.length;++q){const he=B[q],Se=he.query,ct=vA(n,he);n.listenProvider_.startListening(jg(Se),Ug(n,Se),ct.hashFn,ct.onComplete)}}}!S&&v.length>0&&!r&&(b?n.listenProvider_.stopListening(jg(e),null):v.forEach(R=>{const B=n.queryToTagMap.get(Bg(R));n.listenProvider_.stopListening(jg(R),B)}))}!function HO(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=Bg(r),a=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(a)}}}(n,v)}return f}function fI(n,e,t,r){const i=gI(n,r);if(null!=i){const a=mI(i),u=a.path,f=a.queryId,m=fi(u,e);return _I(n,u,new nu(JC(f),m,t))}return[]}function pI(n,e,t,r=!1){const i=e._path;let a=null,u=!1;n.syncPointTree_.foreachOnPath(i,(R,B)=>{const q=fi(R,i);a=a||iu(B,q),u=u||Wa(B)});let m,f=n.syncPointTree_.get(i);f?(u=u||Wa(f),a=a||iu(f,Tn())):(f=new lv,n.syncPointTree_=n.syncPointTree_.set(i,f)),null!=a?m=!0:(m=!1,a=Jt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((B,q)=>{const he=iu(q,Tn());he&&(a=a.updateImmediateChild(B,he))}));const v=dv(f,e);if(!v&&!e._queryParams.loadsAllData()){const R=Bg(e);(0,V.hu)(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const B=function s(){return dI++}();n.queryToTagMap.set(R,B),n.tagToQueryMap.set(B,R)}let S=function kg(n,e,t,r,i,a){const u=Ng(n,e,r,i,a);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function cA(n,e){n.eventRegistrations_.push(e)}(u,t),function dA(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Gn,(a,u)=>{r.push(Rc(a,u))}),t.isFullyInitialized()&&r.push(Uy(t.getNode())),av(n,r,t.getNode(),e)}(u,t)}(f,e,t,Sg(n.pendingWriteTree_,i),a,m);if(!v&&!u&&!r){const R=pA(f,e);S=S.concat(function o(n,e,t){const r=e._path,i=Ug(n,e),a=vA(n,t),u=n.listenProvider_.startListening(jg(e),i,a.hashFn,a.onComplete),f=n.syncPointTree_.subtree(r);if(i)(0,V.hu)(!Wa(f.value),"If we're adding a query, it shouldn't be shadowed");else{const m=f.fold((v,b,S)=>{if(!sn(v)&&b&&Wa(b))return[Fg(b).query];{let R=[];return b&&(R=R.concat(fA(b).map(B=>B.query))),si(S,(B,q)=>{R=R.concat(q)}),R}});for(let v=0;v<m.length;++v){const b=m[v];n.listenProvider_.stopListening(jg(b),Ug(n,b))}}return u}(n,e,R))}return S}function gv(n,e,t){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(u,f)=>{const v=iu(f,fi(u,e));if(v)return v});return Yy(i,e,a,t,!0)}function Fc(n,e){return _A(e,n.syncPointTree_,null,Sg(n.pendingWriteTree_,Tn()))}function _A(n,e,t,r){if(sn(n.path))return yA(n,e,t,r);{const i=e.get(Tn());null==t&&null!=i&&(t=iu(i,Tn()));let a=[];const u=rn(n.path),f=n.operationForChild(u),m=e.children.get(u);if(m&&f){const v=t?t.getImmediateChild(u):null,b=tv(r,u);a=a.concat(_A(f,m,v,b))}return i&&(a=a.concat(Oh(i,n,r,t))),a}}function yA(n,e,t,r){const i=e.get(Tn());null==t&&null!=i&&(t=iu(i,Tn()));let a=[];return e.children.inorderTraversal((u,f)=>{const m=t?t.getImmediateChild(u):null,v=tv(r,u),b=n.operationForChild(u);b&&(a=a.concat(yA(b,f,m,v)))}),i&&(a=a.concat(Oh(i,n,r,t))),a}function vA(n,e){const t=e.query,r=Ug(n,t);return{hashFn:()=>(function kO(n){return n.viewCache_.serverCache.getNode()}(e)||Jt.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function pv(n,e,t){const r=gI(n,t);if(r){const i=mI(r),a=i.path,u=i.queryId,f=fi(a,e);return _I(n,a,new Ah(JC(u),f))}return[]}(n,t._path,r):function hI(n,e){return Fc(n,new Ah({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const a=function oC(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return Vg(n,t,null,a)}}}}function Ug(n,e){const t=Bg(e);return n.queryToTagMap.get(t)}function Bg(n){return n._path.toString()+"$"+n._queryIdentifier}function gI(n,e){return n.tagToQueryMap.get(e)}function mI(n){const e=n.indexOf("$");return(0,V.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new kn(n.substr(0,e))}}function _I(n,e,t){const r=n.syncPointTree_.get(e);return(0,V.hu)(r,"Missing sync point for query tag that we're tracking"),Oh(r,t,Sg(n.pendingWriteTree_,e),null)}function jg(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function cI(){return(0,V.hu)(Lg,"Reference.ts has not been loaded"),Lg}())(n._repo,n._path):n}class l{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new l(t)}node(){return this.node_}}class c{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=or(this.path_,e);return new c(this.syncTree_,t)}node(){return gv(this.syncTree_,this.path_)}}const h=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},p=function(n,e,t){return n&&"object"==typeof n?((0,V.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?y(n[".sv"],e,t):"object"==typeof n[".sv"]?C(n[".sv"],e):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},y=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,V.hu)(!1,"Unexpected server value: "+n)},C=function(n,e,t){n.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,V.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,V.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const u=i.getValue();return"number"!=typeof u?r:u+r},I=function(n,e,t,r){return x(e,new c(t,n),r)},T=function(n,e,t){return x(n,new l(e),t)};function x(n,e,t){const r=n.getPriority().val(),i=p(r,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const u=n,f=p(u.getValue(),e,t);return f!==u.getValue()||i!==u.getPriority().val()?new Mc(f,pr(i)):n}{const u=n;return a=u,i!==u.getPriority().val()&&(a=a.updatePriority(new Mc(i))),u.forEachChild(Gn,(f,m)=>{const v=x(m,e.getImmediateChild(f),t);v!==m&&(a=a.updateImmediateChild(f,v))}),a}}class U{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Y(n,e){let t=e instanceof kn?e:new kn(e),r=n,i=rn(t);for(;null!==i;){const a=(0,V.DV)(r.node.children,i)||{children:{},childCount:0};r=new U(i,r,a),t=Zn(t),i=rn(t)}return r}function ne(n){return n.node.value}function Ce(n,e){n.node.value=e,rr(n)}function Ke(n){return n.node.childCount>0}function ht(n,e){si(n.node.children,(t,r)=>{e(new U(t,n,r))})}function Pt(n,e,t,r){t&&!r&&e(n),ht(n,i=>{Pt(i,e,!0,r)}),t&&r&&e(n)}function Lt(n){return new kn(null===n.parent?n.name:Lt(n.parent)+"/"+n.name)}function rr(n){null!==n.parent&&function xr(n,e,t){const r=function st(n){return void 0===ne(n)&&!Ke(n)}(t),i=(0,V.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,rr(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,rr(n))}(n.parent,n.name,n)}const zO=/[\[\].#$\/\u0000-\u001F\u007F]/,DV=/[\[\].#$\u0000-\u001F\u007F]/,wA=10485760,yI=function(n){return"string"==typeof n&&0!==n.length&&!zO.test(n)},GO=function(n){return"string"==typeof n&&0!==n.length&&!DV.test(n)},mv=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!ag(n)||n&&"object"==typeof n&&(0,V.r3)(n,".sv")},qa=function(n,e,t,r){r&&void 0===e||_v((0,V.gK)(n,"value"),e,t)},_v=function(n,e,t){const r=t instanceof kn?new US(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+$a(r));if("function"==typeof e)throw new Error(n+"contains a function "+$a(r)+" with contents = "+e.toString());if(ag(e))throw new Error(n+"contains "+e.toString()+" "+$a(r));if("string"==typeof e&&e.length>wA/3&&(0,V.ug)(e)>wA)throw new Error(n+"contains a string greater than "+wA+" utf8 bytes "+$a(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,a=!1;if(si(e,(u,f)=>{if(".value"===u)i=!0;else if(".priority"!==u&&".sv"!==u&&(a=!0,!yI(u)))throw new Error(n+" contains an invalid key ("+u+") "+$a(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function BS(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,V.ug)(e),NC(n)})(r,u),_v(n,f,r),function jS(n){const e=n.parts_.pop();n.byteLength_-=(0,V.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&a)throw new Error(n+' contains ".value" child '+$a(r)+" in addition to actual children.")}},WO=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,V.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const a=[];si(e,(u,f)=>{const m=new kn(u);if(_v(i,f,or(t,m)),".priority"===Ry(m)&&!mv(f))throw new Error(i+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(m)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const a=Sc(r);for(let u=0;u<a.length;u++)if((".priority"!==a[u]||u!==a.length-1)&&!yI(a[u]))throw new Error(n+"contains an invalid key ("+a[u]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(OC);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&Qi(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,a)},EA=function(n,e,t){if(!t||void 0!==e){if(ag(e))throw new Error((0,V.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!mv(e))throw new Error((0,V.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},yv=function(n,e,t,r){if(!(r&&void 0===t||yI(t)))throw new Error((0,V.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},vv=function(n,e,t,r){if(!(r&&void 0===t||GO(t)))throw new Error((0,V.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},AV=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),vv(n,e,t,r)},xo=function(n,e){if(".info"===rn(e))throw new Error(n+" failed = Can't modify data under /.info/")},qO=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!yI(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),GO(n)}(t))throw new Error((0,V.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class MV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vI(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();null!==t&&!Ch(a,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:a}),t.events.push(i)}t&&n.eventLists_.push(t)}function KO(n,e,t){vI(n,t),ZO(n,r=>Ch(r,e))}function to(n,e,t){vI(n,t),ZO(n,r=>Qi(r,e)||Qi(e,r))}function ZO(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(xV(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function xV(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Kl&&Br("event: "+t.toString()),Ic(r)}}}const YO="repo_interrupt",RV=25;class PV{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zy(),this.transactionQueueTree_=new U,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QO(n){const t=n.infoData_.getNode(new kn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function wv(n){return h({timestamp:QO(n)})}function JO(n,e,t,r,i){n.dataUpdateCount++;const a=new kn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(i)if(r){const m=(0,V.UI)(t,v=>pr(v));u=function BO(n,e,t,r){const i=gI(n,r);if(i){const a=mI(i),u=a.path,f=a.queryId,m=fi(u,e),v=nr.fromObject(t);return _I(n,u,new oa(JC(f),m,v))}return[]}(n.serverSyncTree_,a,m,i)}else{const m=pr(t);u=fI(n.serverSyncTree_,a,m,i)}else if(r){const m=(0,V.UI)(t,v=>pr(v));u=function UO(n,e,t){const r=nr.fromObject(t);return Fc(n,new oa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,a,m)}else{const m=pr(t);u=su(n.serverSyncTree_,a,m)}let f=a;u.length>0&&(f=Hg(n,a)),to(n.eventQueue_,f,u)}function XO(n,e){CA(n,"connected",e),!1===e&&function LV(n){$g(n,"onDisconnectEvents");const e=wv(n),t=zy();kc(n.onDisconnect_,Tn(),(i,a)=>{const u=I(i,a,n.serverSyncTree_,e);Th(t,i,u)});let r=[];kc(t,Tn(),(i,a)=>{r=r.concat(su(n.serverSyncTree_,i,a));const u=TA(n,i);Hg(n,u)}),n.onDisconnect_=zy(),to(n.eventQueue_,Tn(),r)}(n)}function CA(n,e,t){const r=new kn("/.info/"+e),i=pr(t);n.infoData_.updateSnapshot(r,i);const a=su(n.infoSyncTree_,r,i);to(n.eventQueue_,r,a)}function wI(n){return n.nextWriteId_++}function IA(n,e,t,r,i){$g(n,"set",{path:e.toString(),value:t,priority:r});const a=wv(n),u=pr(t,r),f=gv(n.serverSyncTree_,e),m=T(u,f,a),v=wI(n),b=fv(n.serverSyncTree_,e,m,v,!0);vI(n.eventQueue_,b),n.server_.put(e.toString(),u.val(!0),(R,B)=>{const q="ok"===R;q||Ci("set at "+e+" failed: "+R);const he=ca(n.serverSyncTree_,v,!q);to(n.eventQueue_,e,he),Lc(0,i,R,B)});const S=TA(n,e);Hg(n,S),to(n.eventQueue_,S,[])}function VV(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&KC(n.onDisconnect_,e),Lc(0,t,r,i)})}function e1(n,e,t,r){const i=pr(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(a,u)=>{"ok"===a&&Th(n.onDisconnect_,e,i),Lc(0,r,a,u)})}function bA(n,e,t){let r;r=".info"===rn(e._path)?Vg(n.infoSyncTree_,e,t):Vg(n.serverSyncTree_,e,t),KO(n.eventQueue_,e._path,r)}function t1(n){n.persistentConnection_&&n.persistentConnection_.interrupt(YO)}function $g(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Br(t,...e)}function Lc(n,e,t,r){e&&Ic(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let a=i;r&&(a+=": "+r);const u=new Error(a);u.code=i,e(u)}})}function DA(n,e,t){return gv(n.serverSyncTree_,e,t)||Jt.EMPTY_NODE}function EI(n,e=n.transactionQueueTree_){if(e||CI(n,e),ne(e)){const t=r1(n,e);(0,V.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function zV(n,e,t){const r=t.map(v=>v.currentWriteId),i=DA(n,e,r);let a=i;const u=i.hash();for(let v=0;v<t.length;v++){const b=t[v];(0,V.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const S=fi(e,b.path);a=a.updateChild(S,b.currentOutputSnapshotRaw)}const f=a.val(!0),m=e;n.server_.put(m.toString(),f,v=>{$g(n,"transaction put response",{path:m.toString(),status:v});let b=[];if("ok"===v){const S=[];for(let R=0;R<t.length;R++)t[R].status=2,b=b.concat(ca(n.serverSyncTree_,t[R].currentWriteId)),t[R].onComplete&&S.push(()=>t[R].onComplete(null,!0,t[R].currentOutputSnapshotResolved)),t[R].unwatcher();CI(n,Y(n.transactionQueueTree_,e)),EI(n,n.transactionQueueTree_),to(n.eventQueue_,e,b);for(let R=0;R<S.length;R++)Ic(S[R])}else{if("datastale"===v)for(let S=0;S<t.length;S++)t[S].status=3===t[S].status?4:0;else{Ci("transaction at "+m.toString()+" failed: "+v);for(let S=0;S<t.length;S++)t[S].status=4,t[S].abortReason=v}Hg(n,e)}},u)}(n,Lt(e),t)}else Ke(e)&&ht(e,t=>{EI(n,t)})}function Hg(n,e){const t=n1(n,e),r=Lt(t);return function GV(n,e,t){if(0===e.length)return;const r=[];let i=[];const u=e.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const m=e[f],v=fi(t,m.path);let S,b=!1;if((0,V.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)b=!0,S=m.abortReason,i=i.concat(ca(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=RV)b=!0,S="maxretry",i=i.concat(ca(n.serverSyncTree_,m.currentWriteId,!0));else{const R=DA(n,m.path,u);m.currentInputSnapshot=R;const B=e[f].update(R.val());if(void 0!==B){_v("transaction failed: Data returned ",B,m.path);let q=pr(B);"object"==typeof B&&null!=B&&(0,V.r3)(B,".priority")||(q=q.updatePriority(R.getPriority()));const Se=m.currentWriteId,ct=wv(n),wt=T(q,R,ct);m.currentOutputSnapshotRaw=q,m.currentOutputSnapshotResolved=wt,m.currentWriteId=wI(n),u.splice(u.indexOf(Se),1),i=i.concat(fv(n.serverSyncTree_,m.path,wt,m.currentWriteId,m.applyLocally)),i=i.concat(ca(n.serverSyncTree_,Se,!0))}else b=!0,S="nodata",i=i.concat(ca(n.serverSyncTree_,m.currentWriteId,!0))}to(n.eventQueue_,t,i),i=[],b&&(e[f].status=2,setTimeout(e[f].unwatcher,Math.floor(0)),e[f].onComplete&&r.push("nodata"===S?()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot):()=>e[f].onComplete(new Error(S),!1,null)))}CI(n,n.transactionQueueTree_);for(let f=0;f<r.length;f++)Ic(r[f]);EI(n,n.transactionQueueTree_)}(n,r1(n,t),r),r}function n1(n,e){let t,r=n.transactionQueueTree_;for(t=rn(e);null!==t&&void 0===ne(r);)r=Y(r,t),t=rn(e=Zn(e));return r}function r1(n,e){const t=[];return i1(n,e,t),t.sort((r,i)=>r.order-i.order),t}function i1(n,e,t){const r=ne(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);ht(e,i=>{i1(n,i,t)})}function CI(n,e){const t=ne(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,Ce(e,t.length>0?t:void 0)}ht(e,r=>{CI(n,r)})}function TA(n,e){const t=Lt(n1(n,e)),r=Y(n.transactionQueueTree_,e);return function Fe(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{SA(n,i)}),SA(n,r),Pt(r,i=>{SA(n,i)}),t}function SA(n,e){const t=ne(e);if(t){const r=[];let i=[],a=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,V.hu)(a===u-1,"All SENT items should be at beginning of queue."),a=u,t[u].status=3,t[u].abortReason="set"):((0,V.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),i=i.concat(ca(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&r.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Ce(e,void 0):t.length=a+1,to(n.eventQueue_,Lt(e),i);for(let u=0;u<r.length;u++)Ic(r[u])}}const AA=function(n,e){const t=KV(n),r=t.namespace;return"firebase.com"===t.domain&&Ys(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ys("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ci("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new by(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new kn(t.pathString)}},KV=function(n){let e="",t="",r="",i="",a="",u=!0,f="https",m=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(f=n.substring(0,v-1),n=n.substring(v+2));let b=n.indexOf("/");-1===b&&(b=n.length);let S=n.indexOf("?");-1===S&&(S=n.length),e=n.substring(0,Math.min(b,S)),b<S&&(i=function WV(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(b,S)));const R=function qV(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ci(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,S)));v=e.indexOf(":"),v>=0?(u="https"===f||"wss"===f,m=parseInt(e.substring(v+1),10)):v=e.length;const B=e.slice(0,v);if("localhost"===B.toLowerCase())t="localhost";else if(B.split(".").length<=2)t=B;else{const q=e.indexOf(".");r=e.substring(0,q).toLowerCase(),t=e.substring(q+1),a=r}"ns"in R&&(a=R.ns)}return{host:e,port:m,domain:t,subdomain:r,secure:u,scheme:f,pathString:i,namespace:a}},s1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ZV=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const a=new Array(8);for(i=7;i>=0;i--)a[i]=s1.charAt(t%64),t=Math.floor(t/64);(0,V.hu)(0===t,"Cannot push at time == 0");let u=a.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=s1.charAt(e[i]);return(0,V.hu)(20===u.length,"nextPushId: Length should be 20."),u}}();class o1{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Wl)(this.snapshot.exportVal())}}class a1{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class MA{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class l1{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new V.BH;return VV(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){xo("OnDisconnect.remove",this._path);const e=new V.BH;return e1(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){xo("OnDisconnect.set",this._path),qa("OnDisconnect.set",e,this._path,!1);const t=new V.BH;return e1(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){xo("OnDisconnect.setWithPriority",this._path),qa("OnDisconnect.setWithPriority",e,this._path,!1),EA("OnDisconnect.setWithPriority",t,!1);const r=new V.BH;return function UV(n,e,t,r,i){const a=pr(t,r);n.server_.onDisconnectPut(e.toString(),a.val(!0),(u,f)=>{"ok"===u&&Th(n.onDisconnect_,e,a),Lc(0,i,u,f)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){xo("OnDisconnect.update",this._path),WO("OnDisconnect.update",e,this._path,!1);const t=new V.BH;return function BV(n,e,t,r){if((0,V.xb)(t))return Br("onDisconnect().update() called with empty data.  Don't do anything."),void Lc(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,a)=>{"ok"===i&&si(t,(u,f)=>{const m=pr(f);Th(n.onDisconnect_,or(e,u),m)}),Lc(0,r,i,a)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Os{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return sn(this._path)?null:Ry(this._path)}get ref(){return new Ro(this._repo,this._path)}get _queryIdentifier(){const e=ZS(this._queryParams),t=vy(e);return"{}"===t?"default":t}get _queryObject(){return ZS(this._queryParams)}isEqual(e){if(!((e=(0,V.m9)(e))instanceof Os))return!1;const t=this._repo===e._repo,r=Ch(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function PC(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function II(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Vc(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===So){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ba)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==Do)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===Gn){if(null!=e&&!mv(e)||null!=t&&!mv(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.hu)(n.getIndex()instanceof Vy||n.getIndex()===Cg,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function bI(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ro extends Os{constructor(e,t){super(e,t,new Dh,!1)}get parent(){const e=gg(this._path);return null===e?null:new Ro(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Nh{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new kn(e),r=kh(this.ref,e);return new Nh(this._node.getChild(t),r,Gn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Nh(i,kh(this.ref,r),Gn)))}hasChild(e){const t=new kn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function u1(n,e){return(n=(0,V.m9)(n))._checkNotDeleted("ref"),void 0!==e?kh(n._root,e):n._root}function c1(n,e){(n=(0,V.m9)(n))._checkNotDeleted("refFromURL");const t=AA(e,n._repo.repoInfo_.nodeAdmin);qO("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Ys("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),u1(n,t.path.toString())}function kh(n,e){return null===rn((n=(0,V.m9)(n))._path)?AV("child","path",e,!1):vv("child","path",e,!1),new Ro(n._repo,or(n._path,e))}function xA(n,e){n=(0,V.m9)(n),xo("set",n._path),qa("set",e,n._path,!1);const t=new V.BH;return IA(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function eU(n,e){WO("update",e,n._path,!1);const t=new V.BH;return function FV(n,e,t,r){$g(n,"update",{path:e.toString(),value:t});let i=!0;const a=wv(n),u={};if(si(t,(f,m)=>{i=!1,u[f]=I(or(e,f),pr(m),n.serverSyncTree_,a)}),i)Br("update() called with empty data.  Don't do anything."),Lc(0,r,"ok",void 0);else{const f=wI(n),m=function mA(n,e,t,r){!function iI(n,e,t,r){(0,V.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=tI(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=nr.fromObject(t);return Fc(n,new oa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,u,f);vI(n.eventQueue_,m),n.server_.merge(e.toString(),t,(v,b)=>{const S="ok"===v;S||Ci("update at "+e+" failed: "+v);const R=ca(n.serverSyncTree_,f,!S),B=R.length>0?Hg(n,e):e;to(n.eventQueue_,B,R),Lc(0,r,v,b)}),si(t,v=>{const b=TA(n,or(e,v));Hg(n,b)}),to(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function tU(n){n=(0,V.m9)(n);const e=new MA(()=>{}),t=new Ev(e);return function kV(n,e,t){const r=function jO(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(v,b)=>{const S=fi(v,t);r=r||iu(b,S)});let i=n.syncPointTree_.get(t);i?r=r||iu(i,Tn()):(i=new lv,n.syncPointTree_=n.syncPointTree_.set(t,i));const a=null!=r,u=a?new Ha(r,!0,!1):null;return function FO(n){return Mh(n.viewCache_)}(Ng(i,e,Sg(n.pendingWriteTree_,e._path),a?u.getNode():Jt.EMPTY_NODE,a))}(n.serverSyncTree_,e);return null!=r?Promise.resolve(r):n.server_.get(e).then(i=>{const a=pr(i).withIndex(e._queryParams.getIndex());let u;if(pI(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())u=su(n.serverSyncTree_,e._path,a);else{const f=Ug(n.serverSyncTree_,e);u=fI(n.serverSyncTree_,e._path,a,f)}return to(n.eventQueue_,e._path,u),Vg(n.serverSyncTree_,e,t,null,!0),a},i=>($g(n,"get for query "+(0,V.Wl)(e)+" failed: "+i),Promise.reject(new Error(i))))}(n._repo,n,t).then(r=>new Nh(r,new Ro(n._repo,n._path),n._queryParams.getIndex()))}class Ev{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new o1("value",this,new Nh(e.snapshotNode,new Ro(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new a1(this,e,t):null}matches(e){return e instanceof Ev&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class DI{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new a1(this,e,t):null}createEvent(e,t){(0,V.hu)(null!=e.childName,"Child events should have a childName.");const r=kh(new Ro(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new o1(e.type,this,new Nh(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof DI&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Cv(n,e,t,r,i){let a;if("object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce){const m=t,v=(b,S)=>{bA(n._repo,n,f),m(b,S)};v.userCallback=t.userCallback,v.context=t.context,t=v}const u=new MA(t,a||void 0),f="value"===e?new Ev(u):new DI(e,u);return function jV(n,e,t){let r;r=".info"===rn(e._path)?pI(n.infoSyncTree_,e,t):pI(n.serverSyncTree_,e,t),KO(n.eventQueue_,e._path,r)}(n._repo,n,f),()=>bA(n._repo,n,f)}function RA(n,e,t,r){return Cv(n,"value",e,t,r)}function d1(n,e,t,r){return Cv(n,"child_added",e,t,r)}function h1(n,e,t,r){return Cv(n,"child_changed",e,t,r)}function f1(n,e,t,r){return Cv(n,"child_moved",e,t,r)}function p1(n,e,t,r){return Cv(n,"child_removed",e,t,r)}function g1(n,e,t){let r=null;const i=t?new MA(t):null;"value"===e?r=new Ev(i):e&&(r=new DI(e,i)),bA(n._repo,n,r)}class da{}class m1 extends da{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){qa("endAt",this._value,e._path,!0);const t=WC(e._queryParams,this._value,this._key);if(bI(t),Vc(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Os(e._repo,e._path,t,e._orderByCalled)}}class rU extends da{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){qa("endBefore",this._value,e._path,!1);const t=function qC(n,e,t){let r;return r=WC(n,e,n.index_===So||t?t:Ba),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(bI(t),Vc(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Os(e._repo,e._path,t,e._orderByCalled)}}class _1 extends da{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){qa("startAt",this._value,e._path,!0);const t=jy(e._queryParams,this._value,this._key);if(bI(t),Vc(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Os(e._repo,e._path,t,e._orderByCalled)}}class oU extends da{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){qa("startAfter",this._value,e._path,!1);const t=function qS(n,e,t){let r;return r=jy(n,e,n.index_===So||t?t:Do),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(bI(t),Vc(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Os(e._repo,e._path,t,e._orderByCalled)}}class lU extends da{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Os(e._repo,e._path,function zC(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class cU extends da{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Os(e._repo,e._path,function GC(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class hU extends da{constructor(e){super(),this._path=e}_apply(e){II(e,"orderByChild");const t=new kn(this._path);if(sn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Vy(t),i=$y(e._queryParams,r);return Vc(i),new Os(e._repo,e._path,i,!0)}}class pU extends da{_apply(e){II(e,"orderByKey");const t=$y(e._queryParams,So);return Vc(t),new Os(e._repo,e._path,t,!0)}}class mU extends da{_apply(e){II(e,"orderByPriority");const t=$y(e._queryParams,Gn);return Vc(t),new Os(e._repo,e._path,t,!0)}}class yU extends da{_apply(e){II(e,"orderByValue");const t=$y(e._queryParams,Cg);return Vc(t),new Os(e._repo,e._path,t,!0)}}class wU extends da{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(qa("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new m1(this._value,this._key)._apply(new _1(this._value,this._key)._apply(e))}}function ha(n,...e){let t=(0,V.m9)(n);for(const r of e)t=r._apply(t);return t}(function uv(n){(0,V.hu)(!Mo,"__referenceConstructor has already been defined"),Mo=n})(Ro),function gA(n){(0,V.hu)(!Lg,"__referenceConstructor has already been defined"),Lg=n}(Ro);const CU="FIREBASE_DATABASE_EMULATOR_HOST",PA={};let y1=!1;function v1(n,e,t,r,i){let a=r||n.options.databaseURL;void 0===a&&(n.options.projectId||Ys("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Br("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,v,u=AA(a,i),f=u.repoInfo;typeof process<"u"&&process.env&&(v=process.env[CU]),v?(m=!0,a=`http://${v}?ns=${f.namespace}`,u=AA(a,i),f=u.repoInfo):m=!u.repoInfo.secure;const b=i&&m?new Ql(Ql.OWNER):new uC(n.name,n.options,e);qO("Invalid Firebase Database URL",u),sn(u.path)||Ys("Database URL must point to the root of a Firebase Database (not including a child path).");const S=function DU(n,e,t,r){let i=PA[e.name];i||(i={},PA[e.name]=i);let a=i[n.toURLString()];return a&&Ys("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new PV(n,y1,t,r),i[n.toURLString()]=a,a}(f,n,b,new wy(n.name,t));return new SU(S,n)}class SU{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function OV(n,e,t){if(n.stats_=hg(n.repoInfo_),n.forceRestClient_||IS())n.server_=new Hy(n.repoInfo_,(r,i,a,u)=>{JO(n,r,i,a,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>XO(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Xl(n.repoInfo_,e,(r,i,a,u)=>{JO(n,r,i,a,u)},r=>{XO(n,r)},r=>{!function NV(n,e){si(e,(t,r)=>{CA(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function mC(n,e){const t=n.toString();return dg[t]||(dg[t]=e()),dg[t]}(n.repoInfo_,()=>new SO(n.stats_,n.server_)),n.infoData_=new DO,n.infoSyncTree_=new hv({startListening:(r,i,a,u)=>{let f=[];const m=n.infoData_.getNode(r._path);return m.isEmpty()||(f=su(n.infoSyncTree_,r._path,m),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),CA(n,"connected",!1),n.serverSyncTree_=new hv({startListening:(r,i,a,u)=>(n.server_.listen(r,a,i,(f,m)=>{const v=u(f,m);to(n.eventQueue_,r._path,v)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ro(this._repo,Tn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function bU(n,e){const t=PA[e];(!t||t[n.key]!==n)&&Ys(`Database ${e}(${n.repoInfo_}) has already been deleted.`),t1(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ys("Cannot call "+e+" on a deleted database.")}}function w1(){My.IS_TRANSPORT_INITIALIZED&&Ci("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function AU(){w1(),ja.forceDisallow()}function MU(){w1(),To.forceDisallow(),ja.forceAllow()}function E1(n,e,t,r={}){(n=(0,V.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ys("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ys('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Ql(Ql.OWNER);else if(r.mockUserToken){const u="string"==typeof r.mockUserToken?r.mockUserToken:(0,V.Sg)(r.mockUserToken,n.app.options.projectId);a=new Ql(u)}!function IU(n,e,t,r){n.repoInfo_=new by(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,a)}function OU(n,e){nC(n,e)}const kU={".sv":"timestamp"};class VU{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Xl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Xl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function NU(n){mS(Ni.SDK_VERSION),(0,Ni._registerComponent)(new La.wA("database",(e,{instanceIdentifier:t})=>v1(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Ni.registerVersion)(QE,"0.14.4",n),(0,Ni.registerVersion)(QE,"0.14.4","esm2017")}();class OA{constructor(e){return e}}const C1="database",NA=new d.OlP("angularfire2.database-instances");function $U(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new OA(r)}}const HU={provide:class BU{constructor(){return(0,Wt.vb)(C1)}},deps:[[new d.FiY,NA]]},zU={provide:OA,useFactory:function jU(n,e){const t=(0,Wt.JM)(C1,n,e);return t&&new OA(t)},deps:[[new d.FiY,NA],Ss]};let GU=(()=>{class n{constructor(){(0,hi.KN)("angularfire",Wt.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[zU,HU]}),n})();var It,qU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ou={},kA=kA||{},tn=qU||self;function TI(){}function SI(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Iv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var FA="closure_uid_"+(1e9*Math.random()>>>0),ZU=0;function YU(n,e,t){return n.call.apply(n.bind,arguments)}function QU(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Xi(n,e,t){return(Xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?YU:QU).apply(null,arguments)}function AI(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Li(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function Uc(){this.s=this.s,this.o=this.o}Uc.prototype.s=!1,Uc.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function KU(n){Object.prototype.hasOwnProperty.call(n,FA)&&n[FA]||(n[FA]=++ZU)}(this)},Uc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const I1=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function LA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function b1(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(SI(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let u=0;u<a;u++)n[i+u]=r[u]}else n.push(r)}}function es(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}es.prototype.h=function(){this.defaultPrevented=!0};var XU=function(){if(!tn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{tn.addEventListener("test",TI,e),tn.removeEventListener("test",TI,e)}catch{}return n}();function MI(n){return/^[\s\xa0]*$/.test(n)}var D1=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function VA(n,e){return n<e?-1:n>e?1:0}function xI(){var n=tn.navigator;return n&&(n=n.userAgent)?n:""}function Ka(n){return-1!=xI().indexOf(n)}function UA(n){return UA[" "](n),n}UA[" "]=TI;var RI,n,tB=Ka("Opera"),zg=Ka("Trident")||Ka("MSIE"),T1=Ka("Edge"),BA=T1||zg,S1=Ka("Gecko")&&!(-1!=xI().toLowerCase().indexOf("webkit")&&!Ka("Edge"))&&!(Ka("Trident")||Ka("MSIE"))&&!Ka("Edge"),nB=-1!=xI().toLowerCase().indexOf("webkit")&&!Ka("Edge");function A1(){var n=tn.document;return n?n.documentMode:void 0}e:{var jA="",$A=(n=xI(),S1?/rv:([^\);]+)(\)|;)/.exec(n):T1?/Edge\/([\d\.]+)/.exec(n):zg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nB?/WebKit\/(\S+)/.exec(n):tB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if($A&&(jA=$A?$A[1]:""),zg){var HA=A1();if(null!=HA&&HA>parseFloat(jA)){RI=String(HA);break e}}RI=jA}var rB={};var sB=tn.document&&zg&&(A1()||parseInt(RI,10))||void 0;function bv(n,e){if(es.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(S1){e:{try{UA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:oB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bv.X.h.call(this)}}Li(bv,es);var oB={2:"touch",3:"pen",4:"mouse"};bv.prototype.h=function(){bv.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Dv="closure_listenable_"+(1e6*Math.random()|0),aB=0;function lB(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++aB,this.ba=this.ea=!1}function PI(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function GA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function x1(n){const e={};for(const t in n)e[t]=n[t];return e}const R1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P1(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<R1.length;a++)t=R1[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function OI(n){this.src=n,this.g={},this.h=0}function WA(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=I1(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(PI(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function qA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}OI.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=qA(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new lB(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var KA="closure_lm_"+(1e6*Math.random()|0),ZA={};function O1(n,e,t,r,i){if(r&&r.once)return k1(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)O1(n,e[a],t,r,i);return null}return t=XA(t),n&&n[Dv]?n.N(e,t,Iv(r)?!!r.capture:!!r,i):N1(n,e,t,!1,r,i)}function N1(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=Iv(i)?!!i.capture:!!i,f=QA(n);if(f||(n[KA]=f=new OI(n)),(t=f.add(e,t,r,u,a)).proxy)return t;if(r=function uB(){const e=cB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)XU||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(L1(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function k1(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)k1(n,e[a],t,r,i);return null}return t=XA(t),n&&n[Dv]?n.O(e,t,Iv(r)?!!r.capture:!!r,i):N1(n,e,t,!0,r,i)}function F1(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)F1(n,e[a],t,r,i);else r=Iv(r)?!!r.capture:!!r,t=XA(t),n&&n[Dv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=qA(a=n.g[e],t,r,i))&&(PI(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=QA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=qA(e,t,r,i)),(t=-1<n?e[n]:null)&&YA(t))}function YA(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Dv])WA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(L1(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=QA(e))?(WA(t,n),0==t.h&&(t.src=null,e[KA]=null)):PI(n)}}}function L1(n){return n in ZA?ZA[n]:ZA[n]="on"+n}function cB(n,e){if(n.ba)n=!0;else{e=new bv(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&YA(n),n=t.call(r,e)}return n}function QA(n){return(n=n[KA])instanceof OI?n:null}var JA="__closure_events_fn_"+(1e9*Math.random()>>>0);function XA(n){return"function"==typeof n?n:(n[JA]||(n[JA]=function(e){return n.handleEvent(e)}),n[JA])}function Ii(){Uc.call(this),this.i=new OI(this),this.P=this,this.I=null}function Vi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new es(e,n);else if(e instanceof es)e.target=e.target||n;else{var i=e;P1(e=new es(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=NI(u,r,!0,e)&&i}if(i=NI(u=e.g=n,r,!0,e)&&i,i=NI(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=NI(u=e.g=t[a],r,!1,e)&&i}function NI(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var f=u.listener,m=u.ha||u.src;u.ea&&WA(n.i,u),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}Li(Ii,Uc),Ii.prototype[Dv]=!0,Ii.prototype.removeEventListener=function(n,e,t,r){F1(this,n,e,t,r)},Ii.prototype.M=function(){if(Ii.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)PI(t[r]);delete n.g[e],n.h--}}this.I=null},Ii.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ii.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var eM=tn.JSON.stringify;function dB(){var n=B1;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var tM,V1=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fB,n=>n.reset());class fB{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pB(n){tn.setTimeout(()=>{throw n},0)}function U1(n,e){tM||function gB(){var n=tn.Promise.resolve(void 0);tM=function(){n.then(mB)}}(),nM||(tM(),nM=!0),B1.add(n,e)}var nM=!1,B1=new class hB{constructor(){this.h=this.g=null}add(e,t){const r=V1.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function mB(){for(var n;n=dB();){try{n.h.call(n.g)}catch(t){pB(t)}var e=V1;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}nM=!1}function kI(n,e){Ii.call(this),this.h=n||1,this.g=e||tn,this.j=Xi(this.lb,this),this.l=Date.now()}function rM(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function iM(n,e,t){if("function"==typeof n)t&&(n=Xi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xi(n.handleEvent,n)}return 2147483647<Number(e)?-1:tn.setTimeout(n,e||0)}function j1(n){n.g=iM(()=>{n.g=null,n.i&&(n.i=!1,j1(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Li(kI,Ii),(It=kI.prototype).ca=!1,It.R=null,It.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Vi(this,"tick"),this.ca&&(rM(this),this.start()))}},It.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.M=function(){kI.X.M.call(this),rM(this),delete this.g};class _B extends Uc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:j1(this)}M(){super.M(),this.g&&(tn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tv(n){Uc.call(this),this.h=n,this.g={}}Li(Tv,Uc);var $1=[];function H1(n,e,t,r){Array.isArray(t)||(t&&($1[0]=t.toString()),t=$1);for(var i=0;i<t.length;i++){var a=O1(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function z1(n){GA(n.g,function(e,t){this.g.hasOwnProperty(t)&&YA(e)},n),n.g={}}function FI(){this.g=!0}function Gg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function EB(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return eM(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Tv.prototype.M=function(){Tv.X.M.call(this),z1(this)},Tv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},FI.prototype.Aa=function(){this.g=!1},FI.prototype.info=function(){};var Fh={},G1=null;function LI(){return G1=G1||new Ii}function W1(n){es.call(this,Fh.Pa,n)}function Sv(n){const e=LI();Vi(e,new W1(e))}function q1(n,e){es.call(this,Fh.STAT_EVENT,n),this.stat=e}function fs(n){const e=LI();Vi(e,new q1(e,n))}function K1(n,e){es.call(this,Fh.Qa,n),this.size=e}function Av(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return tn.setTimeout(function(){n()},e)}Fh.Pa="serverreachability",Li(W1,es),Fh.STAT_EVENT="statevent",Li(q1,es),Fh.Qa="timingevent",Li(K1,es);var VI={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Z1={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function sM(){}function Q1(){}sM.prototype.h=null;var lM,Mv={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function oM(){es.call(this,"d")}function aM(){es.call(this,"c")}function UI(){}function xv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Tv(this),this.O=CB,this.T=new kI(n=BA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new J1}function J1(){this.i=null,this.g="",this.h=!1}Li(oM,es),Li(aM,es),Li(UI,sM),UI.prototype.g=function(){return new XMLHttpRequest},UI.prototype.i=function(){return{}},lM=new UI;var CB=45e3,uM={},BI={};function cM(n,e,t){n.K=1,n.v=zI(au(e)),n.s=t,n.P=!0,X1(n,null)}function X1(n,e){n.F=Date.now(),Rv(n),n.A=au(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),uN(t.i,"t",r),n.C=0,t=n.l.H,n.h=new J1,n.g=ON(n.l,t?e:null,!n.s),0<n.N&&(n.L=new _B(Xi(n.La,n,n.g),n.N)),H1(n.S,n.g,"readystatechange",n.ib),e=n.H?x1(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Sv(),function yB(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var b=v[0];v=v[1];var S=b.split("_");u=2<=S.length&&"type"==S[1]?u+(b+"=")+v+"&":u+(b+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function eN(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function tN(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=IB(n,t),i==BI){4==e&&(n.o=4,fs(14),r=!1),Gg(n.j,n.m,null,"[Incomplete Response]");break}if(i==uM){n.o=4,fs(15),Gg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Gg(n.j,n.m,i,null),dM(n,i)}eN(n)&&i!=BI&&i!=uM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),vM(e),e.K=!0,fs(11))):(Gg(n.j,n.m,t,"[Invalid Chunked Response]"),Lh(n),Pv(n))}function IB(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?BI:(t=Number(e.substring(t,r)),isNaN(t)?uM:(r+=1)+t>e.length?BI:(e=e.substr(r,t),n.C=r+t,e))}function Rv(n){n.V=Date.now()+n.O,nN(n,n.O)}function nN(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Av(Xi(n.gb,n),e)}function jI(n){n.B&&(tn.clearTimeout(n.B),n.B=null)}function Pv(n){0==n.l.G||n.I||MN(n.l,n)}function Lh(n){jI(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,rM(n.T),z1(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function dM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||hM(t.h,n)))if(!n.J&&hM(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;YI(t),KI(t)}yM(t),fs(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Av(Xi(t.cb,t),6e3));if(1>=hN(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Uh(t,11)}else if((n.J||t.g==n)&&YI(t),!MI(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const b=v[3];null!=b&&(t.ma=b,t.j.info("VER="+t.ma));const S=v[4];null!=S&&(t.Ca=S,t.j.info("SVER="+t.Ca));const R=v[5];null!=R&&"number"==typeof R&&0<R&&(t.J=r=1.5*R,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const q=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=r.h;a.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(fM(a,a.h),a.h=null))}if(r.D){const he=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;he&&(r.za=he,Dr(r.F,r.D,he))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=PN(r,r.H?r.ka:null,r.V),u.J){fN(r.h,u);var f=u,m=r.J;m&&f.setTimeout(m),f.B&&(jI(f),Rv(f)),r.g=u}else SN(r);0<t.i.length&&ZI(t)}else"stop"!=v[0]&&"close"!=v[0]||Uh(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Uh(t,7):_M(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}Sv()}catch{}}function rN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(SI(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function DB(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(SI(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function bB(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(SI(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(It=xv.prototype).setTimeout=function(n){this.O=n},It.ib=function(n){n=n.target;const e=this.L;e&&3==lu(n)?e.l():this.La(n)},It.La=function(n){try{if(n==this.g)e:{const b=lu(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||BA||this.g&&(this.h.h||this.g.fa()||EN(this.g)))){this.I||4!=b||7==e||Sv(),jI(this);var t=this.g.aa();this.Y=t;t:if(eN(this)){var r=EN(this.g);n="";var i=r.length,a=4==lu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Lh(this),Pv(this);var u="";break t}this.h.i=new tn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function vB(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,b,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!MI(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,fs(12),Lh(this),Pv(this);break e}Gg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dM(this,t)}this.P?(tN(this,b,u),BA&&this.i&&3==b&&(H1(this.S,this.T,"tick",this.hb),this.T.start())):(Gg(this.j,this.m,u,null),dM(this,u)),4==b&&Lh(this),this.i&&!this.I&&(4==b?MN(this.l,this):(this.i=!1,Rv(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,fs(12)):(this.o=0,fs(13)),Lh(this),Pv(this)}}}catch{}},It.hb=function(){if(this.g){var n=lu(this.g),e=this.g.fa();this.C<e.length&&(jI(this),tN(this,n,e),this.i&&4!=n&&Rv(this))}},It.cancel=function(){this.I=!0,Lh(this)},It.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function wB(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Sv(),fs(17)),Lh(this),this.o=2,Pv(this)):nN(this,this.V-n)};var iN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vh(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Vh){this.h=void 0!==e?e:n.h,$I(this,n.j),this.s=n.s,this.g=n.g,HI(this,n.m),this.l=n.l,e=n.i;var t=new kv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),sN(this,t),this.o=n.o}else n&&(t=String(n).match(iN))?(this.h=!!e,$I(this,t[1]||"",!0),this.s=Ov(t[2]||""),this.g=Ov(t[3]||"",!0),HI(this,t[4]),this.l=Ov(t[5]||"",!0),sN(this,t[6]||"",!0),this.o=Ov(t[7]||"")):(this.h=!!e,this.i=new kv(null,this.h))}function au(n){return new Vh(n)}function $I(n,e,t){n.j=t?Ov(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function HI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function sN(n,e,t){e instanceof kv?(n.i=e,function PB(n,e){e&&!n.j&&(Bc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(aN(this,r),uN(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Nv(e,xB)),n.i=new kv(e,n.h))}function Dr(n,e,t){n.i.set(e,t)}function zI(n){return Dr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ov(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Nv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,SB),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function SB(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Nv(e,oN,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Nv(e,oN,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Nv(t,"/"==t.charAt(0)?MB:AB,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Nv(t,RB)),n.join("")};var oN=/[#\/\?@]/g,AB=/[#\?:]/g,MB=/[#\?]/g,xB=/[#\?@]/g,RB=/#/g;function kv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Bc(n){n.g||(n.g=new Map,n.h=0,n.i&&function TB(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function aN(n,e){Bc(n),e=Wg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function lN(n,e){return Bc(n),e=Wg(n,e),n.g.has(e)}function uN(n,e,t){aN(n,e),0<t.length&&(n.i=null,n.g.set(Wg(n,e),LA(t)),n.h+=t.length)}function Wg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function cN(n){this.l=n||NB,n=tn.PerformanceNavigationTiming?0<(n=tn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(tn.g&&tn.g.Ga&&tn.g.Ga()&&tn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=kv.prototype).add=function(n,e){Bc(this),this.i=null,n=Wg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},It.forEach=function(n,e){Bc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},It.oa=function(){Bc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},It.W=function(n){Bc(this);let e=[];if("string"==typeof n)lN(this,n)&&(e=e.concat(this.g.get(Wg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},It.set=function(n,e){return Bc(this),this.i=null,lN(this,n=Wg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},It.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=a;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var NB=10;function dN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hN(n){return n.h?1:n.g?n.g.size:0}function hM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function fM(n,e){n.g?n.g.add(e):n.h=e}function fN(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function pN(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return LA(n.i)}function pM(){}function kB(){this.g=new pM}function FB(n,e,t){const r=t||"";try{rN(n,function(i,a){let u=i;Iv(i)&&(u=eM(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function GI(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Fv(n){this.l=n.ac||null,this.j=n.jb||!1}function WI(n,e){Ii.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=gM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cN.prototype.cancel=function(){if(this.i=pN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},pM.prototype.stringify=function(n){return tn.JSON.stringify(n,void 0)},pM.prototype.parse=function(n){return tn.JSON.parse(n,void 0)},Li(Fv,sM),Fv.prototype.g=function(){return new WI(this.l,this.j)},Fv.prototype.i=function(n){return function(){return n}}({}),Li(WI,Ii);var gM=0;function gN(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Lv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Vv(n)}function Vv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=WI.prototype).open=function(n,e){if(this.readyState!=gM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Vv(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||tn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lv(this)),this.readyState=gM},It.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Vv(this)),this.g&&(this.readyState=3,Vv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof tn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gN(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},It.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Lv(this):Vv(this),3==this.readyState&&gN(this)}},It.Va=function(n){this.g&&(this.response=this.responseText=n,Lv(this))},It.Ua=function(n){this.g&&(this.response=n,Lv(this))},It.ga=function(){this.g&&Lv(this)},It.setRequestHeader=function(n,e){this.v.append(n,e)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(WI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var VB=tn.JSON.parse;function jr(n){Ii.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mN,this.K=this.L=!1}Li(jr,Ii);var mN="",UB=/^https?$/i,BB=["POST","PUT"];function _N(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,yN(n),qI(n)}function yN(n){n.D||(n.D=!0,Vi(n,"complete"),Vi(n,"error"))}function vN(n){if(n.h&&typeof kA<"u"&&(!n.C[1]||4!=lu(n)||2!=n.aa()))if(n.v&&4==lu(n))iM(n.Ha,0,n);else if(Vi(n,"readystatechange"),4==lu(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(iN)[1]||null;if(!i&&tn.self&&tn.self.location){var a=tn.self.location.protocol;i=a.substr(0,a.length-1)}r=!UB.test(i?i.toLowerCase():"")}t=r}if(t)Vi(n,"complete"),Vi(n,"success");else{n.m=6;try{var u=2<lu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",yN(n)}}finally{qI(n)}}}function qI(n,e){if(n.g){wN(n);const t=n.g,r=n.C[0]?TI:null;n.g=null,n.C=null,e||Vi(n,"ready");try{t.onreadystatechange=r}catch{}}}function wN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(tn.clearTimeout(n.A),n.A=null)}function lu(n){return n.g?n.g.readyState:0}function EN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case mN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function CN(n){let e="";return GA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function mM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=CN(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Dr(n,e,t))}function Uv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function IN(n){this.Ca=0,this.i=[],this.j=new FI,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Uv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Uv("baseRetryDelayMs",5e3,n),this.bb=Uv("retryDelaySeedMs",1e4,n),this.$a=Uv("forwardChannelMaxRetries",2,n),this.ta=Uv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new cN(n&&n.concurrentRequestLimit),this.Fa=new kB,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function _M(n){if(bN(n),3==n.G){var e=n.U++,t=au(n.F);Dr(t,"SID",n.I),Dr(t,"RID",e),Dr(t,"TYPE","terminate"),Bv(n,t),(e=new xv(n,n.j,e,void 0)).K=2,e.v=zI(au(t)),t=!1,tn.navigator&&tn.navigator.sendBeacon&&(t=tn.navigator.sendBeacon(e.v.toString(),"")),!t&&tn.Image&&((new Image).src=e.v,t=!0),t||(e.g=ON(e.l,null),e.g.da(e.v)),e.F=Date.now(),Rv(e)}RN(n)}function KI(n){n.g&&(vM(n),n.g.cancel(),n.g=null)}function bN(n){KI(n),n.u&&(tn.clearTimeout(n.u),n.u=null),YI(n),n.h.cancel(),n.m&&("number"==typeof n.m&&tn.clearTimeout(n.m),n.m=null)}function ZI(n){dN(n.h)||n.m||(n.m=!0,U1(n.Ja,n),n.C=0)}function DN(n,e){var t;t=e?e.m:n.U++;const r=au(n.F);Dr(r,"SID",n.I),Dr(r,"RID",t),Dr(r,"AID",n.T),Bv(n,r),n.o&&n.s&&mM(r,n.o,n.s),t=new xv(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=TN(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),fM(n.h,t),cM(t,r,e)}function Bv(n,e){n.ia&&GA(n.ia,function(t,r){Dr(e,r,t)}),n.l&&rN({},function(t,r){Dr(e,r,t)})}function TN(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Xi(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let m=0;m<t;m++){let v=i[m].h;const b=i[m].g;if(v-=a,0>v)a=Math.max(0,i[m].h-100),f=!1;else try{FB(b,u,"req"+v+"_")}catch{r&&r(b)}}if(f){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function SN(n){n.g||n.u||(n.Z=1,U1(n.Ia,n),n.A=0)}function yM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Av(Xi(n.Ia,n),xN(n,n.A)),n.A++,0))}function vM(n){null!=n.B&&(tn.clearTimeout(n.B),n.B=null)}function AN(n){n.g=new xv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=au(n.sa);Dr(e,"RID","rpc"),Dr(e,"SID",n.I),Dr(e,"CI",n.L?"0":"1"),Dr(e,"AID",n.T),Dr(e,"TYPE","xmlhttp"),Bv(n,e),n.o&&n.s&&mM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=zI(au(e)),t.s=null,t.P=!0,X1(t,n)}function YI(n){null!=n.v&&(tn.clearTimeout(n.v),n.v=null)}function MN(n,e){var t=null;if(n.g==e){YI(n),vM(n),n.g=null;var r=2}else{if(!hM(n.h,e))return;t=e.D,fN(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Vi(r=LI(),new K1(r,t)),ZI(n)}else SN(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function $B(n,e){return!(hN(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Av(Xi(n.Ja,n,e),xN(n,n.C)),n.C++,0)))}(n,e)||2==r&&yM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Uh(n,5);break;case 4:Uh(n,10);break;case 3:Uh(n,6);break;default:Uh(n,2)}}function xN(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Uh(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Xi(n.kb,n);t||(t=new Vh("//www.google.com/images/cleardot.gif"),tn.location&&"http"==tn.location.protocol||$I(t,"https"),zI(t)),function LB(n,e){const t=new FI;if(tn.Image){const r=new Image;r.onload=AI(GI,t,r,"TestLoadImage: loaded",!0,e),r.onerror=AI(GI,t,r,"TestLoadImage: error",!1,e),r.onabort=AI(GI,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=AI(GI,t,r,"TestLoadImage: timeout",!1,e),tn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fs(2);n.G=0,n.l&&n.l.va(e),RN(n),bN(n)}function RN(n){if(n.G=0,n.la=[],n.l){const e=pN(n.h);(0!=e.length||0!=n.i.length)&&(b1(n.la,e),b1(n.la,n.i),n.h.i.length=0,LA(n.i),n.i.length=0),n.l.ua()}}function PN(n,e,t){var r=t instanceof Vh?au(t):new Vh(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),HI(r,r.m);else{var i=tn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Vh(null,void 0);r&&$I(a,r),e&&(a.g=e),i&&HI(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Dr(r,t,e),Dr(r,"VER",n.ma),Bv(n,r),r}function ON(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jr(t&&n.Da&&!n.ra?new Fv({jb:!0}):n.ra)).Ka(n.H),e}function NN(){}function QI(){if(zg&&!(10<=Number(sB)))throw Error("Environmental error: no available transport.")}function no(n,e){Ii.call(this),this.g=new IN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!MI(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!MI(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qg(this)}function kN(n){oM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function FN(){aM.call(this),this.status=1}function qg(n){this.g=n}(It=jr.prototype).Ka=function(n){this.L=n},It.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lM.g(),this.C=function Y1(n){return n.h||(n.h=n.i())}(this.u?this.u:lM),this.g.onreadystatechange=Xi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void _N(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=tn.FormData&&n instanceof tn.FormData,!(0<=I1(BB,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wN(this),0<this.B&&((this.K=function jB(n){return zg&&function iB(){return function eB(n){var e=rB;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=D1(String(RI)).split("."),t=D1("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=VA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||VA(0==i[2].length,0==a[2].length)||VA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xi(this.qa,this)):this.A=iM(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){_N(this,a)}},It.qa=function(){typeof kA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vi(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vi(this,"complete"),Vi(this,"abort"),qI(this))},It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qI(this,!0)),jr.X.M.call(this)},It.Ha=function(){this.s||(this.F||this.v||this.l?vN(this):this.fb())},It.fb=function(){vN(this)},It.aa=function(){try{return 2<lu(this)?this.g.status:-1}catch{return-1}},It.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},It.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),VB(e)}},It.Ea=function(){return this.m},It.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=IN.prototype).ma=8,It.G=1,It.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new xv(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=x1(a),P1(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=TN(this,i,e),Dr(t=au(this.F),"RID",n),Dr(t,"CVER",22),this.D&&Dr(t,"X-HTTP-Session-Id",this.D),Bv(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(CN(a)))+"&"+e:this.o&&mM(t,this.o,a)),fM(this.h,i),this.Ya&&Dr(t,"TYPE","init"),this.O?(Dr(t,"$req",e),Dr(t,"SID","null"),i.Z=!0,cM(i,t,null)):cM(i,t,e),this.G=2}}else 3==this.G&&(n?DN(this,n):0==this.i.length||dN(this.h)||DN(this))},It.Ia=function(){if(this.u=null,AN(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Av(Xi(this.eb,this),n)}},It.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,fs(10),KI(this),AN(this))},It.cb=function(){null!=this.v&&(this.v=null,KI(this),yM(this),fs(19))},It.kb=function(n){n?(this.j.info("Successfully pinged google.com"),fs(2)):(this.j.info("Failed to ping google.com"),fs(1))},(It=NN.prototype).xa=function(){},It.wa=function(){},It.va=function(){},It.ua=function(){},It.Ra=function(){},QI.prototype.g=function(n,e){return new no(n,e)},Li(no,Ii),no.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;fs(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=PN(n,null,n.V),ZI(n)},no.prototype.close=function(){_M(this.g)},no.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=eM(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&ZI(e)},no.prototype.M=function(){this.g.l=null,delete this.j,_M(this.g),delete this.g,no.X.M.call(this)},Li(kN,oM),Li(FN,aM),Li(qg,NN),qg.prototype.xa=function(){Vi(this.g,"a")},qg.prototype.wa=function(n){Vi(this.g,new kN(n))},qg.prototype.va=function(n){Vi(this.g,new FN)},qg.prototype.ua=function(){Vi(this.g,"b")},QI.prototype.createWebChannel=QI.prototype.g,no.prototype.send=no.prototype.u,no.prototype.open=no.prototype.m,no.prototype.close=no.prototype.close,VI.NO_ERROR=0,VI.TIMEOUT=8,VI.HTTP_ERROR=6,Z1.COMPLETE="complete",Q1.EventType=Mv,Mv.OPEN="a",Mv.CLOSE="b",Mv.ERROR="c",Mv.MESSAGE="d",Ii.prototype.listen=Ii.prototype.N,jr.prototype.listenOnce=jr.prototype.O,jr.prototype.getLastError=jr.prototype.Oa,jr.prototype.getLastErrorCode=jr.prototype.Ea,jr.prototype.getStatus=jr.prototype.aa,jr.prototype.getResponseJson=jr.prototype.Sa,jr.prototype.getResponseText=jr.prototype.fa,jr.prototype.send=jr.prototype.da,jr.prototype.setWithCredentials=jr.prototype.Ka,ou.createWebChannelTransport=function(){return new QI},ou.getStatEventTarget=function(){return LI()},ou.ErrorCode=VI,ou.EventType=Z1,ou.Event=Fh,ou.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ou.FetchXmlHttpFactory=Fv,ou.WebChannel=Q1,ou.XhrIo=jr;const LN="@firebase/firestore";class bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");let jv="9.19.0";const jc=new Va.Yd("@firebase/firestore");function qe(n,...e){if(jc.logLevel<=Va.in.DEBUG){const t=e.map(EM);jc.debug(`Firestore (${jv}): ${n}`,...t)}}function Zr(n,...e){if(jc.logLevel<=Va.in.ERROR){const t=e.map(EM);jc.error(`Firestore (${jv}): ${n}`,...t)}}function EM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${jv}) INTERNAL ASSERTION FAILED: `+n;throw Zr(e),new Error(e)}function St(n,e){n||mt()}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends V.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class VN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bi.UNAUTHENTICATED))}shutdown(){}}class zB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GB{constructor(e){this.t=e,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let u=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=u;e.enqueueRetryable((0,wi.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},m=v=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St("string"==typeof r.accessToken),new VN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(null===e||"string"==typeof e),new bi(e)}}class WB{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qB{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new WB(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KB{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,qe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St("string"==typeof t.token),this.T=t.token,new UN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ZB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class BN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ZB(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function nn(n,e){return n<e?-1:n>e?1:0}class JI{constructor(e,t,r){void 0===t?t=0:t>e.length&&mt(),void 0===r?r=e.length-t:r>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===JI.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof JI?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Sn extends JI{construct(e,t,r){return new Sn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Sn(t)}static emptyPath(){return new Sn([])}}class lt{constructor(e){this.path=e}static fromPath(e){return new lt(Sn.fromString(e))}static fromName(e){return new lt(Sn.fromString(e).popFirst(5))}static empty(){return new lt(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new Sn(e.slice()))}}function zc(n){return"IndexedDbTransactionError"===n.name}class $r{constructor(e,t){this.comparator=e,this.root=t||Ui.EMPTY}insert(e,t){return new $r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new $r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rb(this.root,e,this.comparator,!1)}getReverseIterator(){return new rb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rb(this.root,e,this.comparator,!0)}}class rb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Ui.RED,this.left=i??Ui.EMPTY,this.right=a??Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ui(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ui.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ui(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ir{constructor(e){this.comparator=e,this.data=new $r(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tk(this.data.getIterator())}getIteratorFrom(e){return new tk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ir(this.comparator);return t.data=e,t}}class tk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ej extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Ej("Invalid base64 string: "+i):i}}(e);return new gi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new gi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function Hr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}gi.EMPTY_BYTE_STRING=new gi("");class Ij{constructor(e,t,r,i,a,u,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class zh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zh&&e.projectId===this.projectId&&e.database===this.database}}var ai,An;new $r(lt.comparator),new $r(lt.comparator),new $r(lt.comparator),new ir(lt.comparator),new ir(nn),(An=ai||(ai={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";class ef{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(Hr(e.integerValue));else if("doubleValue"in e){const r=Hr(e.doubleValue);isNaN(r)?this.ae(t,13):(this.ae(t,15),function Gv(n){return 0===n&&1/n==-1/0}(r)?t.he(0):t.he(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le(`${r.seconds||""}`),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(function Hh(n){return"string"==typeof n?gi.fromBase64String(n):gi.fromUint8Array(n)}(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ae(t,45),t.he(r.latitude||0),t.he(r.longitude||0)}else"mapValue"in e?function ok(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):mt()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const r=e.fields||{};this.ae(t,55);for(const i of Object.keys(r))this.fe(i,t),this.ue(r[i],t)}ge(e,t){const r=e.values||[];this.ae(t,50);for(const i of r)this.ue(i,t)}_e(e,t){this.ae(t,37),lt.fromName(e).path.forEach(r=>{this.ae(t,60),this.ye(r,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}ef.pe=new ef,new Uint8Array(0);class Fs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fs(e,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ab(){return typeof document<"u"?document:null}Fs.DEFAULT_COLLECTION_PERCENTILE=10,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fs.DEFAULT=new Fs(41943040,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fs.DISABLED=new Fs(-1,0,0);class px{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ws=e,this.timerId=t,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Ox{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,f=new Ox(e,t,u,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class N3{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=bi.UNAUTHENTICATED,this.clientId=BN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,wi.Z)(function*(f){qe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(qe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,wi.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,wi.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function fm(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),zc(n))return new Ue(pe.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}const _L=new Map;function Cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function kb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}(n);throw new Ue(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class EL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function H3(n,e,t,r){if(!0===e&&!0===r)throw new Ue(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class w0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new HB;switch(t.type){case"firstParty":return new qB(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ue(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_L.get(e);t&&(qe("ComponentProvider","Removing Datastore"),_L.delete(e),t.terminate())}(this),Promise.resolve()}}class W3{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new px(this,"async_queue_retry"),this.qc=()=>{const t=Ab();t&&qe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=Ab();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=Ab();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new pi;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,wi.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!zc(t))throw t;qe("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{throw this.Mc=r,this.Fc=!1,Zr("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Fc=!1,r))));return this.Nc=t,t}enqueueAfterDelay(e,t,r){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const i=Ox.createAndSchedule(this,e,t,r,a=>this.Qc(a));return this.$c.push(i),i}Uc(){this.Mc&&mt()}verifyOperationInProgress(){}zc(){var e=this;return(0,wi.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}class mr extends w0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new W3,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function IL(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ij(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var f,v;n._firestoreClient=new N3(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function K3(n,e){const t="object"==typeof n?n:(0,Ni.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Ni._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,V.P0)("firestore");a&&function z3(n,e,t,r={}){var i;const a=(n=Cn(n,w0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&function $c(n,...e){if(jc.logLevel<=Va.in.WARN){const t=e.map(EM);jc.warn(`Firestore (${jv}): ${n}`,...t)}}("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=bi.MOCK_USER;else{u=(0,V.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Ue(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new bi(m)}n._authCredentials=new zB(new VN(u,f))}}(i,...a)}return i}!function(n,e=!0){jv=Ni.SDK_VERSION,(0,Ni._registerComponent)(new La.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),u=new mr(new GB(t.getProvider("auth-internal")),new KB(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ue(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zh(f.options.projectId,m)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Ni.registerVersion)(LN,"3.10.0",n),(0,Ni.registerVersion)(LN,"3.10.0","esm2017")}();class xR{constructor(e){return e}}const zL="firestore",RR=new d.OlP("angularfire2.firestore-instances");function vH(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new xR(r)}}const wH={provide:class _H{constructor(){return(0,Wt.vb)(zL)}},deps:[[new d.FiY,RR]]},EH={provide:xR,useFactory:function yH(n,e){const t=(0,Wt.JM)(zL,n,e);return t&&new xR(t)},deps:[[new d.FiY,RR],Ss]};let CH=(()=>{class n{constructor(){(0,hi.KN)("angularfire",Wt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[EH,wH]}),n})(),bH=(()=>{class n{constructor(t){this._document=t,this.getCurrentYear()}ngAfterViewInit(){this.observer()}getCurrentYear(){const t=new Date,r=new Date("Oct 30, 01"),i=t.valueOf()-r.valueOf(),a=Math.trunc(i/1e3/60/60/24/365.75);this.currentAge=a}observer(){const t=new IntersectionObserver(f=>{f.forEach(m=>{i.classList.toggle("show",m.isIntersecting),a.classList.toggle("show",m.isIntersecting),u.classList.toggle("show",m.isIntersecting)})},{threshold:.25}),r=this._document.getElementById("about-me"),i=this._document.getElementsByClassName("image-holder")[0],a=this._document.getElementById("text-info"),u=this._document.getElementById("soft-skills");t.observe(r)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ae))},n.\u0275cmp=d.Xpm({type:n,selectors:[["about-me"]],standalone:!0,features:[d.jDz],decls:38,vars:1,consts:[[1,"about-me"],["id","about-me",1,"container","d-block","d-md-flex","align-items-center","justify-content-center","gap-md-3"],[1,"image-holder","col-md-4"],["src","./assets/Images/My-Image1.jpg","alt",""],[1,"information","py-3","px-1","col-md-8","text-md-center"],["id","text-info",1,"text-information"],["id","my-age"],["id","soft-skills",1,"soft-skills","d-flex","align-items-center","flex-wrap"],[1,"soft-skill","col-12","col-sm-6","col-lg-4","col-xl-3"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2),d._UZ(3,"img",3),d.qZA(),d.TgZ(4,"div",4)(5,"div",5)(6,"h3"),d._uU(7,"About Me"),d.qZA(),d.TgZ(8,"p"),d._uU(9," Hi, My Name Is "),d.TgZ(10,"span"),d._uU(11,"Ahmed Ben Chakhter."),d.qZA(),d._uU(12," I'm A "),d.TgZ(13,"span"),d._uU(14,"Front-End Angular Developer"),d.qZA(),d._uU(15," And "),d.TgZ(16,"span"),d._uU(17,"Technician Specialized In Computer Networks."),d.qZA(),d._uU(18," I Have "),d.TgZ(19,"span",6),d._uU(20),d.qZA(),d._uU(21,", From "),d.TgZ(22,"span"),d._uU(23,"Tetouan, Morocco."),d.qZA(),d._uU(24," I Love To Learn And Help And Develope. Nice To Meet You. "),d.qZA()(),d.TgZ(25,"div",7)(26,"div",8),d._uU(27," Communication. "),d.qZA(),d.TgZ(28,"div",8),d._uU(29," Hard Work. "),d.qZA(),d.TgZ(30,"div",8),d._uU(31," fast learning. "),d.qZA(),d.TgZ(32,"div",8),d._uU(33," Commitment. "),d.qZA(),d.TgZ(34,"div",8),d._uU(35," Adapted. "),d.qZA(),d.TgZ(36,"div",8),d._uU(37," Team Work. "),d.qZA()()()()()),2&t&&(d.xp6(20),d.hij(" ",r.currentAge," "))},dependencies:[ci],styles:['.about-me[_ngcontent-%COMP%]{padding:30px 0}.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .image-holder[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;background-color:#000;border-radius:20px;padding:5px;overflow:hidden;inset:0;position:relative;transform:translate(-200%);transition:var(--transition-time)}.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .image-holder[_ngcontent-%COMP%]:after{content:"";position:absolute;width:150%;height:50%;background-color:red;top:50%;left:50%;background:linear-gradient(transparent,#45f3ff,#45f3ff,#45f3ff,transparent);animation:_ngcontent-%COMP%_rotation 4s linear infinite}.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .image-holder.show[_ngcontent-%COMP%]{transform:translate(0)}.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .image-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:20px;position:relative;z-index:100}.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]{overflow:hidden}.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]   .text-information[_ngcontent-%COMP%]{transform:translate(200%);transition:var(--transition-time)}.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]   .text-information.show[_ngcontent-%COMP%]{transform:translate(0)}.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]   .text-information[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2.25rem}.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]   .text-information[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--secondary-font-color);font-family:Raleway,sans-serif;font-style:italic;font-weight:500}.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]   .soft-skills[_ngcontent-%COMP%]{transform:translate(200%);transition:var(--transition-time)}.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]   .soft-skills.show[_ngcontent-%COMP%]{transform:translate(0)}.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]   .soft-skills[_ngcontent-%COMP%]   .soft-skill[_ngcontent-%COMP%]{background-color:var(--secondary-font-color);color:#fff;text-align:center;padding:10px;border-radius:10px;font-size:2rem;border:5px solid var(--boxes-space)}@media (max-width: 767px){.about-me[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .information[_ngcontent-%COMP%]{text-align:center}}@keyframes _ngcontent-%COMP%_rotation{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}']}),n})(),GL=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),uf=(()=>{class n extends GL{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const el=new d.OlP("NgValueAccessor"),SH={provide:el,useExisting:(0,d.Gpc)(()=>Gb),multi:!0},MH=new d.OlP("CompositionEventMode");let Gb=(()=>{class n extends GL{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function AH(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(MH,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([SH]),d.qOj]}),n})();const xH=!1;function rd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function qL(n){return null!=n&&"number"==typeof n.length}const rs=new d.OlP("NgValidators"),id=new d.OlP("NgAsyncValidators"),RH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class S0{static min(e){return function KL(n){return e=>{if(rd(e.value)||rd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function ZL(n){return e=>{if(rd(e.value)||rd(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function YL(n){return rd(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function QL(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function JL(n){return rd(n.value)||RH.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function XL(n){return e=>rd(e.value)||!qL(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function e2(n){return e=>qL(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function t2(n){if(!n)return Wb;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(rd(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return a2(e)}static composeAsync(e){return l2(e)}}function Wb(n){return null}function n2(n){return null!=n}function r2(n){const e=(0,d.QGY)(n)?(0,dr.D)(n):n;if(xH&&!(0,d.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new d.vHH(-1101,t)}return e}function i2(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function s2(n,e){return e.map(t=>t(n))}function o2(n){return n.map(e=>function PH(n){return!n.validate}(e)?e:t=>e.validate(t))}function a2(n){if(!n)return null;const e=n.filter(n2);return 0==e.length?null:function(t){return i2(s2(t,e))}}function PR(n){return null!=n?a2(o2(n)):null}function l2(n){if(!n)return null;const e=n.filter(n2);return 0==e.length?null:function(t){return function DH(...n){const e=(0,Ki.jO)(n),{args:t,keys:r}=Dl(n),i=new Pi.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let m=u,v=u;for(let b=0;b<u;b++){let S=!1;(0,Ia.Xf)(t[b]).subscribe((0,er.x)(a,R=>{S||(S=!0,v--),f[b]=R},()=>m--,void 0,()=>{(!m||!S)&&(v||a.next(r?Nd(r,f):f),a.complete())}))}});return e?i.pipe(zm(e)):i}(s2(t,e).map(r2)).pipe((0,xt.U)(i2))}}function OR(n){return null!=n?l2(o2(n)):null}function u2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function c2(n){return n._rawValidators}function d2(n){return n._rawAsyncValidators}function NR(n){return n?Array.isArray(n)?n:[n]:[]}function qb(n,e){return Array.isArray(n)?n.includes(e):n===e}function h2(n,e){const t=NR(e);return NR(n).forEach(i=>{qb(t,i)||t.push(i)}),t}function f2(n,e){return NR(e).filter(t=>!qb(n,t))}class p2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=PR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=OR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ms extends p2{get formDirective(){return null}get path(){return null}}class sd extends p2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class g2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let m2=(()=>{class n extends g2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(sd,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),_2=(()=>{class n extends g2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ms,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();function y2(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const LR=!1,A0="VALID",Zb="INVALID",Im="PENDING",M0="DISABLED";function VR(n){return(Yb(n)?n.validators:n)||null}function UR(n,e){return(Yb(e)?e.asyncValidators:n)||null}function Yb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class E2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===A0}get invalid(){return this.status===Zb}get pending(){return this.status==Im}get disabled(){return this.status===M0}get enabled(){return this.status!==M0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(h2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(h2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(f2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(f2(e,this._rawAsyncValidators))}hasValidator(e){return qb(this._rawValidators,e)}hasAsyncValidator(e){return qb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Im,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=M0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=A0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===A0||this.status===Im)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?M0:A0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Im,this._hasOwnPendingAsyncValidator=!0;const t=r2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?M0:this.errors?Zb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Im)?Im:this._anyControlsHaveStatus(Zb)?Zb:A0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function UH(n){return Array.isArray(n)?PR(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function BH(n){return Array.isArray(n)?OR(n):n||null}(this._rawAsyncValidators)}}class Qb extends E2{constructor(e,t,r){super(VR(t),UR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function w2(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,LR?function VH(n,e){return`Must supply a value for form control ${y2(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function v2(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,LR?function FH(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new d.vHH(1001,LR?function LH(n,e){return`Cannot find form control ${y2(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const cf=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>x0}),x0="always";function R0(n,e,t=x0){BR(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function HH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&C2(n,e)})}(n,e),function GH(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function zH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&C2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function $H(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Xb(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),tD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function eD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function BR(n,e){const t=c2(n);null!==e.validator?n.setValidators(u2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=d2(n);null!==e.asyncValidator?n.setAsyncValidators(u2(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();eD(e._rawValidators,i),eD(e._rawAsyncValidators,i)}function tD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=c2(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=d2(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return eD(e._rawValidators,r),eD(e._rawAsyncValidators,r),t}function C2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function D2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function T2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const df=class extends E2{constructor(e=null,t,r){super(VR(t),UR(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=T2(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){D2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){D2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){T2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let R2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),O2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const GR=new d.OlP("NgModelWithFormControlWarning"),sz={provide:ms,useExisting:(0,d.Gpc)(()=>nD)};let nD=(()=>{class n extends ms{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return R0(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Xb(t.control||null,t,!1),function ZH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function b2(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Xb(r||null,t),(n=>n instanceof df)(i)&&(R0(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function I2(n,e){BR(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function WH(n,e){return tD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){BR(this.form,this),this._oldForm&&tD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rs,10),d.Y36(id,10),d.Y36(cf,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([sz]),d.qOj,d.TTD]}),n})();const lz={provide:sd,useExisting:(0,d.Gpc)(()=>KR)};let KR=(()=>{class n extends sd{set isDisabled(t){}constructor(t,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function HR(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Gb?t=a:function KH(n){return Object.getPrototypeOf(n.constructor)===uf}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){this._added||this._setUpControl(),function $R(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Jb(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(ms,13),d.Y36(rs,10),d.Y36(id,10),d.Y36(el,10),d.Y36(GR,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([lz]),d.qOj,d.TTD]}),n})(),Z2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[O2]}),n})(),bz=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:cf,useValue:t.callSetDisabledState??x0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Z2]}),n})(),Dz=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:GR,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:cf,useValue:t.callSetDisabledState??x0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Z2]}),n})();var Tz=F(4986),JR=F(6451),Y2=F(3099),Sz=F(5032);F(9568);var xz=F(3942);const Oz=new Va.Yd("@firebase/database-compat"),Q2=function(n){Oz.warn("FIREBASE WARNING: "+n)};class Fz{constructor(e){this._delegate=e}cancel(e){(0,V.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,V.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,V.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,V.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,V.Dv)("OnDisconnect.set",1,2,arguments.length),(0,V.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,V.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),a=>r(a)),i}update(e,t){if((0,V.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let a=0;a<e.length;++a)i[""+a]=e[a];e=i,Q2("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class Lz{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,V.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class od{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,V.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,V.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,V.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,V.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,V.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),vv("DataSnapshot.child","path",e,!1),new od(this._database,this._delegate.child(e))}hasChild(e){return(0,V.Dv)("DataSnapshot.hasChild",1,1,arguments.length),vv("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,V.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,V.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,V.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new od(this._database,t)))}hasChildren(){return(0,V.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,V.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,V.Dv)("DataSnapshot.ref",0,0,arguments.length),new so(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Bi{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var a;(0,V.Dv)("Query.on",2,4,arguments.length),(0,V.Wj)("Query.on","callback",t,!1);const u=Bi.getCancelAndContextArgs_("Query.on",r,i),f=(v,b)=>{t.call(u.context,new od(this.database,v),b)};f.userCallback=t,f.context=u.context;const m=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return RA(this._delegate,f,m),t;case"child_added":return d1(this._delegate,f,m),t;case"child_removed":return p1(this._delegate,f,m),t;case"child_changed":return h1(this._delegate,f,m),t;case"child_moved":return f1(this._delegate,f,m),t;default:throw new Error((0,V.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,V.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,V.Wj)("Query.off","callback",t,!0),(0,V.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,g1(this._delegate,e,i)}else g1(this._delegate,e)}get(){return tU(this._delegate).then(e=>new od(this.database,e))}once(e,t,r,i){(0,V.Dv)("Query.once",1,4,arguments.length),(0,V.Wj)("Query.once","callback",t,!0);const a=Bi.getCancelAndContextArgs_("Query.once",r,i),u=new V.BH,f=(v,b)=>{const S=new od(this.database,v);t&&t.call(a.context,S,b),u.resolve(S)};f.userCallback=t,f.context=a.context;const m=v=>{a.cancel&&a.cancel.call(a.context,v),u.reject(v)};switch(e){case"value":RA(this._delegate,f,m,{onlyOnce:!0});break;case"child_added":d1(this._delegate,f,m,{onlyOnce:!0});break;case"child_removed":p1(this._delegate,f,m,{onlyOnce:!0});break;case"child_changed":h1(this._delegate,f,m,{onlyOnce:!0});break;case"child_moved":f1(this._delegate,f,m,{onlyOnce:!0});break;default:throw new Error((0,V.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,V.Dv)("Query.limitToFirst",1,1,arguments.length),new Bi(this.database,ha(this._delegate,function uU(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new lU(n)}(e)))}limitToLast(e){return(0,V.Dv)("Query.limitToLast",1,1,arguments.length),new Bi(this.database,ha(this._delegate,function dU(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new cU(n)}(e)))}orderByChild(e){return(0,V.Dv)("Query.orderByChild",1,1,arguments.length),new Bi(this.database,ha(this._delegate,function fU(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return vv("orderByChild","path",n,!1),new hU(n)}(e)))}orderByKey(){return(0,V.Dv)("Query.orderByKey",0,0,arguments.length),new Bi(this.database,ha(this._delegate,function gU(){return new pU}()))}orderByPriority(){return(0,V.Dv)("Query.orderByPriority",0,0,arguments.length),new Bi(this.database,ha(this._delegate,function _U(){return new mU}()))}orderByValue(){return(0,V.Dv)("Query.orderByValue",0,0,arguments.length),new Bi(this.database,ha(this._delegate,function vU(){return new yU}()))}startAt(e=null,t){return(0,V.Dv)("Query.startAt",0,2,arguments.length),new Bi(this.database,ha(this._delegate,function sU(n=null,e){return yv("startAt","key",e,!0),new _1(n,e)}(e,t)))}startAfter(e=null,t){return(0,V.Dv)("Query.startAfter",0,2,arguments.length),new Bi(this.database,ha(this._delegate,function aU(n,e){return yv("startAfter","key",e,!0),new oU(n,e)}(e,t)))}endAt(e=null,t){return(0,V.Dv)("Query.endAt",0,2,arguments.length),new Bi(this.database,ha(this._delegate,function nU(n,e){return yv("endAt","key",e,!0),new m1(n,e)}(e,t)))}endBefore(e=null,t){return(0,V.Dv)("Query.endBefore",0,2,arguments.length),new Bi(this.database,ha(this._delegate,function iU(n,e){return yv("endBefore","key",e,!0),new rU(n,e)}(e,t)))}equalTo(e,t){return(0,V.Dv)("Query.equalTo",1,2,arguments.length),new Bi(this.database,ha(this._delegate,function EU(n,e){return yv("equalTo","key",e,!0),new wU(n,e)}(e,t)))}toString(){return(0,V.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,V.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,V.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Bi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,V.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,V.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,V.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new so(this.database,new Ro(this._delegate._repo,this._delegate._path))}}class so extends Bi{constructor(e,t){super(e,new Os(t._repo,t._path,new Dh,!1)),this.database=e,this._delegate=t}getKey(){return(0,V.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,V.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new so(this.database,kh(this._delegate,e))}getParent(){(0,V.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new so(this.database,e):null}getRoot(){return(0,V.Dv)("Reference.root",0,0,arguments.length),new so(this.database,this._delegate.root)}set(e,t){(0,V.Dv)("Reference.set",1,2,arguments.length),(0,V.Wj)("Reference.set","onComplete",t,!0);const r=xA(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,V.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let a=0;a<e.length;++a)i[""+a]=e[a];e=i,Q2("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xo("Reference.update",this._delegate._path),(0,V.Wj)("Reference.update","onComplete",t,!0);const r=eU(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,V.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,V.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function XV(n,e,t){if(xo("setWithPriority",n._path),qa("setWithPriority",e,n._path,!1),EA("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new V.BH;return IA(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),a=>r(a)),i}remove(e){(0,V.Dv)("Reference.remove",0,1,arguments.length),(0,V.Wj)("Reference.remove","onComplete",e,!0);const t=function QV(n){return xo("remove",n._path),xA(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,V.Dv)("Reference.transaction",1,3,arguments.length),(0,V.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,V.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,V.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function UU(n,e,t){var r;if(n=(0,V.m9)(n),xo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=t?.applyLocally)||void 0===r||r,a=new V.BH,f=RA(n,()=>{});return function HV(n,e,t,r,i,a){$g(n,"transaction on "+e);const u={path:e,update:t,onComplete:r,status:null,order:my(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=DA(n,e,void 0);u.currentInputSnapshot=f;const m=u.update(f.val());if(void 0===m)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{_v("transaction failed: Data returned ",m,u.path),u.status=0;const v=Y(n.transactionQueueTree_,e),b=ne(v)||[];let S;b.push(u),Ce(v,b),"object"==typeof m&&null!==m&&(0,V.r3)(m,".priority")?(S=(0,V.DV)(m,".priority"),(0,V.hu)(mv(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):S=(gv(n.serverSyncTree_,e)||Jt.EMPTY_NODE).getPriority().val();const R=wv(n),B=pr(m,S),q=T(B,f,R);u.currentOutputSnapshotRaw=B,u.currentOutputSnapshotResolved=q,u.currentWriteId=wI(n);const he=fv(n.serverSyncTree_,e,q,u.currentWriteId,u.applyLocally);to(n.eventQueue_,e,he),EI(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(m,v,b)=>{let S=null;m?a.reject(m):(S=new Nh(b,new Ro(n._repo,n._path),Gn),a.resolve(new VU(v,S)))},f,i),a.promise}(this._delegate,e,{applyLocally:r}).then(a=>new Lz(a.committed,new od(this.database,a.snapshot)));return t&&i.then(a=>t(null,a.committed,a.snapshot),a=>t(a,!1,null)),i}setPriority(e,t){(0,V.Dv)("Reference.setPriority",1,2,arguments.length),(0,V.Wj)("Reference.setPriority","onComplete",t,!0);const r=function JV(n,e){n=(0,V.m9)(n),xo("setPriority",n._path),EA("setPriority",e,!1);const t=new V.BH;return IA(n._repo,or(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,V.Dv)("Reference.push",0,2,arguments.length),(0,V.Wj)("Reference.push","onComplete",t,!0);const r=function YV(n,e){n=(0,V.m9)(n),xo("push",n._path),qa("push",e,n._path,!0);const t=QO(n._repo),r=ZV(t),i=kh(n,r),a=kh(n,r);let u;return u=null!=e?xA(a,e).then(()=>a):Promise.resolve(a),i.then=u.then.bind(u),i.catch=u.then.bind(u,void 0),i}(this._delegate,e),i=r.then(u=>new so(this.database,u));t&&i.then(()=>t(null),u=>t(u));const a=new so(this.database,r);return a.then=i.then.bind(i),a.catch=i.catch.bind(i,void 0),a}onDisconnect(){return xo("Reference.onDisconnect",this._delegate._path),new Fz(new l1(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class O0{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:AU,forceLongPolling:MU}}useEmulator(e,t,r={}){E1(this._delegate,e,t,r)}ref(e){if((0,V.Dv)("database.ref",0,1,arguments.length),e instanceof so){const t=c1(this._delegate,e.toString());return new so(this,t)}{const t=u1(this._delegate,e);return new so(this,t)}}refFromURL(e){(0,V.Dv)("database.refFromURL",1,1,arguments.length);const r=c1(this._delegate,e);return new so(this,r)}goOffline(){return(0,V.Dv)("database.goOffline",0,0,arguments.length),function RU(n){(n=(0,V.m9)(n))._checkNotDeleted("goOffline"),t1(n._repo)}(this._delegate)}goOnline(){return(0,V.Dv)("database.goOnline",0,0,arguments.length),function PU(n){(n=(0,V.m9)(n))._checkNotDeleted("goOnline"),function $V(n){n.persistentConnection_&&n.persistentConnection_.resume(YO)}(n._repo)}(this._delegate)}}O0.ServerValue={TIMESTAMP:function FU(){return kU}(),increment:n=>function LU(n){return{".sv":{increment:n}}}(n)};var Uz=Object.freeze({__proto__:null,initStandalone:function Vz({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:a=!1}){mS(t);const u=new La.zt("auth-internal",new La.H0("database-standalone"));return u.setComponent(new La.wA("auth-internal",()=>r,"PRIVATE")),{instance:new O0(v1(n,u,void 0,e,a),n),namespace:i}}});const Bz=O0.ServerValue;!function jz(n){n.INTERNAL.registerComponent(new La.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new O0(i,r)},"PUBLIC").setServiceProps({Reference:so,Query:Bi,Database:O0,DataSnapshot:od,enableLogging:OU,INTERNAL:Uz,ServerValue:Bz}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(xz.Z);var rD=F(5363),$z=F(6063);class Hz extends us.x{constructor(e=1/0,t=1/0,r=$z.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=u;m+=2)f=m;f&&r.splice(0,f+1)}}}function J2(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Y2.B)({connector:()=>new Hz(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function X2(n,e){return(0,Uo.m)(e)?Ir(()=>n,e):Ir(()=>n)}var XR=F(9468);F(9260);const eV=new d.OlP("angularfire2.auth.use-emulator"),tV=new d.OlP("angularfire2.auth.settings"),nV=new d.OlP("angularfire2.auth.tenant-id"),rV=new d.OlP("angularfire2.auth.langugage-code"),iV=new d.OlP("angularfire2.auth.use-device-language"),sV=new d.OlP("angularfire.auth.persistence"),oV=(n,e,t,r,i,a,u,f)=>(0,Zs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),u)for(const[v,b]of Object.entries(u))m.settings[v]=b;return f&&m.setPersistence(f),m},[t,r,i,a,u,f]);let aV=(()=>{class n{constructor(t,r,i,a,u,f,m,v,b,S,R,B){const q=new us.x,he=gt(void 0).pipe((0,rD.Q)(u.outsideAngular),Ir(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9568)))),(0,xt.U)(()=>(0,Zs.on)(t,a,r)),(0,xt.U)(Se=>oV(Se,a,f,v,b,S,m,R)),J2({bufferSize:1,refCount:!1}));if(function md(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{he.pipe(As()).subscribe();const ct=he.pipe(Ir(cn=>cn.getRedirectResult().then(Mn=>Mn,()=>null)),Wt.iC,J2({bufferSize:1,refCount:!1})),wt=he.pipe(Ir(cn=>new Pi.y(Mn=>({unsubscribe:a.runOutsideAngular(()=>cn.onAuthStateChanged(Fn=>Mn.next(Fn),Fn=>Mn.error(Fn),()=>Mn.complete()))})))),Ot=he.pipe(Ir(cn=>new Pi.y(Mn=>({unsubscribe:a.runOutsideAngular(()=>cn.onIdTokenChanged(Fn=>Mn.next(Fn),Fn=>Mn.error(Fn),()=>Mn.complete()))}))));this.authState=ct.pipe(X2(wt),(0,XR.R)(u.outsideAngular),(0,rD.Q)(u.insideAngular)),this.user=ct.pipe(X2(Ot),(0,XR.R)(u.outsideAngular),(0,rD.Q)(u.insideAngular)),this.idToken=this.user.pipe(Ir(cn=>cn?(0,dr.D)(cn.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(Ir(cn=>cn?(0,dr.D)(cn.getIdTokenResult()):gt(null))),this.credential=(0,JR.T)(ct,q,this.authState.pipe(jo(cn=>!cn))).pipe((0,xt.U)(cn=>cn?.user?cn:null),(0,XR.R)(u.outsideAngular),(0,rD.Q)(u.insideAngular))}return(0,Zs.pX)(this,he,a,{spy:{apply:(Se,ct,wt)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&wt.then(Ot=>q.next(Ot))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Zs.Dh),d.LFG(Zs.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Wt.HU),d.LFG(eV,8),d.LFG(tV,8),d.LFG(nV,8),d.LFG(rV,8),d.LFG(iV,8),d.LFG(sV,8),d.LFG(hh,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function lV(n){return null==n}function uV(n){return"function"==typeof n.set}function cV(n,e){return uV(e)?e:n.ref(e)}function dV(n,e){if(function Gz(n){return"string"==typeof n}(n))return e.stringCase();if(uV(n))return e.firebaseCase();if(function Wz(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function N0(n,e,t="on",r=Tz.z){return new Pi.y(i=>{let a=null;return a=n[t](e,(u,f)=>{r.schedule(()=>{i.next({snapshot:u,prevKey:f})}),"once"===t&&r.schedule(()=>i.complete())},u=>{r.schedule(()=>i.error(u))}),"on"===t?{unsubscribe(){null!=a&&n.off(e,a)}}:{unsubscribe(){}}}).pipe((0,xt.U)(i=>{const{snapshot:a,prevKey:u}=i;let f=null;return a.exists()&&(f=a.key),{type:e,payload:a,prevKey:u,key:f}}),(0,Y2.B)())}function hV(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function Zz(n,e){const{payload:t,prevKey:r,key:i}=e,a=hV(n,i),u=function Kz(n,e){if(lV(e))return 0;{const t=hV(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let f=null;e.payload.forEach(m=>{const v={payload:m,type:"value",prevKey:f,key:m.key};return f=m.key,n=[...n,v],!1})}return n;case"child_added":if(a>-1){const f=n[a-1];(f&&f.key||null)!==r&&(n=n.filter(m=>m.payload.key!==t.key)).splice(u,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(f=>f.payload.key!==t.key);case"child_changed":return n.map(f=>f.payload.key===i?e:f);case"child_moved":if(a>-1){const f=n.splice(a,1)[0];return(n=n.slice()).splice(u,0,f),n}return n;default:return n}}function fV(n){return(lV(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function pV(n,e,t){return function qz(n,e,t){return N0(n,"value","once",t).pipe(Ir(r=>{const i=[gt(r)];return e.forEach(a=>i.push(N0(n,a,"on",t))),(0,JR.T)(...i).pipe(xu(Zz,[]))}),Du())}(n,e=fV(e),t)}function gV(n,e,t){const r=(e=fV(e)).map(i=>N0(n,i,"on",t));return(0,JR.T)(...r)}function mV(n,e){return function(r,i){return dV(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function Xz(n){return function(t){return t?dV(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function _V(n,e){return function(){return N0(n,"value","on",e)}}const nG=new d.OlP("angularfire2.realtimeDatabaseURL"),rG=new d.OlP("angularfire2.database.use-emulator");let iG=(()=>{class n{constructor(t,r,i,a,u,f,m,v,b,S,R,B,q,he,Se){this.schedulers=f;const ct=m,wt=(0,Zs.on)(t,u,r);v&&oV(wt,u,b,R,B,q,S,he),this.database=(0,Zs.cc)(`${wt.name}.database.${i}`,"AngularFireDatabase",wt.name,()=>{const Ot=u.runOutsideAngular(()=>wt.database(i||void 0));return ct&&Ot.useEmulator(...ct),Ot},[ct])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>cV(this.database,t));let a=i;return r&&(a=r(i)),function eG(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:mV(r,"update"),set:mV(r,"set"),push:i=>r.push(i),remove:Xz(r),snapshotChanges:i=>pV(n,i,t).pipe(Wt.iC),stateChanges:i=>gV(n,i,t).pipe(Wt.iC),auditTrail:i=>function Yz(n,e,t){return function Jz(n,e,t){return function Qz(n,e){return N0(n,"value","on",e).pipe((0,xt.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function Az(...n){const e=(0,Ki.jO)(n);return(0,ri.e)((t,r)=>{const i=n.length,a=new Array(i);let u=n.map(()=>!1),f=!1;for(let m=0;m<i;m++)(0,Ia.Xf)(n[m]).subscribe((0,er.x)(r,v=>{a[m]=v,!f&&!u[m]&&(u[m]=!0,(f=u.every(br.y))&&(u=null))},Sz.Z));t.subscribe((0,er.x)(r,m=>{if(f){const v=[m,...a];r.next(e?e(...v):v)}}))})}(e),(0,xt.U)(([i,a])=>{const u=i.lastKeyToLoad,f=a.map(m=>m.key);return{actions:a,lastKeyToLoad:u,loadedKeys:f}}),function Mz(n){return(0,ri.e)((e,t)=>{let r=!1,i=0;e.subscribe((0,er.x)(t,a=>(r||(r=!n(a,i++)))&&t.next(a)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,xt.U)(i=>i.actions))}(n,gV(n,e).pipe(xu((i,a)=>[...i,a],[])),t)}(n,i,t).pipe(Wt.iC),valueChanges:(i,a)=>pV(n,i,t).pipe((0,xt.U)(f=>f.map(m=>a&&a.idField?Object.assign(Object.assign({},m.payload.val()),{[a.idField]:m.key}):m.payload.val())),Wt.iC)}}(a,this)}object(t){return function tG(n,e){return{query:n,snapshotChanges:()=>_V(n,e.schedulers.outsideAngular)().pipe(Wt.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>_V(n,e.schedulers.outsideAngular)().pipe(Wt.iC,(0,xt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>cV(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Zs.Dh),d.LFG(Zs.xv,8),d.LFG(nG,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Wt.HU),d.LFG(rG,8),d.LFG(aV,8),d.LFG(eV,8),d.LFG(tV,8),d.LFG(nV,8),d.LFG(rV,8),d.LFG(iV,8),d.LFG(sV,8),d.LFG(hh,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sG=(()=>{class n{constructor(t){this.fireDatabase=t}saveMessage(t){this.fireDatabase.object(`/messages/${t.firstName} ${t.lastName}`).update({firstName:t.firstName,lastName:t.lastName,email:t.email,subject:t.subject,message:t.message})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(iG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oG(n,e){1&n&&(d.TgZ(0,"p",21),d._uU(1,"The First Name is required"),d.qZA())}function aG(n,e){1&n&&(d.TgZ(0,"p",21),d._uU(1,"The Last Name is required"),d.qZA())}function lG(n,e){1&n&&(d.TgZ(0,"p",21),d._uU(1,"The email is required"),d.qZA())}function uG(n,e){1&n&&(d.TgZ(0,"p",21),d._uU(1,"Please enter a valid email"),d.qZA())}function cG(n,e){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,lG,2,0,"p",6),d.YNc(2,uG,2,0,"p",6),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Q6J("ngIf",null==t.messageInfo.controls.email.errors?null:t.messageInfo.controls.email.errors.required),d.xp6(1),d.Q6J("ngIf",null==t.messageInfo.controls.email.errors?null:t.messageInfo.controls.email.errors.email)}}function dG(n,e){1&n&&(d.TgZ(0,"p",21),d._uU(1,"The Message is required"),d.qZA())}function hG(n,e){1&n&&(d.TgZ(0,"p",22),d._uU(1,"Please Fill All The Required Inputs Properly."),d.qZA())}let fG=(()=>{class n{constructor(t){this.realtimeDataService=t,this.messageInfo=new Qb({firstName:new df(null,S0.required),lastName:new df(null,S0.required),email:new df(null,[S0.required,S0.email]),subject:new df(null),message:new df(null,[S0.required])})}save(t){t.valid?(this.invalidFrom=!1,this.realtimeDataService.saveMessage(t.value),this.messageInfo.reset()):this.invalidFrom=!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(sG))},n.\u0275cmp=d.Xpm({type:n,selectors:[["contact-form"]],standalone:!0,features:[d.jDz],decls:34,vars:9,consts:[[3,"formGroup","ngSubmit"],[1,"holder","d-flex","flex-wrap","justify-content-around","align-items-center"],[1,"input","col-12","col-md-6"],[1,"form-group","p-md-2","d-flex","flex-column","justify-content-center","align-items-center","align-items-xxl-start"],["for","firstName"],["id","firstName","type","text","placeholder","Ahmed","formControlName","firstName",1,"form-control"],["class","error text-md-center mb-0",4,"ngIf"],["for","lastName"],["id","lastName","type","text","placeholder","Ben Chakhter","formControlName","lastName",1,"form-control"],["for","email"],["id","email","type","text","placeholder","ahmadbenchakhti@gmail.com","formControlName","email",1,"form-control"],[4,"ngIf"],[1,"form-group","p-md-2","d-flex","flex-column","justify-content-center","align-items-center","align-items-xxl-start","input","col-12","col-md-6"],["for","subject"],["id","subject","type","text","placeholder","Hi, Ahmed. I'm Texting You For...","formControlName","subject",1,"form-control"],[1,"form-group","mt-3","d-flex","flex-column","align-items-center"],["for","message"],["id","message","type","text","placeholder","Ask For Task Or Job, Note, Comment, Opinion...","formControlName","message",1,"form-control"],[1,"d-flex","justify-content-center","align-items-center"],["type","submit",1,"submit-btn","btn","mt-4","mb-2","d-block",3,"ngClass","click"],["class","error text-md-center mb-0 text-center",4,"ngIf"],[1,"error","text-md-center","mb-0"],[1,"error","text-md-center","mb-0","text-center"]],template:function(t,r){1&t&&(d.TgZ(0,"form",0),d.NdJ("ngSubmit",function(){return r.save(r.messageInfo)}),d.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),d._uU(5," First Name* "),d.qZA(),d._UZ(6,"input",5),d.qZA(),d.YNc(7,oG,2,0,"p",6),d.qZA(),d.TgZ(8,"div",2)(9,"div",3)(10,"label",7),d._uU(11," Last Name* "),d.qZA(),d._UZ(12,"input",8),d.qZA(),d.YNc(13,aG,2,0,"p",6),d.qZA()(),d.TgZ(14,"div",1)(15,"div",2)(16,"div",3)(17,"label",9),d._uU(18," Email* "),d.qZA(),d._UZ(19,"input",10),d.qZA(),d.YNc(20,cG,3,2,"div",11),d.qZA(),d.TgZ(21,"div",12)(22,"label",13),d._uU(23," Subject "),d.qZA(),d._UZ(24,"input",14),d.qZA()(),d.TgZ(25,"div",15)(26,"label",16),d._uU(27," Message "),d.qZA(),d._UZ(28,"textarea",17),d.qZA(),d.YNc(29,dG,2,0,"p",6),d.TgZ(30,"div",18)(31,"button",19),d.NdJ("click",function(){return r.save(r.messageInfo)}),d._uU(32," continue "),d.qZA()(),d.YNc(33,hG,2,0,"p",20),d.qZA()),2&t&&(d.Q6J("formGroup",r.messageInfo),d.xp6(7),d.Q6J("ngIf",r.messageInfo.controls.firstName.errors&&r.messageInfo.controls.firstName.touched),d.xp6(6),d.Q6J("ngIf",r.messageInfo.controls.lastName.errors&&r.messageInfo.controls.lastName.touched),d.xp6(7),d.Q6J("ngIf",r.messageInfo.controls.email.touched),d.xp6(9),d.Q6J("ngIf",r.messageInfo.controls.message.errors&&r.messageInfo.controls.message.touched),d.xp6(2),d.ekj("active",r.messageInfo.valid),d.Q6J("ngClass",r.messageInfo.valid?"active":"inactive"),d.xp6(2),d.Q6J("ngIf",r.invalidFrom&&r.messageInfo.invalid&&r.messageInfo.touched))},dependencies:[ci,it,ss,bz,R2,Gb,m2,_2,Dz,nD,KR],styles:["form[_ngcontent-%COMP%]   .holder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:280px}form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:160px;resize:none}form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:auto;padding:6px 14px;font-size:2rem;border:2px solid var(--primary-font-color);color:var(--primary-font-color);transition:var(--transition-time)}form[_ngcontent-%COMP%]   .submit-btn.active[_ngcontent-%COMP%]{border-color:#fff;background-color:var(--secondary-font-color);color:#fff}form[_ngcontent-%COMP%]   .submit-btn.inactive[_ngcontent-%COMP%]{cursor:not-allowed}form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--error-color);font-size:1.8rem}@media (min-width: 768px){.holder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:310px}textarea[_ngcontent-%COMP%]{max-width:400px}}.form-control[_ngcontent-%COMP%]{font-size:1.6rem}"]}),n})(),pG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["contact-info"]],standalone:!0,features:[d.jDz],decls:36,vars:0,consts:[[1,"personal-info","mb-4","col-12","col-md-6","col-lg-12"],[1,"contact-info","p-2","p-lg-0"],[1,"contact-line","mb-3","d-flex","align-items-center","what-num"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"me-3","bi","bi-whatsapp"],["d","M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"],[1,"contact-line","mb-3","d-flex","align-items-center","place"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"me-3","bi","bi-geo-alt-fill"],["d","M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"],[1,"contact-line","mb-3","d-flex","align-items-center","email"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"me-3","bi","bi-envelope-at-fill"],["d","M2 2A2 2 0 0 0 .05 3.555L8 8.414l7.95-4.859A2 2 0 0 0 14 2H2Zm-2 9.8V4.698l5.803 3.546L0 11.801Zm6.761-2.97-6.57 4.026A2 2 0 0 0 2 14h6.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.606-3.446l-.367-.225L8 9.586l-1.239-.757ZM16 9.671V4.697l-5.803 3.546.338.208A4.482 4.482 0 0 1 12.5 8c1.414 0 2.675.652 3.5 1.671Z"],["d","M15.834 12.244c0 1.168-.577 2.025-1.587 2.025-.503 0-1.002-.228-1.12-.648h-.043c-.118.416-.543.643-1.015.643-.77 0-1.259-.542-1.259-1.434v-.529c0-.844.481-1.4 1.26-1.4.585 0 .87.333.953.63h.03v-.568h.905v2.19c0 .272.18.42.411.42.315 0 .639-.415.639-1.39v-.118c0-1.277-.95-2.326-2.484-2.326h-.04c-1.582 0-2.64 1.067-2.64 2.724v.157c0 1.867 1.237 2.654 2.57 2.654h.045c.507 0 .935-.07 1.18-.18v.731c-.219.1-.643.175-1.237.175h-.044C10.438 16 9 14.82 9 12.646v-.214C9 10.36 10.421 9 12.485 9h.035c2.12 0 3.314 1.43 3.314 3.034v.21Zm-4.04.21v.227c0 .586.227.8.581.8.31 0 .564-.17.564-.743v-.367c0-.516-.275-.708-.572-.708-.346 0-.573.245-.573.791Z"],[1,"social-media","p-2","p-lg-0","d-flex","align-items-center","justify-content-around","justify-content-md-start","justify-content-lg-around"],["href","https://wa.me/+212609526086","target","_blank","rel","noopener noreferrer"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-whatsapp","me-0","me-md-4","me-lg-0"],["href","mailto: ahmadbenchakhti@gmail.com","target","_blank","rel","noopener noreferrer"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-envelope-at-fill","me-0","me-md-4","me-lg-0"],["href","https://www.linkedin.com/in/ahmed-ben-chakhter/","target","_blank","rel","noopener noreferrer"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-linkedin","me-0","me-md-4","me-lg-0"],["d","M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"],["href","https://github.com/ahmad-ben","target","_blank","rel","noopener noreferrer"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-github","me-0","me-md-4","me-lg-0"],["d","M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"],[1,"map","overflow-hidden","col-12","col-md-6","col-lg-12"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3244.9963772256683!2d-5.38089107500194!3d35.57848123561277!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd0b4261e39d8219%3A0xb84219c387906917!2sAv.%20Othman%20Ibn%20Affane%2C%20T%C3%A9touan!5e0!3m2!1sar!2sma!4v1684259622586!5m2!1sar!2sma","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"border","0"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h4"),d._uU(3,"Contact Info"),d.qZA(),d.TgZ(4,"div",2),d.O4$(),d.TgZ(5,"svg",3),d._UZ(6,"path",4),d.qZA(),d.kcU(),d.TgZ(7,"span"),d._uU(8,"+212609526086"),d.qZA()(),d.TgZ(9,"div",5),d.O4$(),d.TgZ(10,"svg",6),d._UZ(11,"path",7),d.qZA(),d.kcU(),d.TgZ(12,"span"),d._uU(13,"55 Avenue Othman Ibn Affane, Tetouan, Morocco."),d.qZA()(),d.TgZ(14,"div",8),d.O4$(),d.TgZ(15,"svg",9),d._UZ(16,"path",10)(17,"path",11),d.qZA(),d.kcU(),d.TgZ(18,"span"),d._uU(19,"ahmadbenchakhti@gmail.com"),d.qZA()()(),d.TgZ(20,"div",12)(21,"a",13),d.O4$(),d.TgZ(22,"svg",14),d._UZ(23,"path",4),d.qZA()(),d.kcU(),d.TgZ(24,"a",15),d.O4$(),d.TgZ(25,"svg",16),d._UZ(26,"path",10)(27,"path",11),d.qZA()(),d.kcU(),d.TgZ(28,"a",17),d.O4$(),d.TgZ(29,"svg",18),d._UZ(30,"path",19),d.qZA()(),d.kcU(),d.TgZ(31,"a",20),d.O4$(),d.TgZ(32,"svg",21),d._UZ(33,"path",22),d.qZA()()()(),d.kcU(),d.TgZ(34,"div",23),d._UZ(35,"iframe",24),d.qZA())},dependencies:[ci],styles:[".personal-info[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--primary-font-color)}.personal-info[_ngcontent-%COMP%]   .social-media[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:35px;height:35px;fill:var(--secondary-font-color)}.map[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%;min-height:200px}@media (max-width: 767px){.social-media[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:35px;height:35px}.map[_ngcontent-%COMP%]{height:350px}}"]}),n})(),gG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["contact"]],standalone:!0,features:[d.jDz],decls:7,vars:0,consts:[["id","contact",1,"contact","pb-5"],[1,"container"],["id","contact-header",1,"text-center","mb-0","mt-4"],[1,"d-flex","flex-wrap","justify-content-center","align-items-center"],[1,"col-12","col-lg-8","col-xl-7","col-xxl-6","p-md-2","p-lg-3"],[1,"d-flex","flex-wrap","justify-content-center","align-items-center","col-12","col-lg-4","d-lg-block"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),d._uU(3,"Contact"),d.qZA(),d.TgZ(4,"div",3),d._UZ(5,"contact-form",4)(6,"contact-info",5),d.qZA()()())},dependencies:[ci,fG,pG]}),n})(),mG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["footer-component"]],standalone:!0,features:[d.jDz],decls:8,vars:0,consts:[[1,"container","py-2","text-center"],[1,"name"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-heart-fill","love"],["fill-rule","evenodd","d","M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"]],template:function(t,r){1&t&&(d.TgZ(0,"footer")(1,"div",0),d._uU(2," Made By "),d.TgZ(3,"span",1),d._uU(4,"Ahmed Ben Chakhter"),d.qZA(),d._uU(5," With All Love "),d.O4$(),d.TgZ(6,"svg",2),d._UZ(7,"path",3),d.qZA()()())},dependencies:[ci],styles:["footer[_ngcontent-%COMP%]{font-size:2.2rem;border-top:1px solid var(--secondary-font-color)}footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--secondary-font-color)}footer[_ngcontent-%COMP%]   .love[_ngcontent-%COMP%]{color:var(--secondary-font-color)}@media (max-width: 767px){footer[_ngcontent-%COMP%]{font-size:1.8rem}footer[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:26px;height:26px}}@media (max-width: 455px){footer[_ngcontent-%COMP%]{font-size:1.4rem}footer[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}}"]}),n})();const _G={name:"HTML & CSS Template One.",date:"25/09/2022",url:"https://ahmad-ben.github.io/Template-One-Html-Css/",usedTechnologiesImages:["./assets/Images/my skills/Skill 1 HTML.png","./assets/Images/my skills/Skill 2 CSS.png"]},yG={name:"HTML & CSS Template Two.",date:"27/09/2022",url:"https://ahmad-ben.github.io/Template-Two-Html-Css/",usedTechnologiesImages:["./assets/Images/my skills/Skill 1 HTML.png","./assets/Images/my skills/Skill 2 CSS.png"]},vG={name:"HTML & CSS Template Three.",date:"03/10/2022",url:"https://ahmad-ben.github.io/Template-Three-Html-Css/",usedTechnologiesImages:["./assets/Images/my skills/Skill 1 HTML.png","./assets/Images/my skills/Skill 2 CSS.png"]},wG={name:"HTML & CSS Template Four.",date:"17/11/2022",url:"https://ahmad-ben.github.io/Template-Four-Html-Css/",usedTechnologiesImages:["./assets/Images/my skills/Skill 1 HTML.png","./assets/Images/my skills/Skill 2 CSS.png"]},EG={name:"HTML & CSS & JS Template One.",date:"11/12/2022",url:"https://ahmad-ben.github.io/Template-One-Html-Css-Js/",usedTechnologiesImages:["./assets/Images/my skills/Skill 1 HTML.png","./assets/Images/my skills/Skill 2 CSS.png","./assets/Images/my skills/Skill 3 JS.jpg"]},CG={name:"Weather project -freelance-.",date:"10/04/2023",url:"https://www.meteo-rabat.com/fr/meteo",usedTechnologiesImages:["./assets/Images/my skills/Skill 1 HTML.png","./assets/Images/my skills/Skill 4 SASS.webp","./assets/Images/my skills/Skill 5 BOOTSTRAP.png","./assets/Images/my skills/Skill 6 TS.png","./assets/Images/my skills/Skill 7 NG.png","./assets/Images/my skills/Skill 9 FB.webp"]},IG={name:"Organic shop.",date:"15/05/2023",url:"https://ahmad-ben.github.io/organic-shop/",usedTechnologiesImages:["./assets/Images/my skills/Skill 1 HTML.png","./assets/Images/my skills/Skill 2 CSS.png","./assets/Images/my skills/Skill 5 BOOTSTRAP.png","./assets/Images/my skills/Skill 6 TS.png","./assets/Images/my skills/Skill 7 NG.png","./assets/Images/my skills/Skill 9 FB.webp"]},bG={name:"Halal weekend -freelance-.",date:"29/07/2023",url:"https://halal-weekend-7v5nrcbukq-uc.a.run.app/",usedTechnologiesImages:["./assets/Images/my skills/Skill 1 HTML.png","./assets/Images/my skills/Skill 4 SASS.webp","./assets/Images/my skills/Skill 5 BOOTSTRAP.png","./assets/Images/my skills/Skill 6 TS.png","./assets/Images/my skills/Skill 7 NG.png","./assets/Images/my skills/Skill 9 FB.webp"]},DG={name:"Task manager app -MEAN Stack-.",date:"06/09/2023",url:"https://ahmad-ben.github.io/TaskManagerApp-Frontend-",usedTechnologiesImages:["./assets/Images/my skills/Skill 1 HTML.png","./assets/Images/my skills/Skill 4 SASS.webp","./assets/Images/my skills/Skill 13 Tailwind.png","./assets/Images/my skills/Skill 6 TS.png","./assets/Images/my skills/Skill 7 NG.png","./assets/Images/my skills/Skill 10 Node.png","./assets/Images/my skills/Skill 11 EX.png","./assets/Images/my skills/Skill 12 MongoDB.png"]};function TG(n,e){if(1&n&&(d.TgZ(0,"div",11),d._UZ(1,"img",12),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("src",t,d.LSH)}}let SG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["project"]],inputs:{projectInfo:"projectInfo"},standalone:!0,features:[d.jDz],decls:14,vars:4,consts:[[1,""],[1,"project","p-2","m-auto"],[1,"mb-2","pb-1"],[1,"d-flex","justify-content-evenly","align-items-center"],[1,"my-3"],["target","_blank",3,"href"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-link-45deg"],["d","M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"],["d","M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"],[1,"features-images","d-flex","justify-content-center","align-items-center"],["class","feature-image px-2",4,"ngFor","ngForOf"],[1,"feature-image","px-2"],["alt","",3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),d._uU(3),d.qZA(),d.TgZ(4,"div",3)(5,"p",4),d._uU(6),d.qZA()(),d.TgZ(7,"div",3)(8,"a",5),d.O4$(),d.TgZ(9,"svg",6),d._UZ(10,"path",7)(11,"path",8),d.qZA()(),d.kcU(),d.TgZ(12,"div",9),d.YNc(13,TG,2,1,"div",10),d.qZA()()()()),2&t&&(d.xp6(3),d.hij(" ",r.projectInfo.name," "),d.xp6(3),d.hij(" ",r.projectInfo.date," "),d.xp6(2),d.Q6J("href",r.projectInfo.url,d.LSH),d.xp6(5),d.Q6J("ngForOf",r.projectInfo.usedTechnologiesImages))},dependencies:[ci,sr],styles:[".project[_ngcontent-%COMP%]{color:#00d4ff;background-color:#2a2a2a;border-radius:10px;max-width:400px}.project[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{border-bottom:1px solid #009afa}.project[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2)   p[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0;margin:0;font-size:2.5rem}.project[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2) a{overflow:hidden}.project[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2) a   img[_ngcontent-%COMP%]{width:40px;height:40px}.project[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3)   .features-images[_ngcontent-%COMP%]{flex-wrap:wrap}.project[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3)   .features-images[_ngcontent-%COMP%]   .feature-image[_ngcontent-%COMP%]{overflow:hidden;margin-bottom:5px}.project[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(3)   .features-images[_ngcontent-%COMP%]   .feature-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}"]}),n})();function AG(n,e){if(1&n&&(d.ynx(0),d._UZ(1,"project",5),d.BQk()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("projectInfo",t)}}let MG=(()=>{class n{constructor(){this.projectsInfo=[_G,yG,vG,wG,EG,CG,IG,bG,DG]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["my-projects"]],standalone:!0,features:[d.jDz],decls:6,vars:1,consts:[[1,"my-project"],[1,"container"],["id","projects-header",1,"text-center"],["id","my-projects",1,"projects","d-flex","flex-wrap","justify-content-center","align-items-center"],[4,"ngFor","ngForOf"],[1,"space","flex-grow-1","col-12","col-md-6","col-lg-4","col-lx-3","text-center","p-2",3,"projectInfo"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),d._uU(3,"My Projects"),d.qZA(),d.TgZ(4,"div",3),d.YNc(5,AG,2,1,"ng-container",4),d.qZA()()()),2&t&&(d.xp6(5),d.Q6J("ngForOf",r.projectsInfo))},dependencies:[ci,sr,SG],styles:[".my-project[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .projects[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{background-color:var(--project-space)}"]}),n})();function xG(n,e){1&n&&d._UZ(0,"div",12)}function RG(n,e){1&n&&(d.O4$(),d.TgZ(0,"svg"),d._UZ(1,"circle",13)(2,"circle",13),d.qZA())}function PG(n,e){if(1&n&&(d.TgZ(0,"div",5)(1,"div",6)(2,"div",7),d.YNc(3,xG,1,0,"div",8),d.YNc(4,RG,3,0,"svg",9),d.TgZ(5,"div",10),d._UZ(6,"img",11),d.qZA()()(),d.TgZ(7,"span"),d._uU(8),d.qZA()()),2&n){const t=e.$implicit,r=d.oxw();d.xp6(2),d.vpz("--clr: ",t.color,"; --num: ",t.masteryLevel,""),d.uIk("data-percent",t.masteryLevel),d.xp6(1),d.Q6J("ngIf",r.isVisible),d.xp6(1),d.Q6J("ngIf",r.isVisible),d.xp6(2),d.MGl("src"," ",t.imageUrl," ",d.LSH),d.xp6(2),d.hij(" ",t.skillName," ")}}let OG=(()=>{class n{constructor(t){this.elementRef=t,this.isVisible=!1,this.skills=[{skillName:"HTML",color:"#04fc43",masteryLevel:"90",imageUrl:"./assets/Images/my skills/Skill 1 HTML.png"},{skillName:"CSS",color:"#06ccff",masteryLevel:"90",imageUrl:"./assets/Images/my skills/Skill 2 CSS.png"},{skillName:"JS",color:"#ff00be",masteryLevel:"85",imageUrl:"./assets/Images/my skills/Skill 3 JS.jpg"},{skillName:"SASS",color:"#fee800",masteryLevel:"85",imageUrl:"./assets/Images/my skills/Skill 4 SASS.webp"},{skillName:"BS",color:"#04fc43",masteryLevel:"75",imageUrl:"./assets/Images/my skills/Skill 5 BOOTSTRAP.png"},{skillName:"TS",color:"#06ccff",masteryLevel:"75",imageUrl:"./assets/Images/my skills/Skill 6 TS.png"},{skillName:"Angular",color:"#ff00be",masteryLevel:"80",imageUrl:"./assets/Images/my skills/Skill 7 NG.png"},{skillName:"Github",color:"#fee800",masteryLevel:"70",imageUrl:"./assets/Images/my skills/Skill 8 GH.png"},{skillName:"Firebase",color:"#04fc43",masteryLevel:"70",imageUrl:"./assets/Images/my skills/Skill 9 FB.webp"},{skillName:"Node",color:"#06ccff",masteryLevel:"70",imageUrl:"./assets/Images/my skills/Skill 10 Node.png"},{skillName:"Express",color:"#ff00be",masteryLevel:"75",imageUrl:"./assets/Images/my skills/Skill 11 EX.png"},{skillName:"MongoDB",color:"#fee800",masteryLevel:"75",imageUrl:"./assets/Images/my skills/Skill 12 MongoDB.png"},{skillName:"Tailwind",color:"#04fc43",masteryLevel:"80",imageUrl:"./assets/Images/my skills/Skill 13 Tailwind.png"}]}ngOnInit(){}ngAfterViewInit(){const t=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&(this.isVisible=!0,t.unobserve(i.target))})});t.observe(this.elementRef.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["my-skills"]],standalone:!0,features:[d.jDz],decls:6,vars:1,consts:[["id","my-skills",1,"my-skills"],[1,"container"],["id","skills-headrer",1,"text-center"],["id","skills",1,"skills","d-flex","flex-wrap","justify-content-center","align-items-center"],["class","skill overflow-hidden flex-grow-1 col-sm-6 col-md-4 col-lg-3 col-xxl-2 text-center",4,"ngFor","ngForOf"],[1,"skill","overflow-hidden","flex-grow-1","col-sm-6","col-md-4","col-lg-3","col-xxl-2","text-center"],[1,"skill-design","d-flex","justify-content-center","align-items-center"],[1,"percent"],["class","dot",4,"ngIf"],[4,"ngIf"],[1,"image-holder"],["alt","",3,"src"],[1,"dot"],["cx","50%","cy","50%","r","70"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),d._uU(3,"My Skills"),d.qZA(),d.TgZ(4,"div",3),d.YNc(5,PG,9,9,"div",4),d.qZA()()()),2&t&&(d.xp6(5),d.Q6J("ngForOf",r.skills))},dependencies:[ci,sr,ss],styles:['.my-skills[_ngcontent-%COMP%]{padding-bottom:30px}.my-skills[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .skills[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{background-color:#2a2a2a;border:3px solid var(--boxes-space);padding:10px 0;border-radius:10px;box-shadow:0 0 10px inset #fff;max-width:400px}.my-skills[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .skills[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]:hover   .skill-design[_ngcontent-%COMP%]   .image-holder[_ngcontent-%COMP%]{transform:translate(-50%,-50%) rotate(5deg) scale(1.1)}.my-skills[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .skills[_ngcontent-%COMP%]   .skill-design[_ngcontent-%COMP%]{position:relative}.my-skills[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .skills[_ngcontent-%COMP%]   .skill-design[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{position:relative;width:150px;height:150px}.my-skills[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .skills[_ngcontent-%COMP%]   .skill-design[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{position:absolute;z-index:10;inset:5px;animation:_ngcontent-%COMP%_dotAnimate 2s linear forwards}.my-skills[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .skills[_ngcontent-%COMP%]   .skill-design[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:10px;background-color:var(--clr);left:50%;top:-5px;transform:translate(-50%);border-radius:50%;box-shadow:0 0 10px var(--clr),0 0 30px var(--clr)}.my-skills[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .skills[_ngcontent-%COMP%]   .skill-design[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transform:rotate(270deg)}.my-skills[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .skills[_ngcontent-%COMP%]   .skill-design[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{fill:transparent;stroke:#2a2a2a;stroke-width:2}.my-skills[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .skills[_ngcontent-%COMP%]   .skill-design[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]:nth-child(2){stroke:var(--clr);stroke-dasharray:440;stroke-dashoffset:calc(440 - 440 * var(--num) / 100);animation:_ngcontent-%COMP%_fadeIn 2s linear forwards;animation-delay:2.5s;opacity:0}.my-skills[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .skills[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:5px 0;letter-spacing:2px;text-transform:uppercase;color:#00d4ff}.image-holder[_ngcontent-%COMP%]{position:absolute;width:70px;height:70px;top:50%;left:50%;transform:translate(-50%,-50%);transition:var(--transition-time)}.image-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}@keyframes _ngcontent-%COMP%_dotAnimate{0%{transform:rotate(0%)}to{transform:rotate(calc(3.6deg * var(--num)))}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}']}),n})(),NG=(()=>{class n{constructor(){this.menuIcons=document.getElementById("menu-icon"),this.ulSmall=document.getElementById("ul-small")}ngOnInit(){}menuClicked(t,r){t.classList.toggle("active"),r.classList.toggle("active")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["navbar"]],standalone:!0,features:[d.jDz],decls:32,vars:0,consts:[[1,"navbar"],[1,"container","d-block","d-md-flex","justify-content-md-center","align-items-md-center","gap-md-5"],[1,"nav","col-md-4"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512",3,"click"],["menuIcon",""],["d","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"],[1,"ms-auto"],["sectionsUl",""],[2,"--i","4",3,"click"],["href","#about-me"],[2,"--i","3",3,"click"],["href","#my-skills"],[2,"--i","2",3,"click"],["href","#my-projects"],[2,"--i","1",3,"click"],["href","#contact"],[1,"introduce","col-md-7"],[1,"hi"],[1,"name"],[1,"job"]],template:function(t,r){if(1&t){const i=d.EpF();d.TgZ(0,"div",0)(1,"div",1)(2,"nav",2),d.O4$(),d.TgZ(3,"svg",3,4),d.NdJ("click",function(){d.CHM(i);const u=d.MAs(4),f=d.MAs(7);return d.KtG(r.menuClicked(u,f))}),d._UZ(5,"path",5),d.qZA(),d.kcU(),d.TgZ(6,"ul",6,7)(8,"li",8),d.NdJ("click",function(){d.CHM(i);const u=d.MAs(4),f=d.MAs(7);return d.KtG(r.menuClicked(u,f))}),d.TgZ(9,"a",9),d._uU(10," About Me "),d.qZA()(),d.TgZ(11,"li",10),d.NdJ("click",function(){d.CHM(i);const u=d.MAs(4),f=d.MAs(7);return d.KtG(r.menuClicked(u,f))}),d.TgZ(12,"a",11),d._uU(13," My Skills "),d.qZA()(),d.TgZ(14,"li",12),d.NdJ("click",function(){d.CHM(i);const u=d.MAs(4),f=d.MAs(7);return d.KtG(r.menuClicked(u,f))}),d.TgZ(15,"a",13),d._uU(16," Projects "),d.qZA()(),d.TgZ(17,"li",14),d.NdJ("click",function(){d.CHM(i);const u=d.MAs(4),f=d.MAs(7);return d.KtG(r.menuClicked(u,f))}),d.TgZ(18,"a",15),d._uU(19," Contact "),d.qZA()()()(),d.TgZ(20,"div",16)(21,"p")(22,"span",17),d._uU(23," HI, "),d.qZA(),d.TgZ(24,"span",18),d._uU(25," My Name Is "),d.TgZ(26,"span"),d._uU(27," Ahmed Ben Chakhter. "),d.qZA()(),d.TgZ(28,"span",19),d._uU(29," And I'm A: "),d.TgZ(30,"span"),d._uU(31,"Front-End Angular Developer."),d.qZA()()()()()()}},dependencies:[ci],styles:['.navbar[_ngcontent-%COMP%]{padding:60px 0 40px}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:none}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:relative;transform:skewY(-15deg)}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#3e3f46;z-index:var(--i);transition:var(--transition-time);position:relative;width:200px;padding:15px}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translate(25px);background-color:#33a3ee}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:before{background-color:#1f5378}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{background-color:#2982b9}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";position:absolute;background-color:#2e3133;width:40px;height:100%;top:0;left:-40px;transform:skewY(45deg);transform-origin:right;transition:var(--transition-time)}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:#35383e;width:100%;height:40px;top:-40px;left:0;transform:skew(45deg);transform-origin:bottom}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;display:block;text-transform:uppercase;letter-spacing:.05rem;transition:var(--transition-time);text-decoration:none}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:after{box-shadow:-110px 110px 20px #00000040}.navbar[_ngcontent-%COMP%]   .introduce[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]   .introduce[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .hi[_ngcontent-%COMP%]{display:block;font-size:4.5rem}.navbar[_ngcontent-%COMP%]   .introduce[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;font-size:3rem}.navbar[_ngcontent-%COMP%]   .introduce[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--secondary-font-color)}.navbar[_ngcontent-%COMP%]   .introduce[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]{font-size:3rem}.navbar[_ngcontent-%COMP%]   .introduce[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:var(--secondary-font-color)}@media (max-width: 767px){.navbar[_ngcontent-%COMP%]{padding:10px}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{padding:10px;position:absolute;left:85%}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;position:relative;top:0;cursor:pointer;width:30px;height:30px;fill:var(--primary-font-color);transition:var(--transition-time)}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   svg.active[_ngcontent-%COMP%]{fill:var(--secondary-font-color)}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;transform:skewY(0);display:none;transition:var(--transition-time);top:100%;left:calc(100% - 210px);border:2px solid #000000;box-shadow:0 0 10px #000;padding:0;z-index:100}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#434750f2}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translate(0)}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{transform:translate(10px)}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:before{display:none}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{display:none}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{display:none}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{display:none}.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul.active[_ngcontent-%COMP%]{display:block}}@media (max-width: 399px){.navbar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{left:83%}}']}),n})();function kG(n,e){1&n&&(d.O4$(),d.TgZ(0,"svg",5),d._UZ(1,"path",6),d.qZA())}function FG(n,e){1&n&&(d.O4$(),d.TgZ(0,"svg",7),d._UZ(1,"path",8),d.qZA())}function LG(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",9,1),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.goToTop())}),d.O4$(),d.TgZ(2,"svg",10),d._UZ(3,"path",11),d.qZA()()}if(2&n){const t=d.oxw();d.ekj("active",t.needScroll),d.Q6J("ngClass",t.darkMode?"dark":"light")}}let VG=(()=>{class n{constructor(){this.title="Ahmed Ben Chakhter",this.darkMode=!0,this.needScroll=!1,window.addEventListener("scroll",()=>{this.needScroll=window.scrollY>100})}changeMode(t){this.darkMode=!this.darkMode,this.darkMode?(document.documentElement.style.setProperty("--back-color","#434750"),document.documentElement.style.setProperty("--primary-font-color","#00d4ff"),document.documentElement.style.setProperty("--secondary-font-color","#009afa"),document.documentElement.style.setProperty("--boxes-space","#434750"),document.documentElement.style.setProperty("--error-color","#FF5454")):(document.documentElement.style.setProperty("--back-color","#0ff"),document.documentElement.style.setProperty("--primary-font-color","#004666"),document.documentElement.style.setProperty("--secondary-font-color","#185395"),document.documentElement.style.setProperty("--boxes-space","#0ff"),document.documentElement.style.setProperty("--error-color","#a51d1d"))}goToTop(){window.scroll(0,0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],standalone:!0,features:[d.jDz],decls:11,vars:4,consts:[[1,"mode",3,"ngClass","click"],["btn",""],["width","22","height","22","fill","currentColor","class","bi bi-moon-fill","viewBox","0 0 16 16",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","class","bi bi-brightness-high-fill","viewBox","0 0 16 16",4,"ngIf"],["class","scroll-up",3,"ngClass","active","click",4,"ngIf"],["width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-moon-fill"],["d","M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-brightness-high-fill"],["d","M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"],[1,"scroll-up",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","22","height","22","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-up"],["fill-rule","evenodd","d","M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"]],template:function(t,r){if(1&t){const i=d.EpF();d.TgZ(0,"button",0,1),d.NdJ("click",function(){d.CHM(i);const u=d.MAs(1);return d.KtG(r.changeMode(u))}),d.YNc(2,kG,2,0,"svg",2),d.YNc(3,FG,2,0,"svg",3),d.qZA(),d.YNc(4,LG,4,3,"button",4),d._UZ(5,"navbar")(6,"about-me")(7,"my-skills")(8,"my-projects")(9,"contact")(10,"footer-component")}2&t&&(d.Q6J("ngClass",r.darkMode?"dark":"light"),d.xp6(2),d.Q6J("ngIf",!r.darkMode),d.xp6(1),d.Q6J("ngIf",r.darkMode),d.xp6(1),d.Q6J("ngIf",r.needScroll))},dependencies:[ci,it,ss,NG,bH,OG,MG,mG,gG],styles:[".mode[_ngcontent-%COMP%]{position:fixed;top:70px;right:2%;z-index:100;display:flex;justify-content:center;align-items:center;padding:10px;border:none;border-radius:50%;transition:var(--transition-time)}.mode.dark[_ngcontent-%COMP%]{background-color:#fff}.mode.dark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#000}.mode.light[_ngcontent-%COMP%]{background-color:#000}.mode.light[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff}.scroll-up[_ngcontent-%COMP%]{position:fixed;bottom:2%;right:2%;z-index:100;display:flex;justify-content:center;align-items:center;padding:10px;border:none;border-radius:50%;transition:var(--transition-time);animation:_ngcontent-%COMP%_up-down 1s infinite alternate}.scroll-up.dark[_ngcontent-%COMP%]{background-color:#fff}.scroll-up.dark[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#000}.scroll-up.light[_ngcontent-%COMP%]{background-color:#000}.scroll-up.light[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#fff}@keyframes _ngcontent-%COMP%_up-down{0%{transform:translateY(0)}to{transform:translateY(5px)}}"]}),n})();const eP_firebaseConfig={apiKey:"AIzaSyC75i0RaIVDZMrBgVbi9mmnkpAwryvxVPs",authDomain:"my-portfolio-84cb6.firebaseapp.com",projectId:"my-portfolio-84cb6",storageBucket:"my-portfolio-84cb6.appspot.com",messagingSenderId:"320650676048",appId:"1:320650676048:web:c02e047d77458430704e55"};!function Nu(n,e){(0,d.iPO)({rootComponent:n,...xa(e)})}(VG,{providers:[function Of(...n){const e=[Lm,Td,Ds,{provide:Eu,useExisting:Ds},{provide:Cf,useExisting:Td},{provide:gl,useValue:Pf,multi:!0},{provide:vl,useValue:!0},{provide:Sd,useClass:z0}];for(const t of n)e.push(...t.\u0275providers);return(0,d.MR2)(e)}(),(0,d.RIp)(function Bf(n,...e){return{ngModule:Md,providers:[{provide:ba,useFactory:Su(n),multi:!0,deps:[d.R0b,d.zs3,Wt.HU,...e]}]}}(()=>(0,hi.ZF)(eP_firebaseConfig)),function UE(n,...e){return{ngModule:VE,providers:[{provide:tg,useFactory:FE(n),multi:!0,deps:[d.R0b,d.zs3,Wt.HU,Yo,[new d.FiY,hh],...e]}]}}(()=>(0,gc.o)()),function yh(n,...e){return{ngModule:YE,providers:[{provide:KE,useFactory:sg(n),multi:!0,deps:[d.R0b,d.zs3,Wt.HU,Yo,...e]}]}}(()=>(0,hE.IH)()),function WU(n,...e){return{ngModule:GU,providers:[{provide:NA,useFactory:$U(n),multi:!0,deps:[d.R0b,d.zs3,Wt.HU,Yo,[new d.FiY,mc],[new d.FiY,hh],...e]}]}}(()=>function xU(n=(0,Ni.getApp)(),e){const t=(0,Ni._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,V.P0)("database");r&&E1(t,...r)}return t}()),function IH(n,...e){return{ngModule:CH,providers:[{provide:RR,useFactory:vH(n),multi:!0,deps:[d.R0b,d.zs3,Wt.HU,Yo,[new d.FiY,mc],[new d.FiY,hh],...e]}]}}(()=>K3()),Zs.hO.initializeApp(eP_firebaseConfig))]}),(0,hi.ZF)(eP_firebaseConfig)},9751:(pt,Te,F)=>{F.d(Te,{y:()=>fe});var d=F(930),$=F(727),N=F(8822),ee=F(9635),de=F(2416),ae=F(576),_e=F(2806);let fe=(()=>{class Q{constructor(ve){ve&&(this._subscribe=ve)}lift(ve){const Be=new Q;return Be.source=this,Be.operator=ve,Be}subscribe(ve,Be,nt){const ye=function W(Q){return Q&&Q instanceof d.Lv||function G(Q){return Q&&(0,ae.m)(Q.next)&&(0,ae.m)(Q.error)&&(0,ae.m)(Q.complete)}(Q)&&(0,$.Nn)(Q)}(ve)?ve:new d.Hp(ve,Be,nt);return(0,_e.x)(()=>{const{operator:be,source:Ae}=this;ye.add(be?be.call(ye,Ae):Ae?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(ve){try{return this._subscribe(ve)}catch(Be){ve.error(Be)}}forEach(ve,Be){return new(Be=me(Be))((nt,ye)=>{const be=new d.Hp({next:Ae=>{try{ve(Ae)}catch(Me){ye(Me),be.unsubscribe()}},error:ye,complete:nt});this.subscribe(be)})}_subscribe(ve){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(ve)}[N.L](){return this}pipe(...ve){return(0,ee.U)(ve)(this)}toPromise(ve){return new(ve=me(ve))((Be,nt)=>{let ye;this.subscribe(be=>ye=be,be=>nt(be),()=>Be(ye))})}}return Q.create=Oe=>new Q(Oe),Q})();function me(Q){var Oe;return null!==(Oe=Q??de.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(pt,Te,F)=>{F.d(Te,{x:()=>_e});var d=F(9751),$=F(727);const ee=(0,F(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=F(8737),ae=F(2806);let _e=(()=>{class me extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const Q=new fe(this,this);return Q.operator=W,Q}_throwIfClosed(){if(this.closed)throw new ee}next(W){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(W)}})}error(W){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:Q}=this;for(;Q.length;)Q.shift().error(W)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:Q,isStopped:Oe,observers:ve}=this;return Q||Oe?$.Lc:(this.currentObservers=null,ve.push(W),new $.w0(()=>{this.currentObservers=null,(0,de.P)(ve,W)}))}_checkFinalizedStatuses(W){const{hasError:Q,thrownError:Oe,isStopped:ve}=this;Q?W.error(Oe):ve&&W.complete()}asObservable(){const W=new d.y;return W.source=this,W}}return me.create=(G,W)=>new fe(G,W),me})();class fe extends _e{constructor(G,W){super(),this.destination=G,this.source=W}next(G){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===Q||Q.call(W,G)}error(G){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===Q||Q.call(W,G)}complete(){var G,W;null===(W=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===W||W.call(G)}_subscribe(G){var W,Q;return null!==(Q=null===(W=this.source)||void 0===W?void 0:W.subscribe(G))&&void 0!==Q?Q:$.Lc}}},930:(pt,Te,F)=>{F.d(Te,{Hp:()=>nt,Lv:()=>Q});var d=F(576),$=F(727),N=F(2416),ee=F(7849),de=F(5032);const ae=me("C",void 0,void 0);function me(xe,Re,De){return{kind:xe,value:Re,error:De}}var G=F(3410),W=F(2806);class Q extends $.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,$.Nn)(Re)&&Re.add(this)):this.destination=Me}static create(Re,De,Ge){return new nt(Re,De,Ge)}next(Re){this.isStopped?Ae(function fe(xe){return me("N",xe,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?Ae(function _e(xe){return me("E",void 0,xe)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?Ae(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function ve(xe,Re){return Oe.call(xe,Re)}class Be{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:De}=this;if(De.next)try{De.next(Re)}catch(Ge){ye(Ge)}}error(Re){const{partialObserver:De}=this;if(De.error)try{De.error(Re)}catch(Ge){ye(Ge)}else ye(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(De){ye(De)}}}class nt extends Q{constructor(Re,De,Ge){let J;if(super(),(0,d.m)(Re)||!Re)J={next:Re??void 0,error:De??void 0,complete:Ge??void 0};else{let se;this&&N.v.useDeprecatedNextContext?(se=Object.create(Re),se.unsubscribe=()=>this.unsubscribe(),J={next:Re.next&&ve(Re.next,se),error:Re.error&&ve(Re.error,se),complete:Re.complete&&ve(Re.complete,se)}):J=Re}this.destination=new Be(J)}}function ye(xe){N.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(xe):(0,ee.h)(xe)}function Ae(xe,Re){const{onStoppedNotification:De}=N.v;De&&G.z.setTimeout(()=>De(xe,Re))}const Me={closed:!0,next:de.Z,error:function be(xe){throw xe},complete:de.Z}},727:(pt,Te,F)=>{F.d(Te,{Lc:()=>ae,w0:()=>de,Nn:()=>_e});var d=F(576);const N=(0,F(3888).d)(me=>function(W){me(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((Q,Oe)=>`${Oe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var ee=F(8737);class de{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const ve of W)ve.remove(this);else W.remove(this);const{initialTeardown:Q}=this;if((0,d.m)(Q))try{Q()}catch(ve){G=ve instanceof N?ve.errors:[ve]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const ve of Oe)try{fe(ve)}catch(Be){G=G??[],Be instanceof N?G=[...G,...Be.errors]:G.push(Be)}}if(G)throw new N(G)}}add(G){var W;if(G&&G!==this)if(this.closed)fe(G);else{if(G instanceof de){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(G)}}_hasParent(G){const{_parentage:W}=this;return W===G||Array.isArray(W)&&W.includes(G)}_addParent(G){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(G),W):W?[W,G]:G}_removeParent(G){const{_parentage:W}=this;W===G?this._parentage=null:Array.isArray(W)&&(0,ee.P)(W,G)}remove(G){const{_finalizers:W}=this;W&&(0,ee.P)(W,G),G instanceof de&&G._removeParent(this)}}de.EMPTY=(()=>{const me=new de;return me.closed=!0,me})();const ae=de.EMPTY;function _e(me){return me instanceof de||me&&"closed"in me&&(0,d.m)(me.remove)&&(0,d.m)(me.add)&&(0,d.m)(me.unsubscribe)}function fe(me){(0,d.m)(me)?me():me.unsubscribe()}},2416:(pt,Te,F)=>{F.d(Te,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Te,F)=>{F.d(Te,{E:()=>$});const $=new(F(9751).y)(de=>de.complete())},8996:(pt,Te,F)=>{F.d(Te,{D:()=>Re});var d=F(8421),$=F(5363),N=F(9468),ae=F(9751),fe=F(2202),me=F(576),G=F(9672);function Q(De,Ge){if(!De)throw new Error("Iterable cannot be null");return new ae.y(J=>{(0,G.f)(J,Ge,()=>{const se=De[Symbol.asyncIterator]();(0,G.f)(J,Ge,()=>{se.next().then(Ee=>{Ee.done?J.complete():J.next(Ee.value)})},0,!0)})})}var Oe=F(3670),ve=F(8239),Be=F(1144),nt=F(6495),ye=F(2206),be=F(4532),Ae=F(3260);function Re(De,Ge){return Ge?function xe(De,Ge){if(null!=De){if((0,Oe.c)(De))return function ee(De,Ge){return(0,d.Xf)(De).pipe((0,N.R)(Ge),(0,$.Q)(Ge))}(De,Ge);if((0,Be.z)(De))return function _e(De,Ge){return new ae.y(J=>{let se=0;return Ge.schedule(function(){se===De.length?J.complete():(J.next(De[se++]),J.closed||this.schedule())})})}(De,Ge);if((0,ve.t)(De))return function de(De,Ge){return(0,d.Xf)(De).pipe((0,N.R)(Ge),(0,$.Q)(Ge))}(De,Ge);if((0,ye.D)(De))return Q(De,Ge);if((0,nt.T)(De))return function W(De,Ge){return new ae.y(J=>{let se;return(0,G.f)(J,Ge,()=>{se=De[fe.h](),(0,G.f)(J,Ge,()=>{let Ee,Xe;try{({value:Ee,done:Xe}=se.next())}catch(We){return void J.error(We)}Xe?J.complete():J.next(Ee)},0,!0)}),()=>(0,me.m)(se?.return)&&se.return()})}(De,Ge);if((0,Ae.L)(De))return function Me(De,Ge){return Q((0,Ae.Q)(De),Ge)}(De,Ge)}throw(0,be.z)(De)}(De,Ge):(0,d.Xf)(De)}},8421:(pt,Te,F)=>{F.d(Te,{Xf:()=>Oe});var d=F(7582),$=F(1144),N=F(8239),ee=F(9751),de=F(3670),ae=F(2206),_e=F(4532),fe=F(6495),me=F(3260),G=F(576),W=F(7849),Q=F(8822);function Oe(xe){if(xe instanceof ee.y)return xe;if(null!=xe){if((0,de.c)(xe))return function ve(xe){return new ee.y(Re=>{const De=xe[Q.L]();if((0,G.m)(De.subscribe))return De.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,$.z)(xe))return function Be(xe){return new ee.y(Re=>{for(let De=0;De<xe.length&&!Re.closed;De++)Re.next(xe[De]);Re.complete()})}(xe);if((0,N.t)(xe))return function nt(xe){return new ee.y(Re=>{xe.then(De=>{Re.closed||(Re.next(De),Re.complete())},De=>Re.error(De)).then(null,W.h)})}(xe);if((0,ae.D)(xe))return be(xe);if((0,fe.T)(xe))return function ye(xe){return new ee.y(Re=>{for(const De of xe)if(Re.next(De),Re.closed)return;Re.complete()})}(xe);if((0,me.L)(xe))return function Ae(xe){return be((0,me.Q)(xe))}(xe)}throw(0,_e.z)(xe)}function be(xe){return new ee.y(Re=>{(function Me(xe,Re){var De,Ge,J,se;return(0,d.mG)(this,void 0,void 0,function*(){try{for(De=(0,d.KL)(xe);!(Ge=yield De.next()).done;)if(Re.next(Ge.value),Re.closed)return}catch(Ee){J={error:Ee}}finally{try{Ge&&!Ge.done&&(se=De.return)&&(yield se.call(De))}finally{if(J)throw J.error}}Re.complete()})})(xe,Re).catch(De=>Re.error(De))})}},6451:(pt,Te,F)=>{F.d(Te,{T:()=>ae});var d=F(8189),$=F(8421),N=F(515),ee=F(7669),de=F(8996);function ae(..._e){const fe=(0,ee.yG)(_e),me=(0,ee._6)(_e,1/0),G=_e;return G.length?1===G.length?(0,$.Xf)(G[0]):(0,d.J)(me)((0,de.D)(G,fe)):N.E}},5403:(pt,Te,F)=>{F.d(Te,{Q:()=>N,x:()=>$});var d=F(930);function $(ee,de,ae,_e,fe){return new N(ee,de,ae,_e,fe)}class N extends d.Lv{constructor(de,ae,_e,fe,me,G){super(de),this.onFinalize=me,this.shouldUnsubscribe=G,this._next=ae?function(W){try{ae(W)}catch(Q){de.error(Q)}}:super._next,this._error=fe?function(W){try{fe(W)}catch(Q){de.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(W){de.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(pt,Te,F)=>{F.d(Te,{U:()=>N});var d=F(4482),$=F(5403);function N(ee,de){return(0,d.e)((ae,_e)=>{let fe=0;ae.subscribe((0,$.x)(_e,me=>{_e.next(ee.call(de,me,fe++))}))})}},8189:(pt,Te,F)=>{F.d(Te,{J:()=>N});var d=F(5577),$=F(4671);function N(ee=1/0){return(0,d.z)($.y,ee)}},5577:(pt,Te,F)=>{F.d(Te,{z:()=>fe});var d=F(4004),$=F(8421),N=F(4482),ee=F(9672),de=F(5403),_e=F(576);function fe(me,G,W=1/0){return(0,_e.m)(G)?fe((Q,Oe)=>(0,d.U)((ve,Be)=>G(Q,ve,Oe,Be))((0,$.Xf)(me(Q,Oe))),W):("number"==typeof G&&(W=G),(0,N.e)((Q,Oe)=>function ae(me,G,W,Q,Oe,ve,Be,nt){const ye=[];let be=0,Ae=0,Me=!1;const xe=()=>{Me&&!ye.length&&!be&&G.complete()},Re=Ge=>be<Q?De(Ge):ye.push(Ge),De=Ge=>{ve&&G.next(Ge),be++;let J=!1;(0,$.Xf)(W(Ge,Ae++)).subscribe((0,de.x)(G,se=>{Oe?.(se),ve?Re(se):G.next(se)},()=>{J=!0},void 0,()=>{if(J)try{for(be--;ye.length&&be<Q;){const se=ye.shift();Be?(0,ee.f)(G,Be,()=>De(se)):De(se)}xe()}catch(se){G.error(se)}}))};return me.subscribe((0,de.x)(G,Re,()=>{Me=!0,xe()})),()=>{nt?.()}}(Q,Oe,me,W)))}},5363:(pt,Te,F)=>{F.d(Te,{Q:()=>ee});var d=F(9672),$=F(4482),N=F(5403);function ee(de,ae=0){return(0,$.e)((_e,fe)=>{_e.subscribe((0,N.x)(fe,me=>(0,d.f)(fe,de,()=>fe.next(me),ae),()=>(0,d.f)(fe,de,()=>fe.complete(),ae),me=>(0,d.f)(fe,de,()=>fe.error(me),ae)))})}},3099:(pt,Te,F)=>{F.d(Te,{B:()=>de});var d=F(8421),$=F(7579),N=F(930),ee=F(4482);function de(_e={}){const{connector:fe=(()=>new $.x),resetOnError:me=!0,resetOnComplete:G=!0,resetOnRefCountZero:W=!0}=_e;return Q=>{let Oe,ve,Be,nt=0,ye=!1,be=!1;const Ae=()=>{ve?.unsubscribe(),ve=void 0},Me=()=>{Ae(),Oe=Be=void 0,ye=be=!1},xe=()=>{const Re=Oe;Me(),Re?.unsubscribe()};return(0,ee.e)((Re,De)=>{nt++,!be&&!ye&&Ae();const Ge=Be=Be??fe();De.add(()=>{nt--,0===nt&&!be&&!ye&&(ve=ae(xe,W))}),Ge.subscribe(De),!Oe&&nt>0&&(Oe=new N.Hp({next:J=>Ge.next(J),error:J=>{be=!0,Ae(),ve=ae(Me,me,J),Ge.error(J)},complete:()=>{ye=!0,Ae(),ve=ae(Me,G),Ge.complete()}}),(0,d.Xf)(Re).subscribe(Oe))})(Q)}}function ae(_e,fe,...me){if(!0===fe)return void _e();if(!1===fe)return;const G=new N.Hp({next:()=>{G.unsubscribe(),_e()}});return(0,d.Xf)(fe(...me)).subscribe(G)}},9468:(pt,Te,F)=>{F.d(Te,{R:()=>$});var d=F(4482);function $(N,ee=0){return(0,d.e)((de,ae)=>{ae.add(N.schedule(()=>de.subscribe(ae),ee))})}},8505:(pt,Te,F)=>{F.d(Te,{b:()=>de});var d=F(576),$=F(4482),N=F(5403),ee=F(4671);function de(ae,_e,fe){const me=(0,d.m)(ae)||_e||fe?{next:ae,error:_e,complete:fe}:ae;return me?(0,$.e)((G,W)=>{var Q;null===(Q=me.subscribe)||void 0===Q||Q.call(me);let Oe=!0;G.subscribe((0,N.x)(W,ve=>{var Be;null===(Be=me.next)||void 0===Be||Be.call(me,ve),W.next(ve)},()=>{var ve;Oe=!1,null===(ve=me.complete)||void 0===ve||ve.call(me),W.complete()},ve=>{var Be;Oe=!1,null===(Be=me.error)||void 0===Be||Be.call(me,ve),W.error(ve)},()=>{var ve,Be;Oe&&(null===(ve=me.unsubscribe)||void 0===ve||ve.call(me)),null===(Be=me.finalize)||void 0===Be||Be.call(me)}))}):ee.y}},4408:(pt,Te,F)=>{F.d(Te,{o:()=>de});var d=F(727);class $ extends d.w0{constructor(_e,fe){super()}schedule(_e,fe=0){return this}}const N={setInterval(ae,_e,...fe){const{delegate:me}=N;return me?.setInterval?me.setInterval(ae,_e,...fe):setInterval(ae,_e,...fe)},clearInterval(ae){const{delegate:_e}=N;return(_e?.clearInterval||clearInterval)(ae)},delegate:void 0};var ee=F(8737);class de extends ${constructor(_e,fe){super(_e,fe),this.scheduler=_e,this.work=fe,this.pending=!1}schedule(_e,fe=0){var me;if(this.closed)return this;this.state=_e;const G=this.id,W=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(W,G,fe)),this.pending=!0,this.delay=fe,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(W,this.id,fe),this}requestAsyncId(_e,fe,me=0){return N.setInterval(_e.flush.bind(_e,this),me)}recycleAsyncId(_e,fe,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return fe;null!=fe&&N.clearInterval(fe)}execute(_e,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(_e,fe);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,fe){let G,me=!1;try{this.work(_e)}catch(W){me=!0,G=W||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:_e,scheduler:fe}=this,{actions:me}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(me,this),null!=_e&&(this.id=this.recycleAsyncId(fe,_e,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,Te,F)=>{F.d(Te,{v:()=>N});var d=F(6063);class ${constructor(de,ae=$.now){this.schedulerActionCtor=de,this.now=ae}schedule(de,ae=0,_e){return new this.schedulerActionCtor(this,de).schedule(_e,ae)}}$.now=d.l.now;class N extends ${constructor(de,ae=$.now){super(de,ae),this.actions=[],this._active=!1}flush(de){const{actions:ae}=this;if(this._active)return void ae.push(de);let _e;this._active=!0;do{if(_e=de.execute(de.state,de.delay))break}while(de=ae.shift());if(this._active=!1,_e){for(;de=ae.shift();)de.unsubscribe();throw _e}}}},4986:(pt,Te,F)=>{F.d(Te,{z:()=>N});var d=F(4408);const N=new(F(7565).v)(d.o)},6063:(pt,Te,F)=>{F.d(Te,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(pt,Te,F)=>{F.d(Te,{z:()=>d});const d={setTimeout($,N,...ee){const{delegate:de}=d;return de?.setTimeout?de.setTimeout($,N,...ee):setTimeout($,N,...ee)},clearTimeout($){const{delegate:N}=d;return(N?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(pt,Te,F)=>{F.d(Te,{h:()=>$});const $=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Te,F)=>{F.d(Te,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(pt,Te,F)=>{F.d(Te,{_6:()=>ae,jO:()=>ee,yG:()=>de});var d=F(576);function N(_e){return _e[_e.length-1]}function ee(_e){return(0,d.m)(N(_e))?_e.pop():void 0}function de(_e){return function $(_e){return _e&&(0,d.m)(_e.schedule)}(N(_e))?_e.pop():void 0}function ae(_e,fe){return"number"==typeof N(_e)?_e.pop():fe}},8737:(pt,Te,F)=>{function d($,N){if($){const ee=$.indexOf(N);0<=ee&&$.splice(ee,1)}}F.d(Te,{P:()=>d})},3888:(pt,Te,F)=>{function d($){const ee=$(de=>{Error.call(de),de.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}F.d(Te,{d:()=>d})},2806:(pt,Te,F)=>{F.d(Te,{O:()=>ee,x:()=>N});var d=F(2416);let $=null;function N(de){if(d.v.useDeprecatedSynchronousErrorHandling){const ae=!$;if(ae&&($={errorThrown:!1,error:null}),de(),ae){const{errorThrown:_e,error:fe}=$;if($=null,_e)throw fe}}else de()}function ee(de){d.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=de)}},9672:(pt,Te,F)=>{function d($,N,ee,de=0,ae=!1){const _e=N.schedule(function(){ee(),ae?$.add(this.schedule(null,de)):this.unsubscribe()},de);if($.add(_e),!ae)return _e}F.d(Te,{f:()=>d})},4671:(pt,Te,F)=>{function d($){return $}F.d(Te,{y:()=>d})},1144:(pt,Te,F)=>{F.d(Te,{z:()=>d});const d=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(pt,Te,F)=>{F.d(Te,{D:()=>$});var d=F(576);function $(N){return Symbol.asyncIterator&&(0,d.m)(N?.[Symbol.asyncIterator])}},576:(pt,Te,F)=>{function d($){return"function"==typeof $}F.d(Te,{m:()=>d})},3670:(pt,Te,F)=>{F.d(Te,{c:()=>N});var d=F(8822),$=F(576);function N(ee){return(0,$.m)(ee[d.L])}},6495:(pt,Te,F)=>{F.d(Te,{T:()=>N});var d=F(2202),$=F(576);function N(ee){return(0,$.m)(ee?.[d.h])}},8239:(pt,Te,F)=>{F.d(Te,{t:()=>$});var d=F(576);function $(N){return(0,d.m)(N?.then)}},3260:(pt,Te,F)=>{F.d(Te,{L:()=>ee,Q:()=>N});var d=F(7582),$=F(576);function N(de){return(0,d.FC)(this,arguments,function*(){const _e=de.getReader();try{for(;;){const{value:fe,done:me}=yield(0,d.qq)(_e.read());if(me)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(fe)}}finally{_e.releaseLock()}})}function ee(de){return(0,$.m)(de?.getReader)}},4482:(pt,Te,F)=>{F.d(Te,{A:()=>$,e:()=>N});var d=F(576);function $(ee){return(0,d.m)(ee?.lift)}function N(ee){return de=>{if($(de))return de.lift(function(ae){try{return ee(ae,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(pt,Te,F)=>{function d(){}F.d(Te,{Z:()=>d})},9635:(pt,Te,F)=>{F.d(Te,{U:()=>N,z:()=>$});var d=F(4671);function $(...ee){return N(ee)}function N(ee){return 0===ee.length?d.y:1===ee.length?ee[0]:function(ae){return ee.reduce((_e,fe)=>fe(_e),ae)}}},7849:(pt,Te,F)=>{F.d(Te,{h:()=>N});var d=F(2416),$=F(3410);function N(ee){$.z.setTimeout(()=>{const{onUnhandledError:de}=d.v;if(!de)throw ee;de(ee)})}},4532:(pt,Te,F)=>{function d($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Te,{z:()=>d})},4650:(pt,Te,F)=>{F.d(Te,{$8M:()=>_l,$WT:()=>On,AFp:()=>YC,AaK:()=>fe,BQk:()=>dc,CHM:()=>Dm,CRH:()=>kC,CZH:()=>Sh,CqO:()=>Wp,D6c:()=>Fc,EJc:()=>Ha,EpF:()=>hc,F4k:()=>Gp,FYo:()=>gp,FiY:()=>Da,GfV:()=>m_,Gpc:()=>W,JOm:()=>Ms,KtG:()=>Tm,LFG:()=>Ve,LSH:()=>a_,Lbi:()=>Gy,Lck:()=>hC,MAs:()=>uh,MGl:()=>fc,MMx:()=>Dy,MR2:()=>_w,NdJ:()=>J_,O4$:()=>wd,OlP:()=>Bn,P3R:()=>ID,Q6J:()=>jp,QGY:()=>Q_,Qsj:()=>ea,R0b:()=>hs,RDi:()=>cP,RIp:()=>c_,Rgc:()=>Tc,SBq:()=>$u,Sil:()=>QS,Suo:()=>Py,TTD:()=>_a,TgZ:()=>$p,X6Q:()=>ov,XFs:()=>ot,Xpm:()=>Dn,Xts:()=>Ll,Y36:()=>ta,YKP:()=>Cy,YNc:()=>cc,Yjl:()=>He,Yz7:()=>je,Z0I:()=>zt,ZZ4:()=>su,_Bn:()=>Ey,_UZ:()=>zp,_Vd:()=>nh,_uU:()=>kE,aQg:()=>pv,c2e:()=>Ah,cJS:()=>_t,cg1:()=>jE,dDg:()=>JS,dqk:()=>bt,eJc:()=>Ny,ekj:()=>fh,eoX:()=>sI,f3M:()=>rt,g9A:()=>Ig,h0i:()=>Jl,hij:()=>ng,iGM:()=>Ac,iPO:()=>Mg,ifc:()=>D,ip1:()=>ZC,jDz:()=>gC,kL8:()=>tS,kcU:()=>km,lG2:()=>we,lqb:()=>wo,lri:()=>rI,n5z:()=>bu,oAB:()=>ao,oxw:()=>vE,q4F:()=>Dw,qLn:()=>Gu,qOj:()=>uE,qZA:()=>Hp,rWj:()=>iI,sBO:()=>oA,s_b:()=>Js,soG:()=>oa,uIk:()=>oh,vHH:()=>ye,vpe:()=>Qs,vpz:()=>HT,wAp:()=>Nt,xp6:()=>Nw,ynx:()=>ch,zSh:()=>fp,zs3:()=>jl});var d=F(7579),$=F(727),N=F(9751),ee=F(6451),de=F(3099);function ae(s){for(let o in s)if(s[o]===ae)return o;throw Error("Could not find renamed property on target object.")}function _e(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function me(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=ae({__forward_ref__:ae});function W(s){return s.__forward_ref__=W,s.toString=function(){return fe(this())},s}function Q(s){return Oe(s)?s():s}function Oe(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===W}function ve(s){return s&&!!s.\u0275providers}const nt="https://g.co/ng/security#xss";class ye extends Error{constructor(o,l){super(be(o,l)),this.code=o}}function be(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function Ae(s){return"string"==typeof s?s:null==s?"":String(s)}function Me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ae(s)}function Ge(s,o){throw new ye(-201,!1)}function le(s,o){null==s&&function ie(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function je(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function _t(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ht(s){return Kt(s,wn)||Kt(s,pn)}function zt(s){return null!==Ht(s)}function Kt(s,o){return s.hasOwnProperty(o)?s[o]:null}function vn(s){return s&&(s.hasOwnProperty($n)||s.hasOwnProperty(bn))?s[$n]:null}const wn=ae({\u0275prov:ae}),$n=ae({\u0275inj:ae}),pn=ae({ngInjectableDef:ae}),bn=ae({ngInjectorDef:ae});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let Jn;function Wn(s){const o=Jn;return Jn=s,o}function qn(s,o,l){const c=Ht(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&ot.Optional?null:void 0!==o?o:void Ge(fe(s))}const bt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ln={},_n="__NG_DI_FLAG__",zn="ngTempTokenPath",Xn="ngTokenPath",Sr=/\n/gm,Rt="\u0275",_r="__source";let Vt;function yr(s){const o=Vt;return Vt=s,o}function Ln(s,o=ot.Default){if(void 0===Vt)throw new ye(-203,!1);return null===Vt?qn(s,void 0,o):Vt.get(s,o&ot.Optional?null:void 0,o)}function Ve(s,o=ot.Default){return(function ur(){return Jn}()||Ln)(Q(s),o)}function rt(s,o=ot.Default){return Ve(s,yt(o))}function yt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function At(s){const o=[];for(let l=0;l<s.length;l++){const c=Q(s[l]);if(Array.isArray(c)){if(0===c.length)throw new ye(900,!1);let h,p=ot.Default;for(let y=0;y<c.length;y++){const C=c[y],I=Vn(C);"number"==typeof I?-1===I?h=C.token:p|=I:h=C}o.push(Ve(h,p))}else o.push(Ve(c))}return o}function Gt(s,o){return s[_n]=o,s.prototype[_n]=o,s}function Vn(s){return s[_n]}function P(s){return{toString:s}.toString()}var A=(()=>((A=A||{})[A.OnPush=0]="OnPush",A[A.Default=1]="Default",A))(),D=(()=>{return(s=D||(D={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",D;var s})();const j={},K=[],ge=ae({\u0275cmp:ae}),$e=ae({\u0275dir:ae}),Ye=ae({\u0275pipe:ae}),dt=ae({\u0275mod:ae}),et=ae({\u0275fac:ae}),kt=ae({__NG_ELEMENT_ID__:ae});let Dt=0;function Dn(s){return P(()=>{const o=Ai(s),l={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===A.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||D.Emulated,id:"c"+Dt++,styles:s.styles||K,_:null,schemas:s.schemas||null,tView:null};Pr(l);const c=s.dependencies;return l.directiveDefs=ji(c,!1),l.pipeDefs=ji(c,!0),l})}function zr(s){return Qe(s)||Zt(s)}function Po(s){return null!==s}function ao(s){return P(()=>({type:s.type,bootstrap:s.bootstrap||K,declarations:s.declarations||K,imports:s.imports||K,exports:s.exports||K,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function X(s,o){if(null==s)return j;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=c,o&&(o[h]=p)}return l}function we(s){return P(()=>{const o=Ai(s);return Pr(o),o})}function He(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Qe(s){return s[ge]||null}function Zt(s){return s[$e]||null}function $t(s){return s[Ye]||null}function On(s){const o=Qe(s)||Zt(s)||$t(s);return null!==o&&o.standalone}function En(s,o){const l=s[dt]||null;if(!l&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return l}function Ai(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||K,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:X(s.inputs,o),outputs:X(s.outputs)}}function Pr(s){s.features?.forEach(o=>o(s))}function ji(s,o){if(!s)return null;const l=o?$t:zr;return()=>("function"==typeof s?s():s).map(c=>l(c)).filter(Po)}const $i=0,it=1,Yt=2,xn=3,Gr=4,Hi=5,sr=6,is=7,Kn=8,ss=9,lo=10,Ut=11,Ls=12,os=13,pa=14,_s=15,Wr=16,zi=17,Gi=18,vr=19,uo=20,ld=21,Bt=22,Vs=1,fu=2,ys=7,ga=8,Us=9,Xr=10;function ei(s){return Array.isArray(s)&&"object"==typeof s[Vs]}function Or(s){return Array.isArray(s)&&!0===s[Vs]}function tl(s){return 0!=(4&s.flags)}function Oo(s){return s.componentOffset>-1}function vs(s){return 1==(1&s.flags)}function Wi(s){return!!s.template}function nl(s){return 0!=(256&s[Yt])}function Mi(s,o){return s.hasOwnProperty(et)?s[et]:null}class sl{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function _a(){return ol}function ol(s){return s.type.prototype.ngOnChanges&&(s.setInput=al),xi}function xi(){const s=ya(this),o=s?.current;if(o){const l=s.previous;if(l===j)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function al(s,o,l,c){const h=this.declaredInputs[l],p=ya(s)||function pf(s,o){return s[Es]=o}(s,{previous:j,current:null}),y=p.current||(p.current={}),C=p.previous,I=C[h];y[h]=new sl(I&&I.currentValue,o,C===j),s[c]=o}_a.ngInherit=!0;const Es="__ngSimpleChanges__";function ya(s){return s[Es]||null}const ni=function(s,o,l){},ul="svg";function O(s){for(;Array.isArray(s);)s=s[$i];return s}function ue(s,o){return O(o[s])}function Ne(s,o){return O(o[s.index])}function Tt(s,o){return s.data[o]}function dn(s,o){const l=o[s];return ei(l)?l:l[$i]}function yn(s){return 64==(64&s[Yt])}function Nr(s,o){return null==o?null:s[o]}function as(s){s[Gi]=0}function Is(s,o){s[Hi]+=o;let l=s,c=s[xn];for(;null!==c&&(1===o&&1===l[Hi]||-1===o&&0===l[Hi]);)c[Hi]+=o,l=c,c=c[xn]}const Ft={lFrame:Pm(null),bindingsEnabled:!0};function bm(){return Ft.bindingsEnabled}function ke(){return Ft.lFrame.lView}function fn(){return Ft.lFrame.tView}function Dm(s){return Ft.lFrame.contextLView=s,s[Kn]}function Tm(s){return Ft.lFrame.contextLView=null,s}function kr(){let s=Sm();for(;null!==s&&64===s.type;)s=s.parent;return s}function Sm(){return Ft.lFrame.currentTNode}function $s(s,o){const l=Ft.lFrame;l.currentTNode=s,l.isParent=o}function yu(){return Ft.lFrame.isParent}function gf(){Ft.lFrame.isParent=!1}function Vo(){return Ft.lFrame.bindingIndex++}function bs(s){const o=Ft.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function yf(s,o){const l=Ft.lFrame;l.bindingIndex=l.bindingRootIndex=s,Hs(o)}function Hs(s){Ft.lFrame.currentDirectiveIndex=s}function xm(){return Ft.lFrame.currentQueryIndex}function vf(s){Ft.lFrame.currentQueryIndex=s}function F0(s){const o=s[it];return 2===o.type?o.declTNode:1===o.type?s[sr]:null}function Rm(s,o,l){if(l&ot.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||l&ot.Host||(h=F0(p),null===h||(p=p[_s],10&h.type))););if(null===h)return!1;o=h,s=p}const c=Ft.lFrame=L0();return c.currentTNode=o,c.lView=s,!0}function wf(s){const o=L0(),l=s[it];Ft.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function L0(){const s=Ft.lFrame,o=null===s?null:s.child;return null===o?Pm(s):o}function Pm(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Om(){const s=Ft.lFrame;return Ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Nm=Om;function Ef(){const s=Om();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function _i(){return Ft.lFrame.selectedIndex}function co(s){Ft.lFrame.selectedIndex=s}function Nn(){const s=Ft.lFrame;return Tt(s.tView,s.selectedIndex)}function wd(){Ft.lFrame.currentNamespace=ul}function km(){!function B0(){Ft.lFrame.currentNamespace=null}()}function Ed(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:T,ngOnDestroy:x}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),I&&(s.viewHooks||(s.viewHooks=[])).push(-l,I),T&&((s.viewHooks||(s.viewHooks=[])).push(l,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,T)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(l,x)}}function cl(s,o,l){gt(s,o,3,l)}function Ki(s,o,l,c){(3&s[Yt])===l&&gt(s,o,l,c)}function dr(s,o){let l=s[Yt];(3&l)===o&&(l&=2047,l+=1,s[Yt]=l)}function gt(s,o,l,c){const p=c??-1,y=o.length-1;let C=0;for(let I=void 0!==c?65535&s[Gi]:0;I<y;I++)if("number"==typeof o[I+1]){if(C=o[I],null!=c&&C>=c)break}else o[I]<0&&(s[Gi]+=65536),(C<p||-1==p)&&(Pi(s,l,o,I),s[Gi]=(4294901760&s[Gi])+I+2),I++}function Pi(s,o,l,c){const h=l[c]<0,p=l[c+1],C=s[h?-l[c]:l[c]];if(h){if(s[Yt]>>11<s[Gi]>>16&&(3&s[Yt])===o){s[Yt]+=2048,ni(4,C,p);try{p.call(C)}finally{ni(5,C,p)}}}else{ni(4,C,p);try{p.call(C)}finally{ni(5,C,p)}}}const wr=-1;class Uo{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function If(s,o,l){let c=0;for(;c<l.length;){const h=l[c];if("number"==typeof h){if(0!==h)break;c++;const p=l[c++],y=l[c++],C=l[c++];s.setAttribute(o,y,C,p)}else{const p=h,y=l[++c];bf(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),c++}}return c}function Er(s){return 3===s||4===s||6===s}function bf(s){return 64===s.charCodeAt(0)}function $o(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?l=h:0===l||Df(s,l,h,null,-1===l||2===l?o[++c]:null)}}return s}function Df(s,o,l,c,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const C=s[p++];if("number"==typeof C){if(C===o){y=-1;break}if(C>o){y=p-1;break}}}for(;p<s.length;){const C=s[p];if("number"==typeof C)break;if(C===l){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,l),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function dl(s){return s!==wr}function Ho(s){return 32767&s}function Cu(s,o){let l=function ho(s){return s>>16}(s),c=o;for(;l>0;)c=c[_s],l--;return c}let Cd=!0;function zo(s){const o=Cd;return Cd=s,o}const Go=255,va=5;let Fm=0;const ii={};function fo(s,o){const l=Wo(s,o);if(-1!==l)return l;const c=o[it];c.firstCreatePass&&(s.injectorIndex=o.length,hl(c.data,s),hl(o,null),hl(c.blueprint,null));const h=fl(s,o),p=s.injectorIndex;if(dl(h)){const y=Ho(h),C=Cu(h,o),I=C[it].data;for(let T=0;T<8;T++)o[p+T]=C[y+T]|I[y+T]}return o[p+8]=h,p}function hl(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Wo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function fl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=o;for(;null!==h;){if(c=Dd(h),null===c)return wr;if(l++,h=h[_s],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return wr}function pl(s,o,l){!function hr(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(kt)&&(c=l[kt]),null==c&&(c=l[kt]=Fm++);const h=c&Go;o.data[s+(h>>va)]|=1<<h}(s,o,l)}function Sf(s,o,l){if(l&ot.Optional||void 0!==s)return s;Ge()}function Id(s,o,l,c){if(l&ot.Optional&&void 0===c&&(c=null),!(l&(ot.Self|ot.Host))){const h=s[ss],p=Wn(void 0);try{return h?h.get(o,c,l&ot.Optional):qn(o,c,l&ot.Optional)}finally{Wn(p)}}return Sf(c,0,l)}function Af(s,o,l,c=ot.Default,h){if(null!==s){if(1024&o[Yt]){const y=function Vm(s,o,l,c,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[Yt]&&!(256&y[Yt]);){const C=Mf(p,y,l,c|ot.Self,ii);if(C!==ii)return C;let I=p.parent;if(!I){const T=y[ld];if(T){const x=T.get(l,ii,c);if(x!==ii)return x}I=Dd(y),y=y[_s]}p=I}return h}(s,o,l,c,ii);if(y!==ii)return y}const p=Mf(s,o,l,c,ii);if(p!==ii)return p}return Id(o,l,c,h)}function Mf(s,o,l,c,h){const p=function $0(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(kt)?s[kt]:void 0;return"number"==typeof o?o>=0?o&Go:H0:o}(l);if("function"==typeof p){if(!Rm(o,s,c))return c&ot.Host?Sf(h,0,c):Id(o,l,c,h);try{const y=p(c);if(null!=y||c&ot.Optional)return y;Ge()}finally{Nm()}}else if("number"==typeof p){let y=null,C=Wo(s,o),I=wr,T=c&ot.Host?o[Wr][sr]:null;for((-1===C||c&ot.SkipSelf)&&(I=-1===C?fl(s,o):o[C+8],I!==wr&&Rf(c,!1)?(y=o[it],C=Ho(I),o=Cu(I,o)):C=-1);-1!==C;){const x=o[it];if(xf(p,C,x.data)){const U=gl(C,o,l,y,c,T);if(U!==ii)return U}I=o[C+8],I!==wr&&Rf(c,o[it].data[C+8]===T)&&xf(p,C,o)?(y=x,C=Ho(I),o=Cu(I,o)):C=-1}}return h}function gl(s,o,l,c,h,p){const y=o[it],C=y.data[s+8],x=Iu(C,y,l,null==c?Oo(C)&&Cd:c!=y&&0!=(3&C.type),h&ot.Host&&p===C);return null!==x?Ds(o,y,x,C):ii}function Iu(s,o,l,c,h){const p=s.providerIndexes,y=o.data,C=1048575&p,I=s.directiveStart,x=p>>20,Y=h?C+x:s.directiveEnd;for(let ne=c?C:C+x;ne<Y;ne++){const Ce=y[ne];if(ne<I&&l===Ce||ne>=I&&Ce.type===l)return ne}if(h){const ne=y[I];if(ne&&Wi(ne)&&ne.type===l)return I}return null}function Ds(s,o,l,c){let h=s[l];const p=o.data;if(function Bo(s){return s instanceof Uo}(h)){const y=h;y.resolving&&function xe(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ye(-200,`Circular dependency in DI detected for ${s}${l}`)}(Me(p[l]));const C=zo(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Wn(y.injectImpl):null;Rm(s,c,ot.Default);try{h=s[l]=y.factory(void 0,p,s,c),o.firstCreatePass&&l>=c.directiveStart&&function j0(s,o,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const y=ol(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==I&&Wn(I),zo(C),y.resolving=!1,Nm()}}return h}function xf(s,o,l){return!!(l[o+(s>>va)]&1<<s)}function Rf(s,o){return!(s&ot.Self||s&ot.Host&&o)}class ml{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return Af(this._tNode,this._lView,o,yt(c),l)}}function H0(){return new ml(kr(),ke())}function bu(s){return P(()=>{const o=s.prototype.constructor,l=o[et]||bd(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[et]||bd(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function bd(s){return Oe(s)?()=>{const o=bd(Q(s));return o&&o()}:Mi(s)}function Dd(s){const o=s[it],l=o.type;return 2===l?o.declTNode:1===l?s[sr]:null}function _l(s){return function Lm(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const p=l[h];if(Er(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(p===o)return l[h+1];h+=2}}}return null}(kr(),s)}const wa="__parameters__";function qo(s,o,l){return P(()=>{const c=function vl(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const y=new h(...p);return C.annotation=y,C;function C(I,T,x){const U=I.hasOwnProperty(wa)?I[wa]:Object.defineProperty(I,wa,{value:[]})[wa];for(;U.length<=x;)U.push(null);return(U[x]=U[x]||[]).push(y),I}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Bn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=je({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ca(s,o){s.forEach(l=>Array.isArray(l)?Ca(l,o):o(l))}function jm(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function El(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function br(s,o,l){let c=po(s,o);return c>=0?s[1|c]=l:(c=~c,function us(s,o,l,c){let h=s.length;if(h==o)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function Du(s,o){const l=po(s,o);if(l>=0)return s[1|l]}function po(s,o){return function Ff(s,o,l){let c=0,h=s.length>>l;for(;h!==c;){const p=c+(h-c>>1),y=s[p<<l];if(o===y)return p<<l;y>o?h=p:c=p+1}return~(h<<l)}(s,o,1)}const Da=Gt(qo("Optional"),8),Su=Gt(qo("SkipSelf"),4);var Ms=(()=>((Ms=Ms||{})[Ms.Important=1]="Important",Ms[Ms.DashCase=2]="DashCase",Ms))();const Vd=new Map;let Ud=0;const Ym="__ngContext__";function Fr(s,o){ei(o)?(s[Ym]=o[uo],function jd(s){Vd.set(s[uo],s)}(o)):s[Ym]=o}let qd;function w(s,o){return qd(s,o)}function _(s){const o=s[xn];return Or(o)?o[xn]:o}function k(s){return Pe(s[os])}function te(s){return Pe(s[Gr])}function Pe(s){for(;null!==s&&!Or(s);)s=s[Gr];return s}function at(s,o,l,c,h){if(null!=c){let p,y=!1;Or(c)?p=c:ei(c)&&(y=!0,c=c[$i]);const C=O(c);0===s&&null!==l?null==h?lD(o,l,C):Pl(o,l,C,h||null,!0):1===s&&null!==l?Pl(o,l,C,h||null,!0):2===s?function rp(s,o,l){const c=e_(s,o);c&&function uD(s,o,l,c){s.removeChild(o,l,c)}(s,c,o,l)}(o,C,y):3===s&&o.destroyNode(C),null!=p&&function iP(s,o,l,c,h){const p=l[ys];p!==O(l)&&at(o,s,c,p,h);for(let C=Xr;C<l.length;C++){const I=l[C];ip(I[it],I,s,o,c,p)}}(o,s,p,l,h)}}function vi(s,o,l){return s.createElement(o,l)}function Rl(s,o){const l=s[Us],c=l.indexOf(o),h=o[xn];512&o[Yt]&&(o[Yt]&=-513,Is(h,-1)),l.splice(c,1)}function Nu(s,o){if(s.length<=Xr)return;const l=Xr+o,c=s[l];if(c){const h=c[zi];null!==h&&h!==s&&Rl(h,c),o>0&&(s[l-1][Gr]=c[Gr]);const p=El(s,Xr+o);!function Gs(s,o){ip(s,o,o[Ut],2,null,null),o[$i]=null,o[sr]=null}(c[it],c);const y=p[vr];null!==y&&y.detachView(p[it]),c[xn]=null,c[Gr]=null,c[Yt]&=-65}return c}function ep(s,o){if(!(128&o[Yt])){const l=o[Ut];l.destroyNode&&ip(s,o,l,3,null,null),function Zd(s){let o=s[os];if(!o)return xa(s[it],s);for(;o;){let l=null;if(ei(o))l=o[os];else{const c=o[Xr];c&&(l=c)}if(!l){for(;o&&!o[Gr]&&o!==s;)ei(o)&&xa(o[it],o),o=o[xn];null===o&&(o=s),ei(o)&&xa(o[it],o),l=o&&o[Gr]}o=l}}(o)}}function xa(s,o){if(!(128&o[Yt])){o[Yt]&=-65,o[Yt]|=128,function Xm(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=o[l[c]];if(!(h instanceof Uo)){const p=l[c+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const C=h[p[y]],I=p[y+1];ni(4,C,I);try{I.call(C)}finally{ni(5,C,I)}}else{ni(4,h,p);try{p.call(h)}finally{ni(5,h,p)}}}}}(s,o),function Jm(s,o){const l=s.cleanup,c=o[is];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+3];y>=0?c[h=y]():c[h=-y].unsubscribe(),p+=2}else{const y=c[h=l[p+1]];l[p].call(y)}if(null!==c){for(let p=h+1;p<c.length;p++)(0,c[p])();o[is]=null}}(s,o),1===o[it].type&&o[Ut].destroy();const l=o[zi];if(null!==l&&Or(o[xn])){l!==o[xn]&&Rl(l,o);const c=o[vr];null!==c&&c.detachView(s)}!function Zm(s){Vd.delete(s[uo])}(o)}}function ku(s,o,l){return function tp(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[$i];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:p}=s.data[c.directiveStart+h];if(p===D.None||p===D.Emulated)return null}return Ne(c,l)}}(s,o.parent,l)}function Pl(s,o,l,c,h){s.insertBefore(o,l,c,h)}function lD(s,o,l){s.appendChild(o,l)}function K0(s,o,l,c,h){null!==c?Pl(s,o,l,c,h):lD(s,o,l)}function e_(s,o){return s.parentNode(o)}let Yd,tw,n_,Y0=function cD(s,o,l){return 40&s.type?Ne(s,l):null};function Ws(s,o,l,c){const h=ku(s,c,o),p=o[Ut],C=function Z0(s,o,l){return Y0(s,o,l)}(c.parent||o[sr],c,o);if(null!=h)if(Array.isArray(l))for(let I=0;I<l.length;I++)K0(p,h,l[I],C,!1);else K0(p,h,l,C,!1);void 0!==Yd&&Yd(p,c,o,l,h)}function np(s,o){if(null!==o){const l=o.type;if(3&l)return Ne(o,s);if(4&l)return Qd(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return np(s,c);{const h=s[o.index];return Or(h)?Qd(-1,h):O(h)}}if(32&l)return w(o,s)()||O(s[o.index]);{const c=Q0(s,o);return null!==c?Array.isArray(c)?c[0]:np(_(s[Wr]),c):np(s,o.next)}}return null}function Q0(s,o){return null!==o?s[Wr][sr].projection[o.projection]:null}function Qd(s,o){const l=Xr+s+1;if(l<o.length){const c=o[l],h=c[it].firstChild;if(null!==h)return np(c,h)}return o[ys]}function J0(s,o,l,c,h,p,y){for(;null!=l;){const C=c[l.index],I=l.type;if(y&&0===o&&(C&&Fr(O(C),c),l.flags|=2),32!=(32&l.flags))if(8&I)J0(s,o,l.child,c,h,p,!1),at(o,s,h,C,p);else if(32&I){const T=w(l,c);let x;for(;x=T();)at(o,s,h,x,p);at(o,s,h,C,p)}else 16&I?X0(s,o,c,l,h,p):at(o,s,h,C,p);l=y?l.projectionNext:l.next}}function ip(s,o,l,c,h,p){J0(l,c,s.firstChild,o,h,p,!1)}function X0(s,o,l,c,h,p){const y=l[Wr],I=y[sr].projection[c.projection];if(Array.isArray(I))for(let T=0;T<I.length;T++)at(o,s,h,I[T],p);else J0(s,o,I,y[xn],h,p,!0)}function dD(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function hD(s,o,l){const{mergedAttrs:c,classes:h,styles:p}=l;null!==c&&If(s,o,c),null!==h&&dD(s,o,h),null!==p&&function oP(s,o,l){s.setAttribute(o,"style",l)}(s,o,p)}function cP(s){tw=s}function Ol(s){return function Qt(){if(void 0===n_&&(n_=null,bt.trustedTypes))try{n_=bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return n_}()?.createScriptURL(s)||s}class iw{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nt})`}}function Nl(s){return s instanceof iw?s.changingThisBreaksApplicationSecurity:s}function Ar(s,o){const l=function Ra(s){return s instanceof iw&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${nt})`)}return l===o}const op=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Lr=(()=>((Lr=Lr||{})[Lr.NONE=0]="NONE",Lr[Lr.HTML=1]="HTML",Lr[Lr.STYLE=2]="STYLE",Lr[Lr.SCRIPT=3]="SCRIPT",Lr[Lr.URL=4]="URL",Lr[Lr.RESOURCE_URL=5]="RESOURCE_URL",Lr))();function a_(s){const o=Xd();return o?o.sanitize(Lr.URL,s)||"":Ar(s,"URL")?Nl(s):function yo(s){return(s=String(s)).match(op)?s:"unsafe:"+s}(Ae(s))}function cp(s){const o=Xd();if(o)return Ol(o.sanitize(Lr.RESOURCE_URL,s)||"");if(Ar(s,"ResourceURL"))return Ol(Nl(s));throw new ye(904,!1)}function ID(s,o,l){return function l_(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?cp:a_}(o,l)(s)}function Xd(){const s=ke();return s&&s[Ls]}const Ll=new Bn("ENVIRONMENT_INITIALIZER"),Uu=new Bn("INJECTOR",-1),Vl=new Bn("INJECTOR_DEF_TYPES");class u_{get(o,l=ln){if(l===ln){const c=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw c.name="NullInjectorError",c}return l}}function _w(s){return{\u0275providers:s}}function c_(...s){return{\u0275providers:Ul(0,s),\u0275fromNgModule:!0}}function Ul(s,...o){const l=[],c=new Set;let h;return Ca(o,p=>{const y=p;d_(y,l,[],c)&&(h||(h=[]),h.push(y))}),void 0!==h&&yw(h,l),l}function yw(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];h_(h,p=>{o.push(p)})}}function d_(s,o,l,c){if(!(s=Q(s)))return!1;let h=null,p=vn(s);const y=!p&&Qe(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const I=s.ngModule;if(p=vn(I),!p)return!1;h=I}const C=c.has(h);if(y){if(C)return!1;if(c.add(h),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const T of I)d_(T,o,l,c)}}else{if(!p)return!1;{if(null!=p.imports&&!C){let T;c.add(h);try{Ca(p.imports,x=>{d_(x,o,l,c)&&(T||(T=[]),T.push(x))})}finally{}void 0!==T&&yw(T,o)}if(!C){const T=Mi(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:K},{provide:Vl,useValue:h,multi:!0},{provide:Ll,useValue:()=>Ve(h),multi:!0})}const I=p.providers;null==I||C||h_(I,x=>{o.push(x)})}}return h!==s&&void 0!==s.providers}function h_(s,o){for(let l of s)ve(l)&&(l=l.\u0275providers),Array.isArray(l)?h_(l,o):o(l)}const f_=ae({provide:String,useValue:ae});function Oa(s){return null!==s&&"object"==typeof s&&f_ in s}function Bl(s){return"function"==typeof s}const fp=new Bn("Set Injector scope."),Na={},vo={};let pp;function ka(){return void 0===pp&&(pp=new u_),pp}class wo{}class eh extends wo{get destroyed(){return this._destroyed}constructor(o,l,c,h){super(),this.parent=l,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,p_(o,y=>this.processProvider(y)),this.records.set(Uu,Bu(void 0,this)),h.has("environment")&&this.records.set(wo,Bu(void 0,this));const p=this.records.get(fp);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Vl.multi,K,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=yr(this),c=Wn(void 0);try{return o()}finally{yr(l),Wn(c)}}get(o,l=ln,c=ot.Default){this.assertNotDestroyed(),c=yt(c);const h=yr(this),p=Wn(void 0);try{if(!(c&ot.SkipSelf)){let C=this.records.get(o);if(void 0===C){const I=function RD(s){return"function"==typeof s||"object"==typeof s&&s instanceof Bn}(o)&&Ht(o);C=I&&this.injectableDefInScope(I)?Bu(th(o),Na):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(c&ot.Self?ka():this.parent).get(o,l=c&ot.Optional&&l===ln?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[zn]=y[zn]||[]).unshift(fe(o)),h)throw y;return function z(s,o,l,c){const h=s[zn];throw o[_r]&&h.unshift(o[_r]),s.message=function H(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Rt?s.slice(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let C=o[y];p.push(y+":"+("string"==typeof C?JSON.stringify(C):fe(C)))}h=`{${p.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(Sr,"\n  ")}`}("\n"+s.message,h,l,c),s[Xn]=h,s[zn]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Wn(p),yr(h)}}resolveInjectorInitializers(){const o=yr(this),l=Wn(void 0);try{const c=this.get(Ll.multi,K,ot.Self);for(const h of c)h()}finally{yr(o),Wn(l)}}toString(){const o=[],l=this.records;for(const c of l.keys())o.push(fe(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(o){let l=Bl(o=Q(o))?o:Q(o&&o.provide);const c=function AD(s){return Oa(s)?Bu(void 0,s.useValue):Bu(Ew(s),Na)}(o);if(Bl(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Bu(void 0,Na,!0),h.factory=()=>At(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,c)}hydrate(o,l){return l.value===Na&&(l.value=vo,l.value=l.factory()),"object"==typeof l.value&&l.value&&function xD(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Q(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function th(s){const o=Ht(s),l=null!==o?o.factory:Mi(s);if(null!==l)return l;if(s instanceof Bn)throw new ye(204,!1);if(s instanceof Function)return function SD(s){const o=s.length;if(o>0)throw function Wt(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}(o,"?"),new ye(204,!1);const l=function Pn(s){const o=s&&(s[wn]||s[pn]);return o?(function In(s){if(s.hasOwnProperty("name"))return s.name;(""+s).match(/^function\s*([^\s(]+)/)}(s),o):null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new ye(204,!1)}function Ew(s,o,l){let c;if(Bl(s)){const h=Q(s);return Mi(h)||th(h)}if(Oa(s))c=()=>Q(s.useValue);else if(function hp(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...At(s.deps||[]));else if(function vw(s){return!(!s||!s.useExisting)}(s))c=()=>Ve(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function MD(s){return!!s.deps}(s))return Mi(h)||th(h);c=()=>new h(...At(s.deps))}return c}function Bu(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function p_(s,o){for(const l of s)Array.isArray(l)?p_(l,o):l&&ve(l)?p_(l.\u0275providers,o):o(l)}class PD{}class Cw{}class ND{resolveComponentFactory(o){throw function Iw(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let nh=(()=>{class s{}return s.NULL=new ND,s})();function kD(){return ju(kr(),ke())}function ju(s,o){return new $u(Ne(s,o))}let $u=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=kD,s})();function g_(s){return s instanceof $u?s.nativeElement:s}class gp{}let ea=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Hu(){const s=ke(),l=dn(kr().index,s);return(ei(l)?l:s)[Ut]}(),s})(),bw=(()=>{class s{}return s.\u0275prov=je({token:s,providedIn:"root",factory:()=>null}),s})();class m_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Dw=new m_("15.2.5"),Fa={},mp="ngOriginalError";function zu(s){return s[mp]}class Gu{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&zu(o);for(;l&&zu(l);)l=zu(l);return l||null}}function qs(s){return s instanceof Function?s():s}function ih(s,o,l){let c=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}l=h+1}}const w_="ng-template";function jD(s,o,l){let c=0,h=!0;for(;c<s.length;){let p=s[c++];if("string"==typeof p&&h){const y=s[c++];if(l&&"class"===p&&-1!==ih(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;c<s.length&&"string"==typeof(p=s[c++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function xw(s){return 4===s.type&&s.value!==w_}function E_(s,o,l){return o===(4!==s.type||l?s.value:w_)}function Rw(s,o,l){let c=4;const h=s.attrs||[],p=function C_(s){for(let o=0;o<s.length;o++)if(Er(s[o]))return o;return s.length}(h);let y=!1;for(let C=0;C<o.length;C++){const I=o[C];if("number"!=typeof I){if(!y)if(4&c){if(c=2|1&c,""!==I&&!E_(s,I,l)||""===I&&1===o.length){if(Eo(c))return!1;y=!0}}else{const T=8&c?I:o[++C];if(8&c&&null!==s.attrs){if(!jD(s.attrs,T,l)){if(Eo(c))return!1;y=!0}continue}const U=gP(8&c?"class":I,h,xw(s),l);if(-1===U){if(Eo(c))return!1;y=!0;continue}if(""!==T){let Y;Y=U>p?"":h[U+1].toLowerCase();const ne=8&c?Y:null;if(ne&&-1!==ih(ne,T,0)||2&c&&T!==Y){if(Eo(c))return!1;y=!0}}}}else{if(!y&&!Eo(c)&&!Eo(I))return!1;if(y&&Eo(I))continue;y=!1,c=I|1&c}}return Eo(c)||y}function Eo(s){return 0==(1&s)}function gP(s,o,l,c){if(null===o)return-1;let h=0;if(c||!l){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function HD(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function $D(s,o,l=!1){for(let c=0;c<o.length;c++)if(Rw(s,o[c],l))return!0;return!1}function Pw(s,o){return s?":not("+o.trim()+")":o}function I_(s){let o=s[0],l=1,c=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&c){const C=s[++l];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!Eo(y)&&(o+=Pw(p,h),h=""),c=y,p=p||!Eo(c);l++}return""!==h&&(o+=Pw(p,h)),o}const jt={};function Nw(s){kw(fn(),ke(),_i()+s,!1)}function kw(s,o,l,c){if(!c)if(3==(3&o[Yt])){const p=s.preOrderCheckHooks;null!==p&&cl(o,p,l)}else{const p=s.preOrderHooks;null!==p&&Ki(o,p,0,l)}co(l)}function Zu(s,o=null,l=null,c){const h=Lw(s,o,l,c);return h.resolveInjectorInitializers(),h}function Lw(s,o=null,l=null,c,h=new Set){const p=[l||K,c_(s)];return c=c||("object"==typeof s?void 0:fe(s)),new eh(p,o||ka(),c||null,h)}let jl=(()=>{class s{static create(l,c){if(Array.isArray(l))return Zu({name:""},c,l,"");{const h=l.name??"";return Zu({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=ln,s.NULL=new u_,s.\u0275prov=je({token:s,providedIn:"any",factory:()=>Ve(Uu)}),s.__NG_ELEMENT_ID__=-1,s})();function ta(s,o=ot.Default){const l=ke();return null===l?Ve(s,o):Af(kr(),l,Q(s),o)}function Ju(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const p=l[c+1];if(-1!==p){const y=s.data[p];vf(l[c]),y.contentQueries(2,o[p],p)}}}function Dp(s,o,l,c,h,p,y,C,I,T,x){const U=o.blueprint.slice();return U[$i]=h,U[Yt]=76|c,(null!==x||s&&1024&s[Yt])&&(U[Yt]|=1024),as(U),U[xn]=U[_s]=s,U[Kn]=l,U[lo]=y||s&&s[lo],U[Ut]=C||s&&s[Ut],U[Ls]=I||s&&s[Ls]||null,U[ss]=T||s&&s[ss]||null,U[sr]=p,U[uo]=function Bd(){return Ud++}(),U[ld]=x,U[Wr]=2==o.type?s[Wr]:U,U}function Xu(s,o,l,c,h){let p=s.data[o];if(null===p)p=function M_(s,o,l,c,h){const p=Sm(),y=yu(),I=s.data[o]=function Qw(s,o,l,c,h,p){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,o,c,h);return null===s.firstChild&&(s.firstChild=I),null!==p&&(y?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I,I.prev=p)),I}(s,o,l,c,h),function mf(){return Ft.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=l,p.value=c,p.attrs=h;const y=function Lo(){const s=Ft.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return $s(p,!0),p}function sh(s,o,l,c){if(0===l)return-1;const h=o.length;for(let p=0;p<l;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function Tp(s,o,l){wf(o);try{const c=s.viewQuery;null!==c&&G_(1,c,l);const h=s.template;null!==h&&Kw(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ju(s,o),s.staticViewQueries&&G_(2,s.viewQuery,l);const p=s.components;null!==p&&function nT(s,o){for(let l=0;l<o.length;l++)fT(s,o[l])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[Yt]&=-5,Ef()}}function Sp(s,o,l,c){const h=o[Yt];if(128!=(128&h)){wf(o);try{as(o),function Am(s){return Ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Kw(s,o,l,2,c);const y=3==(3&h);if(y){const T=s.preOrderCheckHooks;null!==T&&cl(o,T,null)}else{const T=s.preOrderHooks;null!==T&&Ki(o,T,0,null),dr(o,0)}if(function $_(s){for(let o=k(s);null!==o;o=te(o)){if(!o[fu])continue;const l=o[Us];for(let c=0;c<l.length;c++){const h=l[c];512&h[Yt]||Is(h[xn],1),h[Yt]|=512}}}(o),function dT(s){for(let o=k(s);null!==o;o=te(o))for(let l=Xr;l<o.length;l++){const c=o[l],h=c[it];yn(c)&&Sp(h,c,h.template,c[Kn])}}(o),null!==s.contentQueries&&Ju(s,o),y){const T=s.contentCheckHooks;null!==T&&cl(o,T)}else{const T=s.contentHooks;null!==T&&Ki(o,T,1),dr(o,1)}!function Ww(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)co(~h);else{const p=h,y=l[++c],C=l[++c];yf(y,p),C(2,o[p])}}}finally{co(-1)}}(s,o);const C=s.components;null!==C&&function qw(s,o){for(let l=0;l<o.length;l++)hT(s,o[l])}(o,C);const I=s.viewQuery;if(null!==I&&G_(2,I,c),y){const T=s.viewCheckHooks;null!==T&&cl(o,T)}else{const T=s.viewHooks;null!==T&&Ki(o,T,2),dr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Yt]&=-41,512&o[Yt]&&(o[Yt]&=-513,Is(o[xn],-1))}finally{Ef()}}}function Kw(s,o,l,c,h){const p=_i(),y=2&c;try{co(-1),y&&o.length>Bt&&kw(s,o,Bt,!1),ni(y?2:0,h),l(c,h)}finally{co(p),ni(y?3:1,h)}}function x_(s,o,l){if(tl(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function R_(s,o,l){bm()&&(function Ap(s,o,l,c){const h=l.directiveStart,p=l.directiveEnd;Oo(l)&&function uT(s,o,l){const c=Ne(o,s),h=Zw(l),p=s[lo],y=Oi(s,Dp(s,h,null,l.onPush?32:16,c,o,p,p.createRenderer(c,l),null,null,null));s[o.index]=y}(o,l,s.data[h+l.componentOffset]),s.firstCreatePass||fo(l,o),Fr(c,o);const y=l.initialInputs;for(let C=h;C<p;C++){const I=s.data[C],T=Ds(o,s,C,l);Fr(T,o),null!==y&&cT(0,C-h,T,I,0,y),Wi(I)&&(dn(l.index,o)[Kn]=Ds(o,s,C,l))}}(s,o,l,Ne(l,o)),64==(64&l.flags)&&U_(s,o,l))}function P_(s,o,l=Ne){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const y=c[p+1],C=-1===y?l(o,s):s[y];s[h++]=C}}}function Zw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=O_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function O_(s,o,l,c,h,p,y,C,I,T){const x=Bt+c,U=x+h,Y=function Yw(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:jt);return l}(x,U),ne="function"==typeof T?T():T;return Y[it]={type:s,blueprint:Y,template:l,queries:null,viewQuery:C,declTNode:o,data:Y.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:ne,incompleteFirstPass:!1}}function N_(s,o,l,c){const h=gT(o);null===l?h.push(c):(h.push(l),s.firstCreatePass&&mT(s).push(c,h.length-1))}function iT(s,o,l,c){for(let h in s)if(s.hasOwnProperty(h)){l=null===l?{}:l;const p=s[h];null===c?k_(l,o,h,p):c.hasOwnProperty(h)&&k_(l,o,c[h],p)}return l}function k_(s,o,l,c){s.hasOwnProperty(l)?s[l].push(o,c):s[l]=[o,c]}function cs(s,o,l,c,h,p,y,C){const I=Ne(o,l);let x,T=o.inputs;!C&&null!=T&&(x=T[c])?(Rp(s,l,x,c,h),Oo(o)&&Xw(l,o.index)):3&o.type&&(c=function sT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=y?y(h,o.value||"",c):h,p.setProperty(I,c,h))}function Xw(s,o){const l=dn(o,s);16&l[Yt]||(l[Yt]|=32)}function F_(s,o,l,c){if(bm()){const h=null===c?null:{"":-1},p=function tE(s,o){const l=s.directiveRegistry;let c=null,h=null;if(l)for(let p=0;p<l.length;p++){const y=l[p];if($D(o,y.selectors,!1))if(c||(c=[]),Wi(y))if(null!==y.findHostDirectiveDefs){const C=[];h=h||new Map,y.findHostDirectiveDefs(y,C,h),c.unshift(...C,y),ec(s,o,C.length)}else c.unshift(y),ec(s,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,c,h),c.push(y)}return null===c?null:[c,h]}(s,l);let y,C;null===p?y=C=null:[y,C]=p,null!==y&&L_(s,o,l,y,h,C),h&&function Mp(s,o,l){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=l[o[h+1]];if(null==p)throw new ye(-301,!1);c.push(o[h],p)}}}(l,c,h)}l.mergedAttrs=$o(l.mergedAttrs,l.attrs)}function L_(s,o,l,c,h,p){for(let T=0;T<c.length;T++)pl(fo(l,o),s,c[T].type);!function rE(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,c.length);for(let T=0;T<c.length;T++){const x=c[T];x.providersResolver&&x.providersResolver(x)}let y=!1,C=!1,I=sh(s,o,c.length,null);for(let T=0;T<c.length;T++){const x=c[T];l.mergedAttrs=$o(l.mergedAttrs,x.hostAttrs),lT(s,l,o,I,x),nE(I,x,h),null!==x.contentQueries&&(l.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(l.flags|=64);const U=x.type.prototype;!y&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),y=!0),!C&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),I++}!function Jw(s,o,l){const h=o.directiveEnd,p=s.data,y=o.attrs,C=[];let I=null,T=null;for(let x=o.directiveStart;x<h;x++){const U=p[x],Y=l?l.get(U):null,Ce=Y?Y.outputs:null;I=iT(U.inputs,x,I,Y?Y.inputs:null),T=iT(U.outputs,x,T,Ce);const Ke=null===I||null===y||xw(o)?null:j_(I,x,y);C.push(Ke)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=C,o.inputs=I,o.outputs=T}(s,l,p)}function U_(s,o,l){const c=l.directiveStart,h=l.directiveEnd,p=l.index,y=function Mm(){return Ft.lFrame.currentDirectiveIndex}();try{co(p);for(let C=c;C<h;C++){const I=s.data[C],T=o[C];Hs(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&aT(I,T)}}finally{co(-1),Hs(y)}}function aT(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function ec(s,o,l){o.componentOffset=l,(s.components||(s.components=[])).push(o.index)}function nE(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;Wi(o)&&(l[""]=s)}}function lT(s,o,l,c,h){s.data[c]=h;const p=h.factory||(h.factory=Mi(h.type)),y=new Uo(p,Wi(h),ta);s.blueprint[c]=y,l[c]=y,function V_(s,o,l,c,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const C=~o.index;(function eE(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(y)!=C&&y.push(C),y.push(l,c,p)}}(s,o,c,sh(s,l,h.hostVars,jt),h)}function Co(s,o,l,c,h,p){const y=Ne(s,o);!function B_(s,o,l,c,h,p,y){if(null==p)s.removeAttribute(o,h,l);else{const C=null==y?Ae(p):y(p,c||"",h);s.setAttribute(o,h,C,l)}}(o[Ut],y,p,s.value,l,c,h)}function cT(s,o,l,c,h,p){const y=p[o];if(null!==y){const C=c.setInput;for(let I=0;I<y.length;){const T=y[I++],x=y[I++],U=y[I++];null!==C?c.setInput(l,U,T,x):l[x]=U}}}function j_(s,o,l){let c=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===c&&(c=[]);const y=s[p];for(let C=0;C<y.length;C+=2)if(y[C]===o){c.push(p,y[C+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function iE(s,o,l,c){return[s,!0,!1,o,null,0,c,l,null,null]}function hT(s,o){const l=dn(o,s);if(yn(l)){const c=l[it];48&l[Yt]?Sp(c,l,c.template,l[Kn]):l[Hi]>0&&H_(l)}}function H_(s){for(let c=k(s);null!==c;c=te(c))for(let h=Xr;h<c.length;h++){const p=c[h];if(yn(p))if(512&p[Yt]){const y=p[it];Sp(y,p,y.template,p[Kn])}else p[Hi]>0&&H_(p)}const l=s[it].components;if(null!==l)for(let c=0;c<l.length;c++){const h=dn(l[c],s);yn(h)&&h[Hi]>0&&H_(h)}}function fT(s,o){const l=dn(o,s),c=l[it];(function pT(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(c,l),Tp(c,l,l[Kn])}function Oi(s,o){return s[os]?s[pa][Gr]=o:s[os]=o,s[pa]=o,o}function z_(s){for(;s;){s[Yt]|=32;const o=_(s);if(nl(s)&&!o)return s;s=o}return null}function tc(s,o,l,c=!0){const h=o[lo];h.begin&&h.begin();try{Sp(s,o,s.template,l)}catch(y){throw c&&xp(o,y),y}finally{h.end&&h.end()}}function G_(s,o,l){vf(0),o(s,l)}function gT(s){return s[is]||(s[is]=[])}function mT(s){return s.cleanup||(s.cleanup=[])}function xp(s,o){const l=s[ss],c=l?l.get(Gu,null):null;c&&c.handleError(o)}function Rp(s,o,l,c,h){for(let p=0;p<l.length;){const y=l[p++],C=l[p++],I=o[y],T=s.data[y];null!==T.setInput?T.setInput(I,h,c,C):I[C]=h}}function Pp(s,o,l){let c=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const C=o[y];"number"==typeof C?p=C:1==p?h=me(h,C):2==p&&(c=me(c,C+": "+o[++y]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}function na(s,o,l,c,h=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&c.push(O(p)),Or(p))for(let C=Xr;C<p.length;C++){const I=p[C],T=I[it].firstChild;null!==T&&na(I[it],I,T,c)}const y=l.type;if(8&y)na(s,o,l.child,c);else if(32&y){const C=w(l,o);let I;for(;I=C();)c.push(I)}else if(16&y){const C=Q0(o,l);if(Array.isArray(C))c.push(...C);else{const I=_(o[Wr]);na(I[it],I,C,c,!0)}}l=h?l.projectionNext:l.next}return c}class Op{get rootNodes(){const o=this._lView,l=o[it];return na(l,o,l.firstChild,[])}constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kn]}set context(o){this._lView[Kn]=o}get destroyed(){return 128==(128&this._lView[Yt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[xn];if(Or(o)){const l=o[ga],c=l?l.indexOf(this):-1;c>-1&&(Nu(o,c),El(l,c))}this._attachedToViewContainer=!1}ep(this._lView[it],this._lView)}onDestroy(o){N_(this._lView[it],this._lView,null,o)}markForCheck(){z_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Yt]&=-65}reattach(){this._lView[Yt]|=64}detectChanges(){tc(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Kd(s,o){ip(s,o,o[Ut],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=o}}class oE extends Op{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;tc(o[it],o,o[Kn],!1)}checkNoChanges(){}get context(){return null}}class ra extends nh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Qe(o);return new kp(l,this.ngModule)}}function Np(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class IP{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,c){c=yt(c);const h=this.injector.get(o,Fa,c);return h!==Fa||l===Fa?h:this.parentInjector.get(o,l,c)}}class kp extends Cw{get inputs(){return Np(this.componentDef.inputs)}get outputs(){return Np(this.componentDef.outputs)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function xs(s){return s.map(I_).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,c,h){let p=(h=h||this.ngModule)instanceof wo?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new IP(o,p):o,C=y.get(gp,null);if(null===C)throw new ye(407,!1);const I=y.get(bw,null),T=C.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",U=c?function rT(s,o,l){return s.selectRootElement(o,l===D.ShadowDom)}(T,c,this.componentDef.encapsulation):vi(T,x,function _T(s){const o=s.toLowerCase();return"svg"===o?ul:"math"===o?"math":null}(x)),Y=this.componentDef.onPush?288:272,ne=O_(0,null,null,1,0,null,null,null,null,null),Ce=Dp(null,ne,null,Y,null,null,C,T,I,y,null);let Ke,st;wf(Ce);try{const ht=this.componentDef;let Pt,Fe=null;ht.findHostDirectiveDefs?(Pt=[],Fe=new Map,ht.findHostDirectiveDefs(ht,Pt,Fe),Pt.push(ht)):Pt=[ht];const Lt=function W_(s,o){const l=s[it],c=Bt;return s[c]=o,Xu(l,c,2,"#host",null)}(Ce,U),rr=function vT(s,o,l,c,h,p,y,C){const I=h[it];!function wT(s,o,l,c){for(const h of s)o.mergedAttrs=$o(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Pp(o,o.mergedAttrs,!0),null!==l&&hD(c,l,o))}(c,s,o,y);const T=p.createRenderer(o,l),x=Dp(h,Zw(l),null,l.onPush?32:16,h[s.index],s,p,T,C||null,null,null);return I.firstCreatePass&&ec(I,s,c.length-1),Oi(h,x),h[s.index]=x}(Lt,U,ht,Pt,Ce,C,T);st=Tt(ne,Bt),U&&function lE(s,o,l,c){if(c)If(s,l,["ng-version",Dw.full]);else{const{attrs:h,classes:p}=function Ow(s){const o=[],l=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&l.push(p);else{if(!Eo(h))break;h=p}c++}return{attrs:o,classes:l}}(o.selectors[0]);h&&If(s,l,h),p&&p.length>0&&dD(s,l,p.join(" "))}}(T,ht,U,c),void 0!==l&&function DP(s,o,l){const c=s.projection=[];for(let h=0;h<o.length;h++){const p=l[h];c.push(null!=p?Array.from(p):null)}}(st,this.ngContentSelectors,l),Ke=function bP(s,o,l,c,h,p){const y=kr(),C=h[it],I=Ne(y,h);L_(C,h,y,l,null,c);for(let x=0;x<l.length;x++)Fr(Ds(h,C,y.directiveStart+x,y),h);U_(C,h,y),I&&Fr(I,h);const T=Ds(h,C,y.directiveStart+y.componentOffset,y);if(s[Kn]=h[Kn]=T,null!==p)for(const x of p)x(T,o);return x_(C,y,s),T}(rr,ht,Pt,Fe,Ce,[TP]),Tp(ne,Ce,null)}finally{Ef()}return new aE(this.componentType,Ke,ju(st,Ce),Ce,st)}}class aE extends PD{constructor(o,l,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new oE(h),this.componentType=o}setInput(o,l){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const p=this._rootLView;Rp(p[it],p,h,o,l),Xw(p,this._tNode.index)}}get injector(){return new ml(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function TP(){const s=kr();Ed(ke()[it],s)}function uE(s){let o=function ET(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let h;if(Wi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ye(903,!1);h=o.\u0275dir}if(h){if(l){c.push(h);const y=s;y.inputs=cE(s.inputs),y.declaredInputs=cE(s.declaredInputs),y.outputs=cE(s.outputs);const C=h.hostBindings;C&&MP(s,C);const I=h.viewQuery,T=h.contentQueries;if(I&&SP(s,I),T&&AP(s,T),_e(s.inputs,h.inputs),_e(s.declaredInputs,h.declaredInputs),_e(s.outputs,h.outputs),Wi(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const C=p[y];C&&C.ngInherit&&C(s),C===uE&&(l=!1)}}o=Object.getPrototypeOf(o)}!function Fp(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=$o(h.hostAttrs,l=$o(l,h.hostAttrs))}}(c)}function cE(s){return s===j?{}:s===K?[]:s}function SP(s,o){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{o(c,h),l(c,h)}:o}function AP(s,o){const l=s.contentQueries;s.contentQueries=l?(c,h,p)=>{o(c,h,p),l(c,h,p)}:o}function MP(s,o){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{o(c,h),l(c,h)}:o}function wi(s){return!!V(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function V(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ei(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function oh(s,o,l,c){const h=ke();return Ei(h,Vo(),o)&&(fn(),Co(Nn(),h,s,o,l,c)),oh}function ic(s,o,l,c){return Ei(s,Vo(),l)?o+Ae(l)+c:jt}function sc(s,o,l,c,h,p){const C=function fr(s,o,l,c){const h=Ei(s,o,l);return Ei(s,o+1,c)||h}(s,function di(){return Ft.lFrame.bindingIndex}(),l,h);return bs(2),C?o+Ae(l)+c+Ae(h)+p:jt}function cc(s,o,l,c,h,p,y,C){const I=ke(),T=fn(),x=s+Bt,U=T.firstCreatePass?function TT(s,o,l,c,h,p,y,C,I){const T=o.consts,x=Xu(o,s,4,y||null,Nr(T,C));F_(o,l,x,Nr(T,I)),Ed(o,x);const U=x.tView=O_(2,x,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,x),U.queries=o.queries.embeddedTView(x)),x}(x,T,I,o,l,c,h,p,y):T.data[x];$s(U,!1);const Y=I[Ut].createComment("");Ws(T,I,Y,U),Fr(Y,I),Oi(I,I[x]=iE(Y,I,Y,U)),vs(U)&&R_(T,I,U),null!=y&&P_(I,U,C)}function uh(s){return function gn(s,o){return s[o]}(function vu(){return Ft.lFrame.contextLView}(),Bt+s)}function jp(s,o,l){const c=ke();return Ei(c,Vo(),o)&&cs(fn(),Nn(),c,s,o,c[Ut],l,!1),jp}function K_(s,o,l,c,h){const y=h?"class":"style";Rp(s,l,o.inputs[y],y,c)}function $p(s,o,l,c){const h=ke(),p=fn(),y=Bt+s,C=h[Ut],I=p.firstCreatePass?function ST(s,o,l,c,h,p){const y=o.consts,I=Xu(o,s,2,c,Nr(y,h));return F_(o,l,I,Nr(y,p)),null!==I.attrs&&Pp(I,I.attrs,!1),null!==I.mergedAttrs&&Pp(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,p,h,o,l,c):p.data[y],T=h[y]=vi(C,o,function sD(){return Ft.lFrame.currentNamespace}()),x=vs(I);return $s(I,!0),hD(C,T,I),32!=(32&I.flags)&&Ws(p,h,T,I),0===function qi(){return Ft.lFrame.elementDepthCount}()&&Fr(T,h),function _u(){Ft.lFrame.elementDepthCount++}(),x&&(R_(p,h,I),x_(p,I,h)),null!==c&&P_(h,I),$p}function Hp(){let s=kr();yu()?gf():(s=s.parent,$s(s,!1));const o=s;!function _d(){Ft.lFrame.elementDepthCount--}();const l=fn();return l.firstCreatePass&&(Ed(l,s),tl(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function xt(s){return 0!=(8&s.flags)}(o)&&K_(l,o,ke(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Eu(s){return 0!=(16&s.flags)}(o)&&K_(l,o,ke(),o.stylesWithoutHost,!1),Hp}function zp(s,o,l,c){return $p(s,o,l,c),Hp(),zp}function ch(s,o,l){const c=ke(),h=fn(),p=s+Bt,y=h.firstCreatePass?function Z_(s,o,l,c,h){const p=o.consts,y=Nr(p,c),C=Xu(o,s,8,"ng-container",y);return null!==y&&Pp(C,y,!0),F_(o,l,C,Nr(p,h)),null!==o.queries&&o.queries.elementStart(o,C),C}(p,h,c,o,l):h.data[p];$s(y,!0);const C=c[p]=c[Ut].createComment("");return Ws(h,c,C,y),Fr(C,c),vs(y)&&(R_(h,c,y),x_(h,y,c)),null!=l&&P_(c,y),ch}function dc(){let s=kr();const o=fn();return yu()?gf():(s=s.parent,$s(s,!1)),o.firstCreatePass&&(Ed(o,s),tl(s)&&o.queries.elementEnd(s)),dc}function hc(){return ke()}function Q_(s){return!!s&&"function"==typeof s.then}function Gp(s){return!!s&&"function"==typeof s.subscribe}const Wp=Gp;function J_(s,o,l,c){const h=ke(),p=fn(),y=kr();return function X_(s,o,l,c,h,p,y){const C=vs(c),T=s.firstCreatePass&&mT(s),x=o[Kn],U=gT(o);let Y=!0;if(3&c.type||y){const Ke=Ne(c,o),st=y?y(Ke):Ke,ht=U.length,Pt=y?Lt=>y(O(Lt[c.index])):c.index;let Fe=null;if(!y&&C&&(Fe=function _E(s,o,l,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===c){const C=o[is],I=h[p+2];return C.length>I?C[I]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,c.index)),null!==Fe)(Fe.__ngLastListenerFn__||Fe).__ngNextListenerFn__=p,Fe.__ngLastListenerFn__=p,Y=!1;else{p=yE(c,o,x,p,!1);const Lt=l.listen(st,h,p);U.push(p,Lt),T&&T.push(h,Pt,ht,ht+1)}}else p=yE(c,o,x,p,!1);const ne=c.outputs;let Ce;if(Y&&null!==ne&&(Ce=ne[h])){const Ke=Ce.length;if(Ke)for(let st=0;st<Ke;st+=2){const rr=o[Ce[st]][Ce[st+1]].subscribe(p),xr=U.length;U.push(p,rr),T&&T.push(h,c.index,xr,-(xr+1))}}}(p,h,h[Ut],y,s,o,c),J_}function Kp(s,o,l,c){try{return ni(6,o,l),!1!==l(c)}catch(h){return xp(s,h),!1}finally{ni(7,o,l)}}function yE(s,o,l,c,h){return function p(y){if(y===Function)return c;z_(s.componentOffset>-1?dn(s.index,o):o);let I=Kp(o,l,c,y),T=p.__ngNextListenerFn__;for(;T;)I=Kp(o,l,T,y)&&I,T=T.__ngNextListenerFn__;return h&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function vE(s=1){return function iD(s){return(Ft.lFrame.contextLView=function V0(s,o){for(;s>0;)o=o[_s],s--;return o}(s,Ft.lFrame.contextLView))[Kn]}(s)}function fc(s,o,l,c,h){const p=ke(),y=ic(p,o,l,c);return y!==jt&&cs(fn(),Nn(),p,s,y,p[Ut],h,!1),fc}function Qp(s,o){return s<<17|o<<2}function Ua(s){return s>>17&32767}function iy(s){return 2|s}function Gl(s){return(131068&s)>>2}function pc(s,o){return-131069&s|o<<2}function Jp(s){return 1|s}function sy(s,o,l,c,h){const p=s[l+1],y=null===o;let C=c?Ua(p):Gl(p),I=!1;for(;0!==C&&(!1===I||y);){const x=s[C+1];TE(s[C],o)&&(I=!0,s[C+1]=c?Jp(x):iy(x)),C=c?Ua(x):Gl(x)}I&&(s[l+1]=c?iy(p):Jp(p))}function TE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&po(s,o)>=0}const Ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oy(s){return s.substring(Ur.key,Ur.keyEnd)}function SE(s){return s.substring(Ur.value,Ur.valueEnd)}function OT(s,o){const l=Ur.textEnd;let c=Ur.key=dh(s,o,l);return l===c?-1:(c=Ur.keyEnd=function ME(s,o,l){let c;for(;o<l&&(45===(c=s.charCodeAt(o))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)o++;return o}(s,c,l),c=xE(s,c,l),c=Ur.value=dh(s,c,l),c=Ur.valueEnd=function RE(s,o,l){let c=-1,h=-1,p=-1,y=o,C=y;for(;y<l;){const I=s.charCodeAt(y++);if(59===I)return C;34===I||39===I?C=y=eg(s,I,y,l):o===y-4&&85===p&&82===h&&76===c&&40===I?C=y=eg(s,41,y,l):I>32&&(C=y),p=h,h=c,c=-33&I}return C}(s,c,l),xE(s,c,l))}function dh(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function xE(s,o,l,c){return(o=dh(s,o,l))<l&&o++,o}function eg(s,o,l,c){let h=-1,p=l;for(;p<c;){const y=s.charCodeAt(p++);if(y==o&&92!==h)return p;h=92==y&&92===h?0:y}throw new Error}function fh(s,o){return function Ks(s,o,l,c){const h=ke(),p=fn(),y=bs(2);p.firstUpdatePass&&PE(p,s,y,c),o!==jt&&Ei(h,y,o)&&ay(p,p.data[_i()],h,h[Ut],s,h[y+1]=function HP(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(Nl(s)))),s}(o,l),c,y)}(s,o,null,!0),fh}function ia(s){!function bo(s,o,l,c){const h=fn(),p=bs(2);h.firstUpdatePass&&PE(h,null,p,c);const y=ke();if(l!==jt&&Ei(y,p,l)){const C=h.data[_i()];if(tg(C,c)&&!LT(h,p)){let I=c?C.classesWithoutHost:C.stylesWithoutHost;null!==I&&(l=me(I,l||"")),K_(h,C,y,l,c)}else!function $P(s,o,l,c,h,p,y,C){h===jt&&(h=K);let I=0,T=0,x=0<h.length?h[0]:null,U=0<p.length?p[0]:null;for(;null!==x||null!==U;){const Y=I<h.length?h[I+1]:void 0,ne=T<p.length?p[T+1]:void 0;let Ke,Ce=null;x===U?(I+=2,T+=2,Y!==ne&&(Ce=U,Ke=ne)):null===U||null!==x&&x<U?(I+=2,Ce=x):(T+=2,Ce=U,Ke=ne),null!==Ce&&ay(s,o,l,c,Ce,Ke,y,C),x=I<h.length?h[I]:null,U=T<p.length?p[T]:null}}(h,C,y,y[Ut],y[p+1],y[p+1]=function VT(s,o,l){if(null==l||""===l)return K;const c=[],h=Nl(l);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&o(c,h);return c}(s,o,l),c,p)}}(NE,FT,s,!1)}function FT(s,o){for(let l=function FP(s){return function Xp(s){Ur.key=0,Ur.keyEnd=0,Ur.value=0,Ur.valueEnd=0,Ur.textEnd=s.length}(s),OT(s,dh(s,0,Ur.textEnd))}(o);l>=0;l=OT(o,l))NE(s,oy(o),SE(o))}function LT(s,o){return o>=s.expandoStartIndex}function PE(s,o,l,c){const h=s.data;if(null===h[l+1]){const p=h[_i()],y=LT(s,l);tg(p,c)&&null===o&&!y&&(o=!1),o=function VP(s,o,l,c){const h=function vd(s){const o=Ft.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(l=gc(l=OE(null,s,o,l,c),o.attrs,c),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=OE(h,s,o,l,c),null===p){let I=function UP(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==Gl(c))return s[Ua(c)]}(s,o,c);void 0!==I&&Array.isArray(I)&&(I=OE(null,s,o,I[1],c),I=gc(I,o.attrs,c),function BP(s,o,l,c){s[Ua(l?o.classBindings:o.styleBindings)]=c}(s,o,c,I))}else p=function jP(s,o,l){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=gc(c,s[p].hostAttrs,l);return gc(c,o.attrs,l)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),l}(h,p,o,c),function RT(s,o,l,c,h,p){let y=p?o.classBindings:o.styleBindings,C=Ua(y),I=Gl(y);s[c]=l;let x,T=!1;if(Array.isArray(l)?(x=l[1],(null===x||po(l,x)>0)&&(T=!0)):x=l,h)if(0!==I){const Y=Ua(s[C+1]);s[c+1]=Qp(Y,C),0!==Y&&(s[Y+1]=pc(s[Y+1],c)),s[C+1]=function xT(s,o){return 131071&s|o<<17}(s[C+1],c)}else s[c+1]=Qp(C,0),0!==C&&(s[C+1]=pc(s[C+1],c)),C=c;else s[c+1]=Qp(I,0),0===C?C=c:s[I+1]=pc(s[I+1],c),I=c;T&&(s[c+1]=iy(s[c+1])),sy(s,x,c,!0),sy(s,x,c,!1),function PT(s,o,l,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&po(p,o)>=0&&(l[c+1]=Jp(l[c+1]))}(o,x,s,c,p),y=Qp(C,I),p?o.classBindings=y:o.styleBindings=y}(h,p,o,l,y,c)}}function OE(s,o,l,c,h){let p=null;const y=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<y&&(p=o[C],c=gc(c,p.hostAttrs,h),p!==s);)C++;return null!==s&&(l.directiveStylingLast=C),c}function gc(s,o,l){const c=l?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),br(s,y,!!l||o[++p]))}return void 0===s?null:s}function NE(s,o,l){br(s,o,Nl(l))}function ay(s,o,l,c,h,p,y,C){if(!(3&o.type))return;const I=s.data,T=I[C+1],x=function bE(s){return 1==(1&s)}(T)?ph(I,o,l,h,Gl(T),y):void 0;mc(x)||(mc(p)||function MT(s){return 2==(2&s)}(T)&&(p=ph(I,null,l,h,C,y)),function sP(s,o,l,c,h){if(o)h?s.addClass(l,c):s.removeClass(l,c);else{let p=-1===c.indexOf("-")?void 0:Ms.DashCase;null==h?s.removeStyle(l,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Ms.Important),s.setStyle(l,c,h,p))}}(c,y,ue(_i(),l),h,p))}function ph(s,o,l,c,h,p){const y=null===o;let C;for(;h>0;){const I=s[h],T=Array.isArray(I),x=T?I[1]:I,U=null===x;let Y=l[h+1];Y===jt&&(Y=U?K:void 0);let ne=U?Du(Y,c):x===c?Y:void 0;if(T&&!mc(ne)&&(ne=Du(I,c)),mc(ne)&&(C=ne,y))return C;const Ce=s[h+1];h=y?Ua(Ce):Gl(Ce)}if(null!==o){let I=p?o.residualClasses:o.residualStyles;null!=I&&(C=Du(I,c))}return C}function mc(s){return void 0!==s}function tg(s,o){return 0!=(s.flags&(o?8:16))}function kE(s,o=""){const l=ke(),c=fn(),h=s+Bt,p=c.firstCreatePass?Xu(c,h,1,o,null):c.data[h],y=l[h]=function vt(s,o){return s.createText(o)}(l[Ut],o);Ws(c,l,y,p),$s(p,!1)}function ng(s,o,l){const c=ke(),h=ic(c,s,o,l);return h!==jt&&function Rs(s,o,l){const c=ue(o,s);!function Xt(s,o,l){s.setValue(o,l)}(s[Ut],c,l)}(c,_i(),h),ng}function HT(s,o,l,c,h){ia(sc(ke(),s,o,l,c,h))}const _c=void 0;var lO=["en",[["a","p"],["AM","PM"],_c],[["AM","PM"],_c,_c],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_c,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_c,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_c,"{1} 'at' {0}",_c],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aO(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let gh={};function jE(s){const o=function uO(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=nS(o);if(l)return l;const c=o.split("-")[0];if(l=nS(c),l)return l;if("en"===c)return lO;throw new ye(701,!1)}function tS(s){return jE(s)[Nt.PluralCase]}function nS(s){return s in gh||(gh[s]=bt.ng&&bt.ng.common&&bt.ng.common.locales&&bt.ng.common.locales[s]),gh[s]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const mh="en-US";let yc=mh;function Yl(s,o,l,c,h){if(s=Q(s),Array.isArray(s))for(let p=0;p<s.length;p++)Yl(s[p],o,l,c,h);else{const p=fn(),y=ke();let C=Bl(s)?s:Q(s.provide),I=Ew(s);const T=kr(),x=1048575&T.providerIndexes,U=T.directiveStart,Y=T.providerIndexes>>20;if(Bl(s)||!s.multi){const ne=new Uo(I,h,ta),Ce=Ql(C,o,h?x:x+Y,U);-1===Ce?(pl(fo(T,y),p,C),wy(p,s,o.length),o.push(C),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(ne),y.push(ne)):(l[Ce]=ne,y[Ce]=ne)}else{const ne=Ql(C,o,x+Y,U),Ce=Ql(C,o,x,x+Y),st=Ce>=0&&l[Ce];if(h&&!st||!h&&!(ne>=0&&l[ne])){pl(fo(T,y),p,C);const ht=function dC(s,o,l,c,h){const p=new Uo(s,l,ta);return p.multi=[],p.index=o,p.componentProviders=0,uC(p,h,c&&!l),p}(h?cC:lg,l.length,h,c,I);!h&&st&&(l[Ce].providerFactory=ht),wy(p,s,o.length,0),o.push(C),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(ht),y.push(ht)}else wy(p,s,ne>-1?ne:Ce,uC(l[h?Ce:ne],I,!h&&c));!h&&c&&st&&l[Ce].componentProviders++}}}function wy(s,o,l,c){const h=Bl(o),p=function ww(s){return!!s.useClass}(o);if(h||p){const I=(p?Q(o.useClass):o).prototype.ngOnDestroy;if(I){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const x=T.indexOf(l);-1===x?T.push(l,[c,I]):T[x+1].push(c,I)}else T.push(l,I)}}}function uC(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Ql(s,o,l,c){for(let h=l;h<c;h++)if(o[h]===s)return h;return-1}function lg(s,o,l,c){return ug(this.multi,[])}function cC(s,o,l,c){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Ds(l,l[it],this.providerFactory.index,c);p=C.slice(0,y),ug(h,p);for(let I=y;I<C.length;I++)p.push(C[I])}else p=[],ug(h,p);return p}function ug(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Ey(s,o=[]){return l=>{l.providersResolver=(c,h)=>function IS(s,o,l){const c=fn();if(c.firstCreatePass){const h=Wi(s);Yl(l,c.data,c.blueprint,h,!0),Yl(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class Jl{}class Cy{}function hC(s,o){return new Iy(s,o??null)}class Iy extends Jl{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ra(this);const c=En(o);this._bootstrapComponents=qs(c.bootstrap),this._r3Injector=Lw(o,l,[{provide:Jl,useValue:this},{provide:nh,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class cg extends Cy{constructor(o){super(),this.moduleType=o}create(o){return new Iy(this.moduleType,o)}}class by extends Jl{constructor(o,l,c){super(),this.componentFactoryResolver=new ra(this),this.instance=null;const h=new eh([...o,{provide:Jl,useValue:this},{provide:nh,useValue:this.componentFactoryResolver}],l||ka(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Dy(s,o,l=null){return new by(s,o,l).injector}let pC=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const c=Ul(0,l.type),h=c.length>0?Dy([c],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=je({token:s,providedIn:"environment",factory:()=>new s(Ve(wo))}),s})();function gC(s){s.getStandaloneInjector=o=>o.get(pC).getOrCreateStandaloneInjector(s)}function pg(s){return o=>{setTimeout(s,void 0,o)}}const Qs=class VS extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){let h=o,p=l||(()=>null),y=c;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),p=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(p=pg(p),h&&(h=pg(h)),y&&(y=pg(y)));const C=super.subscribe({next:h,error:p,complete:y});return o instanceof $.w0&&o.add(C),C}};function xC(){return this._results[Symbol.iterator]()}class Dc{get changes(){return this._changes||(this._changes=new Qs)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Dc.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=xC)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const h=function ls(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function kf(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Tc=(()=>{class s{}return s.__NG_ELEMENT_ID__=Tn,s})();const RC=Tc,kn=class extends RC{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o,l){const c=this._declarationTContainer.tView,h=Dp(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,l||null);h[zi]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[vr];return null!==y&&(h[vr]=y.createEmbeddedView(c)),Tp(c,h,o),new Op(h)}};function Tn(){return rn(kr(),ke())}function rn(s,o){return 4&s.type?new kn(o,s,ju(s,o)):null}let Js=(()=>{class s{}return s.__NG_ELEMENT_ID__=Zn,s})();function Zn(){return or(kr(),ke())}const Ry=Js,PC=class extends Ry{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return ju(this._hostTNode,this._hostLView)}get injector(){return new ml(this._hostTNode,this._hostLView)}get parentInjector(){const o=fl(this._hostTNode,this._hostLView);if(dl(o)){const l=Cu(o,this._hostLView),c=Ho(o);return new ml(l[it].data[c+8],l)}return new ml(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Sc(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-Xr}createEmbeddedView(o,l,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const y=o.createEmbeddedView(l||{},p);return this.insert(y,h),y}createComponent(o,l,c,h,p){const y=o&&!function Ts(s){return"function"==typeof s}(o);let C;if(y)C=l;else{const U=l||{};C=U.index,c=U.injector,h=U.projectableNodes,p=U.environmentInjector||U.ngModuleRef}const I=y?o:new kp(Qe(o)),T=c||this.parentInjector;if(!p&&null==I.ngModule){const Y=(y?T:this.parentInjector).get(wo,null);Y&&(p=Y)}const x=I.create(T,h,void 0,p);return this.insert(x.hostView,C),x}insert(o,l){const c=o._lView,h=c[it];if(function on(s){return Or(s[xn])}(c)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const U=c[xn],Y=new PC(U,U[sr],U[xn]);Y.detach(Y.indexOf(o))}}const p=this._adjustIndex(l),y=this._lContainer;!function Jf(s,o,l,c){const h=Xr+c,p=l.length;c>0&&(l[h-1][Gr]=o),c<p-Xr?(o[Gr]=l[h],jm(l,Xr+c,o)):(l.push(o),o[Gr]=null),o[xn]=l;const y=o[zi];null!==y&&l!==y&&function Xf(s,o){const l=s[Us];o[Wr]!==o[xn][xn][Wr]&&(s[fu]=!0),null===l?s[Us]=[o]:l.push(o)}(y,o);const C=o[vr];null!==C&&C.insertView(s),o[Yt]|=64}(h,c,y,p);const C=Qd(p,y),I=c[Ut],T=e_(I,y[ys]);return null!==T&&function Ou(s,o,l,c,h,p){c[$i]=h,c[sr]=o,ip(s,c,l,1,h,p)}(h,y[sr],I,c,T,C),o.attachToViewContainerRef(),jm(gg(y),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Sc(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=Nu(this._lContainer,l);c&&(El(gg(this._lContainer),l),ep(c[it],c))}detach(o){const l=this._adjustIndex(o,-1),c=Nu(this._lContainer,l);return c&&null!=El(gg(this._lContainer),l)?new Op(c):null}_adjustIndex(o,l=0){return o??this.length+l}};function Sc(s){return s[ga]}function gg(s){return s[ga]||(s[ga]=[])}function or(s,o){let l;const c=o[s.index];if(Or(c))l=c;else{let h;if(8&s.type)h=O(c);else{const p=o[Ut];h=p.createComment("");const y=Ne(s,o);Pl(p,e_(p,y),h,function nP(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=l=iE(c,o,h,s),Oi(o,l)}return new PC(l,s,o)}class sn{constructor(o){this.queryList=o,this.matches=null}clone(){return new sn(this.queryList)}setDirty(){this.queryList.setDirty()}}class fi{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let p=0;p<c;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new fi(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==un(o,l).matches&&this.queries[l].setDirty()}}class OC{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class Ch{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==l?l.push(p):l=[p])}return null!==l?new Ch(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Qi{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Qi(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,l,US(l,p)),this.matchTNodeWithReadOption(o,l,Iu(l,o,p,!1,!1))}else c===Tc?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Iu(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===$u||h===Js||h===Tc&&4&l.type)this.addMatch(l.index,-2);else{const p=Iu(l,o,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function US(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function jS(s,o,l,c){return-1===l?function BS(s,o){return 11&s.type?ju(s,o):4&s.type?rn(s,o):null}(o,s):-2===l?function NC(s,o,l){return l===$u?ju(o,s):l===Tc?rn(o,s):l===Js?or(o,s):void 0}(s,o,c):Ds(s,s[it],l,o)}function $a(s,o,l,c){const h=o[vr].queries[c];if(null===h.matches){const p=s.data,y=l.matches,C=[];for(let I=0;I<y.length;I+=2){const T=y[I];C.push(T<0?null:jS(o,p[T],y[I+1],l.metadata.read))}h.matches=C}return h.matches}function Ih(s,o,l,c){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=$a(s,o,h,l);for(let C=0;C<p.length;C+=2){const I=p[C];if(I>0)c.push(y[C/2]);else{const T=p[C+1],x=o[-I];for(let U=Xr;U<x.length;U++){const Y=x[U];Y[zi]===Y[xn]&&Ih(Y[it],Y,T,c)}if(null!==x[Us]){const U=x[Us];for(let Y=0;Y<U.length;Y++){const ne=U[Y];Ih(ne[it],ne,T,c)}}}}}return c}function Ac(s){const o=ke(),l=fn(),c=xm();vf(c+1);const h=un(l,c);if(s.dirty&&function Un(s){return 4==(4&s[Yt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Ih(l,o,c,[]):$a(l,o,h,c);s.reset(p,g_),s.notifyOnChanges()}return!0}return!1}function Py(s,o,l,c){const h=fn();if(h.firstCreatePass){const p=kr();(function Oy(s,o,l){null===s.queries&&(s.queries=new Ch),s.queries.track(new Qi(o,l))})(h,new OC(o,l,c),p.index),function Xl(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}!function FC(s,o,l){const c=new Dc(4==(4&l));N_(s,o,c,c.destroy),null===o[vr]&&(o[vr]=new fi),o[vr].queries.push(new sn(c))}(h,ke(),l)}function kC(){return function HS(s,o){return s[vr].queries[o].queryList}(ke(),xm())}function un(s,o){return s.queries.getByIndex(o)}function Ny(s){return!!En(s)}function kc(...s){}const ZC=new Bn("Application Initializer");let Sh=(()=>{class s{constructor(l){this.appInits=l,this.resolve=kc,this.reject=kc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Q_(p))l.push(p);else if(Wp(p)){const y=new Promise((C,I)=>{p.subscribe({complete:C,error:I})});l.push(y)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Ve(ZC,8))},s.\u0275prov=je({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const YC=new Bn("AppId",{providedIn:"root",factory:function QC(){return`${Ji()}${Ji()}${Ji()}`}});function Ji(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ig=new Bn("Platform Initializer"),Gy=new Bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Ah=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=je({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const oa=new Bn("LocaleId",{providedIn:"root",factory:()=>rt(oa,ot.Optional|ot.SkipSelf)||function nu(){return typeof $localize<"u"&&$localize.locale||mh}()}),Ha=new Bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class YS{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let QS=(()=>{class s{compileModuleSync(l){return new cg(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),p=qs(En(l).declarations).reduce((y,C)=>{const I=Qe(C);return I&&y.push(new kp(I)),y},[]);return new YS(c,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=je({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const nr=(()=>Promise.resolve(0))();function ds(s){typeof Zone>"u"?nr.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class hs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qs(!1),this.onMicrotaskEmpty=new Qs(!1),this.onStable=new Qs(!1),this.onError=new Qs(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function xh(){let s=bt.requestAnimationFrame,o=bt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ga(s){const o=()=>{!function nI(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(bt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Rh(s),s.isCheckStableRunning=!0,aa(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Rh(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,p,y,C)=>{try{return ru(s),l.invokeTask(h,p,y,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),Ky(s)}},onInvoke:(l,c,h,p,y,C,I)=>{try{return ru(s),l.invoke(h,p,y,C,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),Ky(s)}},onHasTask:(l,c,h,p)=>{l.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Rh(s),aa(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,c,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hs.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(hs.isInAngularZone())throw new ye(909,!1)}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,qy,kc,kc);try{return p.runTask(y,l,c)}finally{p.cancelTask(y)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const qy={};function aa(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Rh(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function ru(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Ky(s){s._nesting--,aa(s)}class Sg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qs,this.onMicrotaskEmpty=new Qs,this.onStable=new Qs,this.onError=new Qs}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,h){return o.apply(l,c)}}const rI=new Bn(""),iI=new Bn("");let Zy,JS=(()=>{class s{constructor(l,c,h){this._ngZone=l,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zy||(function XS(s){Zy=s}(h),h.addToWindow(c)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hs.assertNotInAngularZone(),ds(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ds(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Ve(hs),Ve(sI),Ve(iI))},s.\u0275prov=je({token:s,factory:s.\u0275fac}),s})(),sI=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return Zy?.findTestabilityInTree(this,l,c)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=je({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const la=!1;let ua=null;const Qy=new Bn("PlatformDestroyListeners"),eA=new Bn("appBootstrapListener");function Mg(s){const{rootComponent:o,appProviders:l,platformProviders:c}=s;la&&void 0!==o&&function Sw(s){if(function Aw(s){if(!Qe(s))throw new ye(906,`The ${Me(s)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}(s),!Qe(s).standalone)throw new ye(907,`The ${Me(s)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${Me(s)} component has the \`standalone: true\` flag in the decorator.`)}(o);const h=function Jy(s=[]){if(ua)return ua;const o=function tv(s=[],o){return jl.create({name:o,providers:[{provide:fp,useValue:"platform"},{provide:Qy,useValue:new Set([()=>ua=null])},...s]})}(s);return ua=o,function Xy(s){const o=s.get(Ig,null);o&&o.forEach(l=>l())}(o),o}(c),p=function xg(s,o){let l;return l="noop"===s?new Sg:("zone.js"===s?void 0:s)||new hs(o),l}("zone.js",function rv(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}());return p.run(()=>{const C=Dy([{provide:hs,useValue:p},...l||[]],h,"Environment Injector"),I=C.get(Gu,null);if(la&&!I)throw new ye(402,"No `ErrorHandler` found in the Dependency Injection tree.");let T;p.runOutsideAngular(()=>{T=p.onError.subscribe({next:Y=>{I.handleError(Y)}})});const x=()=>C.destroy(),U=h.get(Qy);return U.add(x),C.onDestroy(()=>{T.unsubscribe(),U.delete(x)}),function aI(s,o,l){try{const c=l();return Q_(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(I,p,()=>{const Y=C.get(Sh);return Y.runInitializers(),Y.donePromise.then(()=>{!function cy(s){le(s,"Expected localeId to be defined"),"string"==typeof s&&(yc=s.toLowerCase().replace(/_/g,"-"))}(C.get(oa,mh)||mh);const Ce=C.get(iv);return void 0!==o&&Ce.bootstrap(o),Ce})})})}let iv=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,c,h){this._zone=l,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new N.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),y=new N.y(C=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{hs.assertNotInAngularZone(),ds(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{hs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{I.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ee.T)(p,y.pipe((0,de.B)()))}bootstrap(l,c){la&&this.warnIfDestroyed();const h=l instanceof Cw;if(!this._injector.get(Sh).done){const ne="Cannot bootstrap as there are still asynchronous initializers running."+(!h&&On(l)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new ye(405,la&&ne)}let y;y=h?l:this._injector.get(nh).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const C=function nA(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Jl),T=y.create(jl.NULL,[],c||y.selector,C),x=T.location.nativeElement,U=T.injector.get(rI,null);return U?.registerApplication(x),T.onDestroy(()=>{this.detachView(T.hostView),Rg(this.components,T),U?.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(la&&this.warnIfDestroyed(),this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){la&&this.warnIfDestroyed();const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){la&&this.warnIfDestroyed();const c=l;Rg(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const c=this._injector.get(eA,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return la&&this.warnIfDestroyed(),this._destroyListeners.push(l),()=>Rg(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ye(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){la&&this._destroyed&&console.warn(be(406,"This instance of the `ApplicationRef` has already been destroyed."))}}return s.\u0275fac=function(l){return new(l||s)(Ve(hs),Ve(wo),Ve(Gu))},s.\u0275prov=je({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Rg(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}function ov(){return!1}let oA=(()=>{class s{}return s.__NG_ELEMENT_ID__=aA,s})();function aA(s){return function lA(s,o,l){if(Oo(s)&&!l){const c=dn(s.index,o);return new Op(c,c)}return 47&s.type?new Op(o[Wr],o):null}(kr(),ke(),16==(16&s))}class dv{constructor(){}supports(o){return wi(o)}create(o){return new Fg(o)}}const Wa=(s,o)=>o;class Fg{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Wa}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,h=0,p=null;for(;l||c;){const y=!c||l&&l.currentIndex<dI(c,h,p)?l:c,C=dI(y,h,p),I=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const T=C-h,x=I-h;if(T!=x){for(let Y=0;Y<T;Y++){const ne=Y<p.length?p[Y]:p[Y]=0,Ce=ne+Y;x<=Ce&&Ce<T&&(p[Y]=ne+1)}p[y.previousIndex]=x-T}}C!==I&&o(y,C,I)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!wi(o))throw new ye(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)p=o[C],y=this._trackByFn(C,p),null!==l&&Object.is(l.trackById,y)?(c&&(l=this._verifyReinsertion(l,p,y,C)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,C),c=!0),l=l._next}else h=0,function La(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Symbol.iterator]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,C=>{y=this._trackByFn(h,C),null!==l&&Object.is(l.trackById,y)?(c&&(l=this._verifyReinsertion(l,C,y,h)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,y,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,h)):o=this._addAfter(new Lg(l,c),p,h),o}_verifyReinsertion(o,l,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new cI),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Lg{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class cI{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new gA,this.map.set(l,c)),c.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dI(s,o,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+o+h}class hv{constructor(){}supports(o){return o instanceof Map||V(o)}create(){return new fv}}class fv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||V(o)))throw new ye(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const c=new mA(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class mA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ca(){return new su([new dv])}let su=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||ca()),deps:[[s,new Su,new Da]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new ye(901,!1)}}return s.\u0275prov=je({token:s,providedIn:"root",factory:ca}),s})();function hI(){return new pv([new hv])}let pv=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||hI()),deps:[[s,new Su,new Da]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(c)return c;throw new ye(901,!1)}}return s.\u0275prov=je({token:s,providedIn:"root",factory:hI}),s})();function Fc(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(pt,Te,F)=>{F.d(Te,{Z:()=>Be});var d=F(2090),$=F(4859),N=F(9681),ee=F(1877);class de{constructor(ye,be){this._delegate=ye,this.firebase=be,(0,N._addComponent)(ye,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ye,be=N._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(ye);return!Me.isInitialized()&&"EXPLICIT"===(null===(Ae=Me.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:be})}_removeServiceInstance(ye,be=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(be)}_addComponent(ye){(0,N._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,N._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function me(){const nt=function fe(nt){const ye={},be={__esModule:!0,initializeApp:function xe(J,se={}){const Ee=N.initializeApp(J,se);if((0,d.r3)(ye,Ee.name))return ye[Ee.name];const Xe=new nt(Ee,be);return ye[Ee.name]=Xe,Xe},app:Me,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function De(J){const se=J.name,Ee=se.replace("-compat","");if(N._registerComponent(J)&&"PUBLIC"===J.type){const Xe=(We=Me())=>{if("function"!=typeof We[Ee])throw _e.create("invalid-app-argument",{appName:se});return We[Ee]()};void 0!==J.serviceProps&&(0,d.ZB)(Xe,J.serviceProps),be[Ee]=Xe,nt.prototype[Ee]=function(...We){return this._getService.bind(this,se).apply(this,J.multipleInstances?We:[])}}return"PUBLIC"===J.type?be[Ee]:null},removeApp:function Ae(J){delete ye[J]},useAsService:function Ge(J,se){return"serverAuth"===se?null:se},modularAPIs:N}};function Me(J){if(!(0,d.r3)(ye,J=J||N._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:J});return ye[J]}return be.default=be,Object.defineProperty(be,"apps",{get:function Re(){return Object.keys(ye).map(J=>ye[J])}}),Me.App=nt,be}(de);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ye(be){(0,d.ZB)(nt,be)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),nt}(),W=new ee.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=G;!function ve(nt){(0,N.registerVersion)("@firebase/app-compat","0.2.7",nt)}()},9681:(pt,Te,F)=>{F.r(Te),F.d(Te,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>Pn,_DEFAULT_ENTRY_NAME:()=>re,_addComponent:()=>ze,_addOrOverwriteComponent:()=>Le,_apps:()=>le,_clearComponents:()=>_t,_components:()=>ie,_getProvider:()=>je,_registerComponent:()=>Ze,_removeServiceInstance:()=>en,deleteApp:()=>$n,getApp:()=>vn,getApps:()=>wn,initializeApp:()=>In,onLog:()=>ot,registerVersion:()=>bn,setLogLevel:()=>Jn});var d=F(5861),$=F(4859),N=F(1877),ee=F(2090),de=F(8766);class ae{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(rt=>{if(function _e(Ve){return"VERSION"===Ve.getComponent()?.type}(rt)){const yt=rt.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(rt=>rt).join(" ")}}const fe="@firebase/app",G=new N.Yd("@firebase/app"),re="[DEFAULT]",oe={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},le=new Map,ie=new Map;function ze(Ve,Ie){try{Ve.container.addComponent(Ie)}catch(rt){G.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Ve.name}`,rt)}}function Le(Ve,Ie){Ve.container.addOrOverwriteComponent(Ie)}function Ze(Ve){const Ie=Ve.name;if(ie.has(Ie))return G.debug(`There were multiple attempts to register component ${Ie}.`),!1;ie.set(Ie,Ve);for(const rt of le.values())ze(rt,Ve);return!0}function je(Ve,Ie){const rt=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return rt&&rt.triggerHeartbeat(),Ve.container.getProvider(Ie)}function en(Ve,Ie,rt=re){je(Ve,Ie).clearInstance(rt)}function _t(){ie.clear()}const zt=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kt{constructor(Ie,rt,yt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},rt),this._name=rt.name,this._automaticDataCollectionEnabled=rt.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const Pn="9.19.1";function In(Ve,Ie={}){let rt=Ve;"object"!=typeof Ie&&(Ie={name:Ie});const yt=Object.assign({name:re,automaticDataCollectionEnabled:!1},Ie),At=yt.name;if("string"!=typeof At||!At)throw zt.create("bad-app-name",{appName:String(At)});if(rt||(rt=(0,ee.aH)()),!rt)throw zt.create("no-options");const Gt=le.get(At);if(Gt){if((0,ee.vZ)(rt,Gt.options)&&(0,ee.vZ)(yt,Gt.config))return Gt;throw zt.create("duplicate-app",{appName:At})}const Vn=new $.H0(At);for(const H of ie.values())Vn.addComponent(H);const z=new Kt(rt,yt,Vn);return le.set(At,z),z}function vn(Ve=re){const Ie=le.get(Ve);if(!Ie&&Ve===re)return In();if(!Ie)throw zt.create("no-app",{appName:Ve});return Ie}function wn(){return Array.from(le.values())}function $n(Ve){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(Ve){const Ie=Ve.name;le.has(Ie)&&(le.delete(Ie),yield Promise.all(Ve.container.getProviders().map(rt=>rt.delete())),Ve.isDeleted=!0)})).apply(this,arguments)}function bn(Ve,Ie,rt){var yt;let At=null!==(yt=oe[Ve])&&void 0!==yt?yt:Ve;rt&&(At+=`-${rt}`);const Gt=At.match(/\s|\//),Vn=Ie.match(/\s|\//);if(Gt||Vn){const z=[`Unable to register library "${At}" with version "${Ie}":`];return Gt&&z.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Gt&&Vn&&z.push("and"),Vn&&z.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void G.warn(z.join(" "))}Ze(new $.wA(`${At}-version`,()=>({library:At,version:Ie}),"VERSION"))}function ot(Ve,Ie){if(null!==Ve&&"function"!=typeof Ve)throw zt.create("invalid-log-argument");(0,N.Am)(Ve,Ie)}function Jn(Ve){(0,N.Ub)(Ve)}const ur="firebase-heartbeat-database",Wn=1,qn="firebase-heartbeat-store";let Hn=null;function bt(){return Hn||(Hn=(0,de.X3)(ur,Wn,{upgrade:(Ve,Ie)=>{0===Ie&&Ve.createObjectStore(qn)}}).catch(Ve=>{throw zt.create("idb-open",{originalErrorMessage:Ve.message})})),Hn}function Et(){return(Et=(0,d.Z)(function*(Ve){try{return(yield bt()).transaction(qn).objectStore(qn).get(_n(Ve))}catch(Ie){if(Ie instanceof ee.ZR)G.warn(Ie.message);else{const rt=zt.create("idb-get",{originalErrorMessage:Ie?.message});G.warn(rt.message)}}})).apply(this,arguments)}function hn(Ve,Ie){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(Ve,Ie){try{const yt=(yield bt()).transaction(qn,"readwrite");return yield yt.objectStore(qn).put(Ie,_n(Ve)),yt.done}catch(rt){if(rt instanceof ee.ZR)G.warn(rt.message);else{const yt=zt.create("idb-set",{originalErrorMessage:rt?.message});G.warn(yt.message)}}})).apply(this,arguments)}function _n(Ve){return`${Ve.name}!${Ve.options.appId}`}class Sr{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const rt=this.container.getProvider("app").getImmediate();this._storage=new Vt(rt),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var Ie=this;return(0,d.Z)(function*(){const yt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Rt();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==At&&!Ie._heartbeatsCache.heartbeats.some(Gt=>Gt.date===At))return Ie._heartbeatsCache.heartbeats.push({date:At,agent:yt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Gt=>{const Vn=new Date(Gt.date).valueOf();return Date.now()-Vn<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,d.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const rt=Rt(),{heartbeatsToSend:yt,unsentEntries:At}=function _r(Ve,Ie=1024){const rt=[];let yt=Ve.slice();for(const At of Ve){const Gt=rt.find(Vn=>Vn.agent===At.agent);if(Gt){if(Gt.dates.push(At.date),yr(rt)>Ie){Gt.dates.pop();break}}else if(rt.push({agent:At.agent,dates:[At.date]}),yr(rt)>Ie){rt.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:rt,unsentEntries:yt}}(Ie._heartbeatsCache.heartbeats),Gt=(0,ee.L)(JSON.stringify({version:2,heartbeats:yt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=rt,At.length>0?(Ie._heartbeatsCache.heartbeats=At,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Gt})()}}function Rt(){return(new Date).toISOString().substring(0,10)}class Vt{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,d.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function ft(Ve){return Et.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var rt=this;return(0,d.Z)(function*(){var yt;if(yield rt._canUseIndexedDBPromise){const Gt=yield rt.read();return hn(rt.app,{lastSentHeartbeatDate:null!==(yt=Ie.lastSentHeartbeatDate)&&void 0!==yt?yt:Gt.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var rt=this;return(0,d.Z)(function*(){var yt;if(yield rt._canUseIndexedDBPromise){const Gt=yield rt.read();return hn(rt.app,{lastSentHeartbeatDate:null!==(yt=Ie.lastSentHeartbeatDate)&&void 0!==yt?yt:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...Ie.heartbeats]})}})()}}function yr(Ve){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Ve})).length}!function Ln(Ve){Ze(new $.wA("platform-logger",Ie=>new ae(Ie),"PRIVATE")),Ze(new $.wA("heartbeat",Ie=>new Sr(Ie),"PRIVATE")),bn(fe,"0.9.7",Ve),bn(fe,"0.9.7","esm2017"),bn("fire-js","")}("")},4859:(pt,Te,F)=>{F.d(Te,{H0:()=>fe,wA:()=>N,zt:()=>de});var d=F(5861),$=F(2090);class N{constructor(G,W,Q){this.name=G,this.instanceFactory=W,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ee="[DEFAULT]";class de{constructor(G,W){this.name=G,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const W=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(W)){const Q=new $.BH;if(this.instancesDeferred.set(W,Q),this.isInitialized(W)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:W});Oe&&Q.resolve(Oe)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(G){var W;const Q=this.normalizeInstanceIdentifier(G?.identifier),Oe=null!==(W=G?.optional)&&void 0!==W&&W;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(ve){if(Oe)return null;throw ve}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function _e(me){return"EAGER"===me.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[W,Q]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(W);try{const ve=this.getOrInitializeService({instanceIdentifier:Oe});Q.resolve(ve)}catch{}}}}clearInstance(G=ee){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,d.Z)(function*(){const W=Array.from(G.instances.values());yield Promise.all([...W.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...W.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ee){return this.instances.has(G)}getOptions(G=ee){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:W={}}=G,Q=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:Q,options:W});for(const[ve,Be]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(ve)&&Be.resolve(Oe);return Oe}onInit(G,W){var Q;const Oe=this.normalizeInstanceIdentifier(W),ve=null!==(Q=this.onInitCallbacks.get(Oe))&&void 0!==Q?Q:new Set;ve.add(G),this.onInitCallbacks.set(Oe,ve);const Be=this.instances.get(Oe);return Be&&G(Be,Oe),()=>{ve.delete(G)}}invokeOnInitCallbacks(G,W){const Q=this.onInitCallbacks.get(W);if(Q)for(const Oe of Q)try{Oe(G,W)}catch{}}getOrInitializeService({instanceIdentifier:G,options:W={}}){let Q=this.instances.get(G);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(me=G,me===ee?void 0:me),options:W}),this.instances.set(G,Q),this.instancesOptions.set(G,W),this.invokeOnInitCallbacks(Q,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Q)}catch{}var me;return Q||null}normalizeInstanceIdentifier(G=ee){return this.component?this.component.multipleInstances?G:ee:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const W=this.getProvider(G.name);if(W.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);W.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const W=new de(G,this);return this.providers.set(G,W),W}getProviders(){return Array.from(this.providers.values())}}},2833:(pt,Te,F)=>{var d=F(5861),$=F(9681),N=F(4859),ee=F(2090),de=F(8766);const ae="@firebase/installations",_e="0.6.4",fe=1e4,me=`w:${_e}`,G="FIS_v2",W="https://firebaseinstallations.googleapis.com/v1",Q=36e5,nt=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ye(X){return X instanceof ee.ZR&&X.code.includes("request-failed")}function be({projectId:X}){return`${W}/projects/${X}/installations`}function Ae(X){return{token:X.token,requestStatus:2,expiresIn:se(X.expiresIn),creationTime:Date.now()}}function Me(X,we){return xe.apply(this,arguments)}function xe(){return(xe=(0,d.Z)(function*(X,we){const Qe=(yield we.json()).error;return nt.create("request-failed",{requestName:X,serverCode:Qe.code,serverMessage:Qe.message,serverStatus:Qe.status})})).apply(this,arguments)}function Re({apiKey:X}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":X})}function Ge(X){return J.apply(this,arguments)}function J(){return(J=(0,d.Z)(function*(X){const we=yield X();return we.status>=500&&we.status<600?X():we})).apply(this,arguments)}function se(X){return Number(X.replace("s","000"))}function We(){return(We=(0,d.Z)(function*({appConfig:X,heartbeatServiceProvider:we},{fid:He}){const Qe=be(X),Zt=Re(X),$t=we.getImmediate({optional:!0});if($t){const Pr=yield $t.getHeartbeatsHeader();Pr&&Zt.append("x-firebase-client",Pr)}const En={method:"POST",headers:Zt,body:JSON.stringify({fid:He,authVersion:G,appId:X.appId,sdkVersion:me})},Ai=yield Ge(()=>fetch(Qe,En));if(Ai.ok){const Pr=yield Ai.json();return{fid:Pr.fid||He,registrationStatus:2,refreshToken:Pr.refreshToken,authToken:Ae(Pr.authToken)}}throw yield Me("Create Installation",Ai)})).apply(this,arguments)}function Ct(X){return new Promise(we=>{setTimeout(we,X)})}const mn=/^[cdef][\w-]{21}$/,jn="";function Rn(){try{const X=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(X),X[0]=112+X[0]%16;const He=function ui(X){return function tt(X){return btoa(String.fromCharCode(...X)).replace(/\+/g,"-").replace(/\//g,"_")}(X).substr(0,22)}(X);return mn.test(He)?He:jn}catch{return jn}}function re(X){return`${X.appName}!${X.appId}`}const oe=new Map;function le(X,we){const He=re(X);Le(He,we),function Ze(X,we){const He=function en(){return!je&&"BroadcastChannel"in self&&(je=new BroadcastChannel("[Firebase] FID Change"),je.onmessage=X=>{Le(X.data.key,X.data.fid)}),je}();He&&He.postMessage({key:X,fid:we}),function _t(){0===oe.size&&je&&(je.close(),je=null)}()}(He,we)}function Le(X,we){const He=oe.get(X);if(He)for(const Qe of He)Qe(we)}let je=null;const Ht="firebase-installations-database",zt=1,Kt="firebase-installations-store";let Pn=null;function In(){return Pn||(Pn=(0,de.X3)(Ht,zt,{upgrade:(X,we)=>{0===we&&X.createObjectStore(Kt)}})),Pn}function vn(X,we){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.Z)(function*(X,we){const He=re(X),Zt=(yield In()).transaction(Kt,"readwrite"),$t=Zt.objectStore(Kt),On=yield $t.get(He);return yield $t.put(we,He),yield Zt.done,(!On||On.fid!==we.fid)&&le(X,we.fid),we})).apply(this,arguments)}function $n(X){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(X){const we=re(X),Qe=(yield In()).transaction(Kt,"readwrite");yield Qe.objectStore(Kt).delete(we),yield Qe.done})).apply(this,arguments)}function bn(X,we){return ot.apply(this,arguments)}function ot(){return(ot=(0,d.Z)(function*(X,we){const He=re(X),Zt=(yield In()).transaction(Kt,"readwrite"),$t=Zt.objectStore(Kt),On=yield $t.get(He),En=we(On);return void 0===En?yield $t.delete(He):yield $t.put(En,He),yield Zt.done,En&&(!On||On.fid!==En.fid)&&le(X,En.fid),En})).apply(this,arguments)}function Jn(X){return ur.apply(this,arguments)}function ur(){return ur=(0,d.Z)(function*(X){let we;const He=yield bn(X.appConfig,Qe=>{const Zt=function Wn(X){return ln(X||{fid:Rn(),registrationStatus:0})}(Qe),$t=function qn(X,we){if(0===we.registrationStatus){if(!navigator.onLine)return{installationEntry:we,registrationPromise:Promise.reject(nt.create("app-offline"))};const He={fid:we.fid,registrationStatus:1,registrationTime:Date.now()},Qe=function Hn(X,we){return bt.apply(this,arguments)}(X,He);return{installationEntry:He,registrationPromise:Qe}}return 1===we.registrationStatus?{installationEntry:we,registrationPromise:ft(X)}:{installationEntry:we}}(X,Zt);return we=$t.registrationPromise,$t.installationEntry});return He.fid===jn?{installationEntry:yield we}:{installationEntry:He,registrationPromise:we}}),ur.apply(this,arguments)}function bt(){return bt=(0,d.Z)(function*(X,we){try{const He=yield function Xe(X,we){return We.apply(this,arguments)}(X,we);return vn(X.appConfig,He)}catch(He){throw ye(He)&&409===He.customData.serverCode?yield $n(X.appConfig):yield vn(X.appConfig,{fid:we.fid,registrationStatus:0}),He}}),bt.apply(this,arguments)}function ft(X){return Et.apply(this,arguments)}function Et(){return(Et=(0,d.Z)(function*(X){let we=yield hn(X.appConfig);for(;1===we.registrationStatus;)yield Ct(100),we=yield hn(X.appConfig);if(0===we.registrationStatus){const{installationEntry:He,registrationPromise:Qe}=yield Jn(X);return Qe||He}return we})).apply(this,arguments)}function hn(X){return bn(X,we=>{if(!we)throw nt.create("installation-not-found");return ln(we)})}function ln(X){return function _n(X){return 1===X.registrationStatus&&X.registrationTime+fe<Date.now()}(X)?{fid:X.fid,registrationStatus:0}:X}function Xn(){return(Xn=(0,d.Z)(function*({appConfig:X,heartbeatServiceProvider:we},He){const Qe=function Sr(X,{fid:we}){return`${be(X)}/${we}/authTokens:generate`}(X,He),Zt=function De(X,{refreshToken:we}){const He=Re(X);return He.append("Authorization",function Ee(X){return`${G} ${X}`}(we)),He}(X,He),$t=we.getImmediate({optional:!0});if($t){const Pr=yield $t.getHeartbeatsHeader();Pr&&Zt.append("x-firebase-client",Pr)}const En={method:"POST",headers:Zt,body:JSON.stringify({installation:{sdkVersion:me,appId:X.appId}})},Ai=yield Ge(()=>fetch(Qe,En));if(Ai.ok)return Ae(yield Ai.json());throw yield Me("Generate Auth Token",Ai)})).apply(this,arguments)}function Rt(X){return _r.apply(this,arguments)}function _r(){return _r=(0,d.Z)(function*(X,we=!1){let He;const Qe=yield bn(X.appConfig,$t=>{if(!rt($t))throw nt.create("not-registered");const On=$t.authToken;if(!we&&function yt(X){return 2===X.requestStatus&&!function At(X){const we=Date.now();return we<X.creationTime||X.creationTime+X.expiresIn<we+Q}(X)}(On))return $t;if(1===On.requestStatus)return He=function Vt(X,we){return yr.apply(this,arguments)}(X,we),$t;{if(!navigator.onLine)throw nt.create("app-offline");const En=function Gt(X){const we={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},X),{authToken:we})}($t);return He=function Ve(X,we){return Ie.apply(this,arguments)}(X,En),En}});return He?yield He:Qe.authToken}),_r.apply(this,arguments)}function yr(){return(yr=(0,d.Z)(function*(X,we){let He=yield Ln(X.appConfig);for(;1===He.authToken.requestStatus;)yield Ct(100),He=yield Ln(X.appConfig);const Qe=He.authToken;return 0===Qe.requestStatus?Rt(X,we):Qe})).apply(this,arguments)}function Ln(X){return bn(X,we=>{if(!rt(we))throw nt.create("not-registered");return function Vn(X){return 1===X.requestStatus&&X.requestTime+fe<Date.now()}(we.authToken)?Object.assign(Object.assign({},we),{authToken:{requestStatus:0}}):we})}function Ie(){return Ie=(0,d.Z)(function*(X,we){try{const He=yield function zn(X,we){return Xn.apply(this,arguments)}(X,we),Qe=Object.assign(Object.assign({},we),{authToken:He});return yield vn(X.appConfig,Qe),He}catch(He){if(!ye(He)||401!==He.customData.serverCode&&404!==He.customData.serverCode){const Qe=Object.assign(Object.assign({},we),{authToken:{requestStatus:0}});yield vn(X.appConfig,Qe)}else yield $n(X.appConfig);throw He}}),Ie.apply(this,arguments)}function rt(X){return void 0!==X&&2===X.registrationStatus}function H(){return(H=(0,d.Z)(function*(X){const we=X,{installationEntry:He,registrationPromise:Qe}=yield Jn(we);return Qe?Qe.catch(console.error):Rt(we).catch(console.error),He.fid})).apply(this,arguments)}function A(){return A=(0,d.Z)(function*(X,we=!1){const He=X;return yield function D(X){return j.apply(this,arguments)}(He),(yield Rt(He,we)).token}),A.apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(X){const{registrationPromise:we}=yield Jn(X);we&&(yield we)})).apply(this,arguments)}function Dn(X){return nt.create("missing-app-config-values",{valueName:X})}const mi="installations",Po=X=>{const we=X.getProvider("app").getImmediate(),He=function Dt(X){if(!X||!X.options)throw Dn("App Configuration");if(!X.name)throw Dn("App Name");const we=["projectId","apiKey","appId"];for(const He of we)if(!X.options[He])throw Dn(He);return{appName:X.name,projectId:X.options.projectId,apiKey:X.options.apiKey,appId:X.options.appId}}(we);return{app:we,appConfig:He,heartbeatServiceProvider:(0,$._getProvider)(we,"heartbeat"),_delete:()=>Promise.resolve()}},ao=X=>{const we=X.getProvider("app").getImmediate(),He=(0,$._getProvider)(we,mi).getImmediate();return{getId:()=>function z(X){return H.apply(this,arguments)}(He),getToken:Zt=>function P(X){return A.apply(this,arguments)}(He,Zt)}};(function ar(){(0,$._registerComponent)(new N.wA(mi,Po,"PUBLIC")),(0,$._registerComponent)(new N.wA("installations-internal",ao,"PRIVATE"))})(),(0,$.registerVersion)(ae,_e),(0,$.registerVersion)(ae,_e,"esm2017")},1877:(pt,Te,F)=>{F.d(Te,{Am:()=>me,Ub:()=>fe,Yd:()=>_e,in:()=>$});const d=[];var $=(()=>{return(G=$||($={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",$;var G})();const N={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ee=$.INFO,de={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ae=(G,W,...Q)=>{if(W<G.logLevel)return;const Oe=(new Date).toISOString(),ve=de[W];if(!ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[ve](`[${Oe}]  ${G.name}:`,...Q)};class _e{constructor(W){this.name=W,this._logLevel=ee,this._logHandler=ae,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in $))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?N[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...W),this._logHandler(this,$.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...W),this._logHandler(this,$.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,$.INFO,...W),this._logHandler(this,$.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,$.WARN,...W),this._logHandler(this,$.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...W),this._logHandler(this,$.ERROR,...W)}}function fe(G){d.forEach(W=>{W.setLogLevel(G)})}function me(G,W){for(const Q of d){let Oe=null;W&&W.level&&(Oe=N[W.level]),Q.userLogHandler=null===G?null:(ve,Be,...nt)=>{const ye=nt.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Be>=(Oe??ve.logLevel)&&G({level:$[Be].toLowerCase(),message:ye,args:nt,type:ve.name})}}}},3008:(pt,Te,F)=>{F.d(Te,{IH:()=>_r,Gb:()=>yr,Kz:()=>Gt,Iv:()=>Ie});var d=F(5861),$=F(9681),N=F(1877),ee=F(2090),de=F(4859);F(2833);const _e="analytics",fe="firebase_id",me="origin",G=6e4,W="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Q="https://www.googletagmanager.com/gtag/js",Oe=new N.Yd("@firebase/analytics"),Be=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function nt(A){if(!A.startsWith(Q)){const D=Be.create("invalid-gtag-resource",{gtagURL:A});return Oe.warn(D.message),""}return A}function ye(A){return Promise.all(A.map(D=>D.catch(j=>j)))}function Re(){return(Re=(0,d.Z)(function*(A,D,j,K,ge,$e){const Ye=K[ge];try{if(Ye)yield D[Ye];else{const et=(yield ye(j)).find(kt=>kt.measurementId===ge);et&&(yield D[et.appId])}}catch(dt){Oe.error(dt)}A("config",ge,$e)})).apply(this,arguments)}function Ge(){return(Ge=(0,d.Z)(function*(A,D,j,K,ge){try{let $e=[];if(ge&&ge.send_to){let Ye=ge.send_to;Array.isArray(Ye)||(Ye=[Ye]);const dt=yield ye(j);for(const et of Ye){const kt=dt.find(Dn=>Dn.measurementId===et),Dt=kt&&D[kt.appId];if(!Dt){$e=[];break}$e.push(Dt)}}0===$e.length&&($e=Object.values(D)),yield Promise.all($e),A("event",K,ge||{})}catch($e){Oe.error($e)}})).apply(this,arguments)}const Xe=30,tt=new class Ct{constructor(D={},j=1e3){this.throttleMetadata=D,this.intervalMillis=j}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,j){this.throttleMetadata[D]=j}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function mn(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Rn(){return(Rn=(0,d.Z)(function*(A){var D;const{appId:j,apiKey:K}=A,ge={method:"GET",headers:mn(K)},$e=W.replace("{app-id}",j),Ye=yield fetch($e,ge);if(200!==Ye.status&&304!==Ye.status){let dt="";try{const et=yield Ye.json();null!==(D=et.error)&&void 0!==D&&D.message&&(dt=et.error.message)}catch{}throw Be.create("config-fetch-failed",{httpStatus:Ye.status,responseMessage:dt})}return Ye.json()})).apply(this,arguments)}function re(){return(re=(0,d.Z)(function*(A,D=tt,j){const{appId:K,apiKey:ge,measurementId:$e}=A.options;if(!K)throw Be.create("no-app-id");if(!ge){if($e)return{measurementId:$e,appId:K};throw Be.create("no-api-key")}const Ye=D.getThrottleMetadata(K)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dt=new Le;return setTimeout((0,d.Z)(function*(){dt.abort()}),void 0!==j?j:G),oe({appId:K,apiKey:ge,measurementId:$e},Ye,dt,D)})).apply(this,arguments)}function oe(A,D,j){return le.apply(this,arguments)}function le(){return le=(0,d.Z)(function*(A,{throttleEndTimeMillis:D,backoffCount:j},K,ge=tt){var $e;const{appId:Ye,measurementId:dt}=A;try{yield function ie(A,D){return new Promise((j,K)=>{const ge=Math.max(D-Date.now(),0),$e=setTimeout(j,ge);A.addEventListener(()=>{clearTimeout($e),K(Be.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(K,D)}catch(et){if(dt)return Oe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${et?.message}]`),{appId:Ye,measurementId:dt};throw et}try{const et=yield function jn(A){return Rn.apply(this,arguments)}(A);return ge.deleteThrottleMetadata(Ye),et}catch(et){const kt=et;if(!function ze(A){if(!(A instanceof ee.ZR&&A.customData))return!1;const D=Number(A.customData.httpStatus);return 429===D||500===D||503===D||504===D}(kt)){if(ge.deleteThrottleMetadata(Ye),dt)return Oe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${kt?.message}]`),{appId:Ye,measurementId:dt};throw et}const Dt=503===Number(null===($e=kt?.customData)||void 0===$e?void 0:$e.httpStatus)?(0,ee.$s)(j,ge.intervalMillis,Xe):(0,ee.$s)(j,ge.intervalMillis),Dn={throttleEndTimeMillis:Date.now()+Dt,backoffCount:j+1};return ge.setThrottleMetadata(Ye,Dn),Oe.debug(`Calling attemptFetch again in ${Dt} millis`),oe(A,Dn,K,ge)}}),le.apply(this,arguments)}class Le{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Ze,$n;function en(){return(en=(0,d.Z)(function*(A,D,j,K,ge){if(ge&&ge.global)A("event",j,K);else{const $e=yield D;A("event",j,Object.assign(Object.assign({},K),{send_to:$e}))}})).apply(this,arguments)}function Kt(){return(Kt=(0,d.Z)(function*(A,D,j,K){if(K&&K.global)return A("set",{user_id:j}),Promise.resolve();A("config",yield D,{update:!0,user_id:j})})).apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(){if(!(0,ee.hl)())return Oe.warn(Be.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(A){return Oe.warn(Be.create("indexeddb-unavailable",{errorInfo:A?.toString()}).message),!1}return!0})).apply(this,arguments)}function Wn(){return Wn=(0,d.Z)(function*(A,D,j,K,ge,$e,Ye){var dt;const et=function ui(A){return re.apply(this,arguments)}(A);et.then(zr=>{j[zr.measurementId]=zr.appId,A.options.measurementId&&zr.measurementId!==A.options.measurementId&&Oe.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${zr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zr=>Oe.error(zr)),D.push(et);const kt=function ot(){return Jn.apply(this,arguments)}().then(zr=>{if(zr)return K.getId()}),[Dt,Dn]=yield Promise.all([et,kt]);(function Ee(A){const D=window.document.getElementsByTagName("script");for(const j of Object.values(D))if(j.src&&j.src.includes(Q)&&j.src.includes(A))return j;return null})($e)||function Ae(A,D){const j=function be(A,D){let j;return window.trustedTypes&&(j=window.trustedTypes.createPolicy(A,D)),j}("firebase-js-sdk-policy",{createScriptURL:nt}),K=document.createElement("script"),ge=`${Q}?l=${A}&id=${D}`;K.src=j?j?.createScriptURL(ge):ge,K.async=!0,document.head.appendChild(K)}($e,Dt.measurementId),$n&&(ge("consent","default",$n),function pn(A){$n=A}(void 0)),ge("js",new Date);const mi=null!==(dt=Ye?.config)&&void 0!==dt?dt:{};return mi[me]="firebase",mi.update=!0,null!=Dn&&(mi[fe]=Dn),ge("config",Dt.measurementId,mi),Ze&&(ge("set",Ze),function bn(A){Ze=A}(void 0)),Dt.measurementId}),Wn.apply(this,arguments)}class qn{constructor(D){this.app=D}_delete(){return delete Hn[this.app.options.appId],Promise.resolve()}}let Hn={},bt=[];const ft={};let ln,_n,Et="dataLayer",hn="gtag",zn=!1;function Rt(A,D,j){!function Sr(){const A=[];if((0,ee.ru)()&&A.push("This is a browser extension environment."),(0,ee.zI)()||A.push("Cookies are not available."),A.length>0){const D=A.map((K,ge)=>`(${ge+1}) ${K}`).join(" "),j=Be.create("invalid-analytics-context",{errorInfo:D});Oe.warn(j.message)}}();const K=A.options.appId;if(!K)throw Be.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw Be.create("no-api-key");Oe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hn[K])throw Be.create("already-exists",{id:K});if(!zn){!function Me(A){let D=[];Array.isArray(window[A])?D=window[A]:window[A]=D}(Et);const{wrappedGtag:$e,gtagCore:Ye}=function se(A,D,j,K,ge){let $e=function(...Ye){window[K].push(arguments)};return window[ge]&&"function"==typeof window[ge]&&($e=window[ge]),window[ge]=function J(A,D,j,K){function $e(){return $e=(0,d.Z)(function*(Ye,dt,et){try{"event"===Ye?yield function De(A,D,j,K,ge){return Ge.apply(this,arguments)}(A,D,j,dt,et):"config"===Ye?yield function xe(A,D,j,K,ge,$e){return Re.apply(this,arguments)}(A,D,j,K,dt,et):"consent"===Ye?A("consent","update",et):A("set",dt)}catch(kt){Oe.error(kt)}}),$e.apply(this,arguments)}return function ge(Ye,dt,et){return $e.apply(this,arguments)}}($e,A,D,j),{gtagCore:$e,wrappedGtag:window[ge]}}(Hn,bt,ft,Et,hn);_n=$e,ln=Ye,zn=!0}return Hn[K]=function ur(A,D,j,K,ge,$e,Ye){return Wn.apply(this,arguments)}(A,bt,ft,D,ln,Et,j),new qn(A)}function _r(A=(0,$.getApp)()){A=(0,ee.m9)(A);const D=(0,$._getProvider)(A,_e);return D.isInitialized()?D.getImmediate():function Vt(A,D={}){const j=(0,$._getProvider)(A,_e);if(j.isInitialized()){const ge=j.getImmediate();if((0,ee.vZ)(D,j.getOptions()))return ge;throw Be.create("already-initialized")}return j.initialize({options:D})}(A)}function yr(){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}function Ie(A,D,j){A=(0,ee.m9)(A),function zt(A,D,j,K){return Kt.apply(this,arguments)}(_n,Hn[A.app.options.appId],D,j).catch(K=>Oe.error(K))}function Gt(A,D,j,K){A=(0,ee.m9)(A),function je(A,D,j,K,ge){return en.apply(this,arguments)}(_n,Hn[A.app.options.appId],D,j,K).catch(ge=>Oe.error(ge))}const z="@firebase/analytics",H="0.9.5";!function P(){(0,$._registerComponent)(new de.wA(_e,(D,{options:j})=>Rt(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),j),"PUBLIC")),(0,$._registerComponent)(new de.wA("analytics-internal",function A(D){try{const j=D.getProvider(_e).getImmediate();return{logEvent:(K,ge,$e)=>Gt(j,K,ge,$e)}}catch(j){throw Be.create("interop-component-reg-failed",{reason:j})}},"PRIVATE")),(0,$.registerVersion)(z,H),(0,$.registerVersion)(z,H,"esm2017")}()},259:(pt,Te,F)=>{F.d(Te,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=F(9681);(0,d.registerVersion)("firebase","9.19.1","app")},9260:(pt,Te,F)=>{F.d(Te,{Z:()=>d.Z});var d=F(3942);d.Z.registerVersion("firebase","9.19.1","app-compat")},9568:(pt,Te,F)=>{F.r(Te);var d=F(5861),$=F(3942),N=F(3432),ee=F(2090),_e=(F(9681),F(1877),F(4859));function fe(){return window}const me=2e3;function W(){return W=(0,d.Z)(function*(P,A,D){var j;const{BuildInfo:K}=fe();(0,N.ar)(A.sessionId,"AuthEvent did not contain a session ID");const ge=yield function be(P){return Ae.apply(this,arguments)}(A.sessionId),$e={};return(0,N.as)()?$e.ibi=K.packageName:(0,N.at)()?$e.apn=K.packageName:(0,N.au)(P,"operation-not-supported-in-this-environment"),K.displayName&&($e.appDisplayName=K.displayName),$e.sessionId=ge,(0,N.av)(P,D,A.type,void 0,null!==(j=A.eventId)&&void 0!==j?j:void 0,$e)}),W.apply(this,arguments)}function Oe(){return(Oe=(0,d.Z)(function*(P){const{BuildInfo:A}=fe(),D={};(0,N.as)()?D.iosBundleId=A.packageName:(0,N.at)()?D.androidPackageName=A.packageName:(0,N.au)(P,"operation-not-supported-in-this-environment"),yield(0,N.aw)(P,D)})).apply(this,arguments)}function nt(){return(nt=(0,d.Z)(function*(P,A,D){const{cordova:j}=fe();let K=()=>{};try{yield new Promise((ge,$e)=>{let Ye=null;function dt(){var Dt;ge();const Dn=null===(Dt=j.plugins.browsertab)||void 0===Dt?void 0:Dt.close;"function"==typeof Dn&&Dn(),"function"==typeof D?.close&&D.close()}function et(){Ye||(Ye=window.setTimeout(()=>{$e((0,N.ay)(P,"redirect-cancelled-by-user"))},me))}function kt(){"visible"===document?.visibilityState&&et()}A.addPassiveListener(dt),document.addEventListener("resume",et,!1),(0,N.at)()&&document.addEventListener("visibilitychange",kt,!1),K=()=>{A.removePassiveListener(dt),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",kt,!1),Ye&&window.clearTimeout(Ye)}})}finally{K()}})).apply(this,arguments)}function Ae(){return(Ae=(0,d.Z)(function*(P){const A=function Me(P){if((0,N.ar)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const A=new ArrayBuffer(P.length),D=new Uint8Array(A);for(let j=0;j<P.length;j++)D[j]=P.charCodeAt(j);return D}(P),D=yield crypto.subtle.digest("SHA-256",A);return Array.from(new Uint8Array(D)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const xe=20;class Re extends N.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(A=>{this.resolveInialized=A})}addPassiveListener(A){this.passiveListeners.add(A)}removePassiveListener(A){this.passiveListeners.delete(A)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(A){return this.resolveInialized(),this.passiveListeners.forEach(D=>D(A)),super.onEvent(A)}initialized(){var A=this;return(0,d.Z)(function*(){yield A.initPromise})()}}function J(P){return se.apply(this,arguments)}function se(){return(se=(0,d.Z)(function*(P){const A=yield We()._get(Ct(P));return A&&(yield We()._remove(Ct(P))),A})).apply(this,arguments)}function Xe(){const P=[],A="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<xe;D++){const j=Math.floor(Math.random()*A.length);P.push(A.charAt(j))}return P.join("")}function We(){return(0,N.aB)(N.b)}function Ct(P){return(0,N.aC)("authEvent",P.config.apiKey,P.name)}function jn(P){if(!P?.includes("?"))return{};const[A,...D]=P.split("?");return(0,ee.zd)(D.join("?"))}const re=class ui{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aD,this._overrideRedirectResult=N.aE}_initialize(A){var D=this;return(0,d.Z)(function*(){const j=A._key();let K=D.eventManagers.get(j);return K||(K=new Re(A),D.eventManagers.set(j,K),D.attachCallbackListeners(A,K)),K})()}_openPopup(A){(0,N.au)(A,"operation-not-supported-in-this-environment")}_openRedirect(A,D,j,K){var ge=this;return(0,d.Z)(function*(){!function ye(P){var A,D,j,K,ge,$e,Ye,dt,et,kt;const Dt=fe();(0,N.az)("function"==typeof(null===(A=Dt?.universalLinks)||void 0===A?void 0:A.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.az)(typeof(null===(D=Dt?.BuildInfo)||void 0===D?void 0:D.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.az)("function"==typeof(null===(ge=null===(K=null===(j=Dt?.cordova)||void 0===j?void 0:j.plugins)||void 0===K?void 0:K.browsertab)||void 0===ge?void 0:ge.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.az)("function"==typeof(null===(dt=null===(Ye=null===($e=Dt?.cordova)||void 0===$e?void 0:$e.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===dt?void 0:dt.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.az)("function"==typeof(null===(kt=null===(et=Dt?.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===kt?void 0:kt.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(A);const $e=yield ge._initialize(A);yield $e.initialized(),$e.resetRedirect(),(0,N.aF)(),yield ge._originValidation(A);const Ye=function De(P,A,D=null){return{type:A,eventId:D,urlResponse:null,sessionId:Xe(),postBody:null,tenantId:P.tenantId,error:(0,N.ay)(P,"no-auth-event")}}(A,j,K);yield function Ge(P,A){return We()._set(Ct(P),A)}(A,Ye);const dt=yield function G(P,A,D){return W.apply(this,arguments)}(A,Ye,D),et=yield function ve(P){const{cordova:A}=fe();return new Promise(D=>{A.plugins.browsertab.isAvailable(j=>{let K=null;j?A.plugins.browsertab.openUrl(P):K=A.InAppBrowser.open(P,(0,N.ax)()?"_blank":"_system","location=yes"),D(K)})})}(dt);return function Be(P,A,D){return nt.apply(this,arguments)}(A,$e,et)})()}_isIframeWebStorageSupported(A,D){throw new Error("Method not implemented.")}_originValidation(A){const D=A._key();return this.originValidationPromises[D]||(this.originValidationPromises[D]=function Q(P){return Oe.apply(this,arguments)}(A)),this.originValidationPromises[D]}attachCallbackListeners(A,D){const{universalLinks:j,handleOpenURL:K,BuildInfo:ge}=fe(),$e=setTimeout((0,d.Z)(function*(){yield J(A),D.onEvent(oe())}),500),Ye=function(){var kt=(0,d.Z)(function*(Dt){clearTimeout($e);const Dn=yield J(A);let mi=null;Dn&&Dt?.url&&(mi=function Ee(P,A){var D,j;const K=function mn(P){const A=jn(P),D=A.link?decodeURIComponent(A.link):void 0,j=jn(D).link,K=A.deep_link_id?decodeURIComponent(A.deep_link_id):void 0;return jn(K).link||K||j||D||P}(A);if(K.includes("/__/auth/callback")){const ge=jn(K),$e=ge.firebaseError?function tt(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(ge.firebaseError)):null,Ye=null===(j=null===(D=$e?.code)||void 0===D?void 0:D.split("auth/"))||void 0===j?void 0:j[1],dt=Ye?(0,N.ay)(Ye):null;return dt?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:dt,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:K,postBody:null}}return null}(Dn,Dt.url)),D.onEvent(mi||oe())});return function(Dn){return kt.apply(this,arguments)}}();typeof j<"u"&&"function"==typeof j.subscribe&&j.subscribe(null,Ye);const dt=K,et=`${ge.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var kt=(0,d.Z)(function*(Dt){if(Dt.toLowerCase().startsWith(et)&&Ye({url:Dt}),"function"==typeof dt)try{dt(Dt)}catch(Dn){console.error(Dn)}});return function(Dt){return kt.apply(this,arguments)}}()}};function oe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.ay)("no-auth-event")}}const Le=1e3;function Ze(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function en(P=(0,ee.z$)()){return!("file:"!==Ze()&&"ionic:"!==Ze()&&"capacitor:"!==Ze()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pn(){try{const P=self.localStorage,A=N.aK();if(P)return P.setItem(A,"1"),P.removeItem(A),!function Kt(P=(0,ee.z$)()){return function Ht(){return(0,ee.w1)()&&11===document?.documentMode}()||function zt(P=(0,ee.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,ee.hl)()}catch{return In()&&(0,ee.hl)()}return!1}function In(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vn(){return(function je(){return"http:"===Ze()||"https:"===Ze()}()||(0,ee.ru)()||en())&&!function _t(){return(0,ee.b$)()||(0,ee.UG)()}()&&Pn()&&!In()}function wn(){return en()&&typeof document<"u"}function pn(){return(pn=(0,d.Z)(function*(){return!!wn()&&new Promise(P=>{const A=setTimeout(()=>{P(!1)},Le);document.addEventListener("deviceready",()=>{clearTimeout(A),P(!0)})})})).apply(this,arguments)}const ot={LOCAL:"local",NONE:"none",SESSION:"session"},Jn=N.az,ur="persistence";function qn(P){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(P){yield P._initializationPromise;const A=ft(),D=N.aC(ur,P.config.apiKey,P.name);A&&A.setItem(D,P._getPersistence())})).apply(this,arguments)}function ft(){var P;try{return(null===(P=function bn(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const Et=N.az;class hn{constructor(){this.browserResolver=N.aB(N.k),this.cordovaResolver=N.aB(re),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aD,this._overrideRedirectResult=N.aE}_initialize(A){var D=this;return(0,d.Z)(function*(){return yield D.selectUnderlyingResolver(),D.assertedUnderlyingResolver._initialize(A)})()}_openPopup(A,D,j,K){var ge=this;return(0,d.Z)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._openPopup(A,D,j,K)})()}_openRedirect(A,D,j,K){var ge=this;return(0,d.Z)(function*(){return yield ge.selectUnderlyingResolver(),ge.assertedUnderlyingResolver._openRedirect(A,D,j,K)})()}_isIframeWebStorageSupported(A,D){this.assertedUnderlyingResolver._isIframeWebStorageSupported(A,D)}_originValidation(A){return this.assertedUnderlyingResolver._originValidation(A)}get _shouldInitProactively(){return wn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Et(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var A=this;return(0,d.Z)(function*(){if(A.underlyingResolver)return;const D=yield function $n(){return pn.apply(this,arguments)}();A.underlyingResolver=D?A.cordovaResolver:A.browserResolver})()}}function ln(P){return P.unwrap()}function zn(P){return Sr(P)}function Sr(P){const{_tokenResponse:A}=P instanceof ee.ZR?P.customData:P;if(!A)return null;if(!(P instanceof ee.ZR)&&"temporaryProof"in A&&"phoneNumber"in A)return N.P.credentialFromResult(P);const D=A.providerId;if(!D||D===N.p.PASSWORD)return null;let j;switch(D){case N.p.GOOGLE:j=N.U;break;case N.p.FACEBOOK:j=N.Q;break;case N.p.GITHUB:j=N.V;break;case N.p.TWITTER:j=N.Y;break;default:const{oauthIdToken:K,oauthAccessToken:ge,oauthTokenSecret:$e,pendingToken:Ye,nonce:dt}=A;return ge||$e||K||Ye?Ye?D.startsWith("saml.")?N.aN._create(D,Ye):N.K._fromParams({providerId:D,signInMethod:D,pendingToken:Ye,idToken:K,accessToken:ge}):new N.W(D).credential({idToken:K,accessToken:ge,rawNonce:dt}):null}return P instanceof ee.ZR?j.credentialFromError(P):j.credentialFromResult(P)}function Rt(P,A){return A.catch(D=>{throw D instanceof ee.ZR&&function Xn(P,A){var D;const j=null===(D=A.customData)||void 0===D?void 0:D._tokenResponse;if("auth/multi-factor-auth-required"===A?.code)A.resolver=new yr(P,N.ap(P,A));else if(j){const K=Sr(A),ge=A;K&&(ge.credential=K,ge.tenantId=j.tenantId||void 0,ge.email=j.email||void 0,ge.phoneNumber=j.phoneNumber||void 0)}}(P,D),D}).then(D=>{const K=D.user;return{operationType:D.operationType,credential:zn(D),additionalUserInfo:N.an(D),user:Ln.getOrCreate(K)}})}function _r(P,A){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(P,A){const D=yield A;return{verificationId:D.verificationId,confirm:j=>Rt(P,D.confirm(j))}})).apply(this,arguments)}class yr{constructor(A,D){this.resolver=D,this.auth=function _n(P){return P.wrapped()}(A)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(A){return Rt(ln(this.auth),this.resolver.resolveSignIn(A))}}class Ln{constructor(A){this._delegate=A,this.multiFactor=N.aq(A)}static getOrCreate(A){return Ln.USER_MAP.has(A)||Ln.USER_MAP.set(A,new Ln(A)),Ln.USER_MAP.get(A)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(A){return this._delegate.getIdTokenResult(A)}getIdToken(A){return this._delegate.getIdToken(A)}linkAndRetrieveDataWithCredential(A){return this.linkWithCredential(A)}linkWithCredential(A){var D=this;return(0,d.Z)(function*(){return Rt(D.auth,N.$(D._delegate,A))})()}linkWithPhoneNumber(A,D){var j=this;return(0,d.Z)(function*(){return _r(j.auth,N.l(j._delegate,A,D))})()}linkWithPopup(A){var D=this;return(0,d.Z)(function*(){return Rt(D.auth,N.d(D._delegate,A,hn))})()}linkWithRedirect(A){var D=this;return(0,d.Z)(function*(){return yield qn(N.aG(D.auth)),N.g(D._delegate,A,hn)})()}reauthenticateAndRetrieveDataWithCredential(A){return this.reauthenticateWithCredential(A)}reauthenticateWithCredential(A){var D=this;return(0,d.Z)(function*(){return Rt(D.auth,N.a0(D._delegate,A))})()}reauthenticateWithPhoneNumber(A,D){return _r(this.auth,N.r(this._delegate,A,D))}reauthenticateWithPopup(A){return Rt(this.auth,N.e(this._delegate,A,hn))}reauthenticateWithRedirect(A){var D=this;return(0,d.Z)(function*(){return yield qn(N.aG(D.auth)),N.h(D._delegate,A,hn)})()}sendEmailVerification(A){return N.ad(this._delegate,A)}unlink(A){var D=this;return(0,d.Z)(function*(){return yield N.am(D._delegate,A),D})()}updateEmail(A){return N.ai(this._delegate,A)}updatePassword(A){return N.aj(this._delegate,A)}updatePhoneNumber(A){return N.u(this._delegate,A)}updateProfile(A){return N.ah(this._delegate,A)}verifyBeforeUpdateEmail(A,D){return N.ae(this._delegate,A,D)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ln.USER_MAP=new WeakMap;const Ve=N.az;let Ie=(()=>{class P{constructor(D,j){if(this.app=D,j.isInitialized())return this._delegate=j.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=D.options;Ve(K,"invalid-api-key",{appName:D.name}),Ve(K,"invalid-api-key",{appName:D.name});const ge=typeof window<"u"?hn:void 0;this._delegate=j.initialize({options:{persistence:yt(K,D.name),popupRedirectResolver:ge}}),this._delegate._updateErrorMap(N.C),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ln.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(D){this._delegate.languageCode=D}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(D){this._delegate.tenantId=D}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(D,j){N.H(this._delegate,D,j)}applyActionCode(D){return N.a4(this._delegate,D)}checkActionCode(D){return N.a5(this._delegate,D)}confirmPasswordReset(D,j){return N.a3(this._delegate,D,j)}createUserWithEmailAndPassword(D,j){var K=this;return(0,d.Z)(function*(){return Rt(K._delegate,N.a7(K._delegate,D,j))})()}fetchProvidersForEmail(D){return this.fetchSignInMethodsForEmail(D)}fetchSignInMethodsForEmail(D){return N.ac(this._delegate,D)}isSignInWithEmailLink(D){return N.aa(this._delegate,D)}getRedirectResult(){var D=this;return(0,d.Z)(function*(){Ve(vn(),D._delegate,"operation-not-supported-in-this-environment");const j=yield N.j(D._delegate,hn);return j?Rt(D._delegate,Promise.resolve(j)):{credential:null,user:null}})()}addFrameworkForLogging(D){!function le(P,A){(0,N.aG)(P)._logFramework(A)}(this._delegate,D)}onAuthStateChanged(D,j,K){const{next:ge,error:$e,complete:Ye}=rt(D,j,K);return this._delegate.onAuthStateChanged(ge,$e,Ye)}onIdTokenChanged(D,j,K){const{next:ge,error:$e,complete:Ye}=rt(D,j,K);return this._delegate.onIdTokenChanged(ge,$e,Ye)}sendSignInLinkToEmail(D,j){return N.a9(this._delegate,D,j)}sendPasswordResetEmail(D,j){return N.a2(this._delegate,D,j||void 0)}setPersistence(D){var j=this;return(0,d.Z)(function*(){let K;switch(function Wn(P,A){Jn(Object.values(ot).includes(A),P,"invalid-persistence-type"),(0,ee.b$)()?Jn(A!==ot.SESSION,P,"unsupported-persistence-type"):(0,ee.UG)()?Jn(A===ot.NONE,P,"unsupported-persistence-type"):In()?Jn(A===ot.NONE||A===ot.LOCAL&&(0,ee.hl)(),P,"unsupported-persistence-type"):Jn(A===ot.NONE||Pn(),P,"unsupported-persistence-type")}(j._delegate,D),D){case ot.SESSION:K=N.a;break;case ot.LOCAL:K=(yield N.aB(N.i)._isAvailable())?N.i:N.b;break;case ot.NONE:K=N.M;break;default:return N.au("argument-error",{appName:j._delegate.name})}return j._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(D){return this.signInWithCredential(D)}signInAnonymously(){return Rt(this._delegate,N.Z(this._delegate))}signInWithCredential(D){return Rt(this._delegate,N._(this._delegate,D))}signInWithCustomToken(D){return Rt(this._delegate,N.a1(this._delegate,D))}signInWithEmailAndPassword(D,j){return Rt(this._delegate,N.a8(this._delegate,D,j))}signInWithEmailLink(D,j){return Rt(this._delegate,N.ab(this._delegate,D,j))}signInWithPhoneNumber(D,j){return _r(this._delegate,N.s(this._delegate,D,j))}signInWithPopup(D){var j=this;return(0,d.Z)(function*(){return Ve(vn(),j._delegate,"operation-not-supported-in-this-environment"),Rt(j._delegate,N.c(j._delegate,D,hn))})()}signInWithRedirect(D){var j=this;return(0,d.Z)(function*(){return Ve(vn(),j._delegate,"operation-not-supported-in-this-environment"),yield qn(j._delegate),N.f(j._delegate,D,hn)})()}updateCurrentUser(D){return this._delegate.updateCurrentUser(D)}verifyPasswordResetCode(D){return N.a6(this._delegate,D)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=ot,P})();function rt(P,A,D){let j=P;"function"!=typeof P&&({next:j,error:A,complete:D}=P);const K=j;return{next:$e=>K($e&&Ln.getOrCreate($e)),error:A,complete:D}}function yt(P,A){const D=function bt(P,A){const D=ft();if(!D)return[];const j=N.aC(ur,P,A);switch(D.getItem(j)){case ot.NONE:return[N.M];case ot.LOCAL:return[N.i,N.a];case ot.SESSION:return[N.a];default:return[]}}(P,A);if(typeof self<"u"&&!D.includes(N.i)&&D.push(N.i),typeof window<"u")for(const j of[N.b,N.a])D.includes(j)||D.push(j);return D.includes(N.M)||D.push(N.M),D}class At{constructor(){this.providerId="phone",this._delegate=new N.P(ln($.Z.auth()))}static credential(A,D){return N.P.credential(A,D)}verifyPhoneNumber(A,D){return this._delegate.verifyPhoneNumber(A,D)}unwrap(){return this._delegate}}At.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,At.PROVIDER_ID=N.P.PROVIDER_ID;const Gt=N.az;class Vn{constructor(A,D,j=$.Z.app()){var K;Gt(null===(K=j.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:j.name}),this._delegate=new N.R(A,D,j.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(P){P.INTERNAL.registerComponent(new _e.wA("auth-compat",A=>{const D=A.getProvider("app-compat").getImmediate(),j=A.getProvider("auth");return new Ie(D,j)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.N,FacebookAuthProvider:N.Q,GithubAuthProvider:N.V,GoogleAuthProvider:N.U,OAuthProvider:N.W,SAMLAuthProvider:N.X,PhoneAuthProvider:At,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:Vn,TwitterAuthProvider:N.Y,Auth:Ie,AuthCredential:N.I,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.3.7")}($.Z)},8766:(pt,Te,F)=>{F.d(Te,{Lj:()=>xe,X3:()=>Me});var d=F(5861);const $=(se,Ee)=>Ee.some(Xe=>se instanceof Xe);let N,ee;const _e=new WeakMap,fe=new WeakMap,me=new WeakMap,G=new WeakMap,W=new WeakMap;let ve={get(se,Ee,Xe){if(se instanceof IDBTransaction){if("done"===Ee)return fe.get(se);if("objectStoreNames"===Ee)return se.objectStoreNames||me.get(se);if("store"===Ee)return Xe.objectStoreNames[1]?void 0:Xe.objectStore(Xe.objectStoreNames[0])}return be(se[Ee])},set:(se,Ee,Xe)=>(se[Ee]=Xe,!0),has:(se,Ee)=>se instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in se};function ye(se){return"function"==typeof se?function nt(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...Ee){return se.apply(Ae(this),Ee),be(_e.get(this))}:function(...Ee){return be(se.apply(Ae(this),Ee))}:function(Ee,...Xe){const We=se.call(Ae(this),Ee,...Xe);return me.set(We,Ee.sort?Ee.sort():[Ee]),be(We)}}(se):(se instanceof IDBTransaction&&function Oe(se){if(fe.has(se))return;const Ee=new Promise((Xe,We)=>{const Ct=()=>{se.removeEventListener("complete",tt),se.removeEventListener("error",mn),se.removeEventListener("abort",mn)},tt=()=>{Xe(),Ct()},mn=()=>{We(se.error||new DOMException("AbortError","AbortError")),Ct()};se.addEventListener("complete",tt),se.addEventListener("error",mn),se.addEventListener("abort",mn)});fe.set(se,Ee)}(se),$(se,function de(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,ve):se)}function be(se){if(se instanceof IDBRequest)return function Q(se){const Ee=new Promise((Xe,We)=>{const Ct=()=>{se.removeEventListener("success",tt),se.removeEventListener("error",mn)},tt=()=>{Xe(be(se.result)),Ct()},mn=()=>{We(se.error),Ct()};se.addEventListener("success",tt),se.addEventListener("error",mn)});return Ee.then(Xe=>{Xe instanceof IDBCursor&&_e.set(Xe,se)}).catch(()=>{}),W.set(Ee,se),Ee}(se);if(G.has(se))return G.get(se);const Ee=ye(se);return Ee!==se&&(G.set(se,Ee),W.set(Ee,se)),Ee}const Ae=se=>W.get(se);function Me(se,Ee,{blocked:Xe,upgrade:We,blocking:Ct,terminated:tt}={}){const mn=indexedDB.open(se,Ee),jn=be(mn);return We&&mn.addEventListener("upgradeneeded",Rn=>{We(be(mn.result),Rn.oldVersion,Rn.newVersion,be(mn.transaction))}),Xe&&mn.addEventListener("blocked",()=>Xe()),jn.then(Rn=>{tt&&Rn.addEventListener("close",()=>tt()),Ct&&Rn.addEventListener("versionchange",()=>Ct())}).catch(()=>{}),jn}function xe(se,{blocked:Ee}={}){const Xe=indexedDB.deleteDatabase(se);return Ee&&Xe.addEventListener("blocked",()=>Ee()),be(Xe).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ge=new Map;function J(se,Ee){if(!(se instanceof IDBDatabase)||Ee in se||"string"!=typeof Ee)return;if(Ge.get(Ee))return Ge.get(Ee);const Xe=Ee.replace(/FromIndex$/,""),We=Ee!==Xe,Ct=De.includes(Xe);if(!(Xe in(We?IDBIndex:IDBObjectStore).prototype)||!Ct&&!Re.includes(Xe))return;const tt=function(){var mn=(0,d.Z)(function*(jn,...Rn){const ui=this.transaction(jn,Ct?"readwrite":"readonly");let re=ui.store;return We&&(re=re.index(Rn.shift())),(yield Promise.all([re[Xe](...Rn),Ct&&ui.done]))[0]});return function(Rn){return mn.apply(this,arguments)}}();return Ge.set(Ee,tt),tt}!function Be(se){ve=se(ve)}(se=>({...se,get:(Ee,Xe,We)=>J(Ee,Xe)||se.get(Ee,Xe,We),has:(Ee,Xe)=>!!J(Ee,Xe)||se.has(Ee,Xe)}))},5861:(pt,Te,F)=>{function d(N,ee,de,ae,_e,fe,me){try{var G=N[fe](me),W=G.value}catch(Q){return void de(Q)}G.done?ee(W):Promise.resolve(W).then(ae,_e)}function $(N){return function(){var ee=this,de=arguments;return new Promise(function(ae,_e){var fe=N.apply(ee,de);function me(W){d(fe,ae,_e,me,G,"next",W)}function G(W){d(fe,ae,_e,me,G,"throw",W)}me(void 0)})}}F.d(Te,{Z:()=>$})},7582:(pt,Te,F)=>{function ee(re,oe){var le={};for(var ie in re)Object.prototype.hasOwnProperty.call(re,ie)&&oe.indexOf(ie)<0&&(le[ie]=re[ie]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(ie=Object.getOwnPropertySymbols(re);ze<ie.length;ze++)oe.indexOf(ie[ze])<0&&Object.prototype.propertyIsEnumerable.call(re,ie[ze])&&(le[ie[ze]]=re[ie[ze]])}return le}function Q(re,oe,le,ie){return new(le||(le=Promise))(function(Le,Ze){function je(Ht){try{_t(ie.next(Ht))}catch(zt){Ze(zt)}}function en(Ht){try{_t(ie.throw(Ht))}catch(zt){Ze(zt)}}function _t(Ht){Ht.done?Le(Ht.value):function ze(Le){return Le instanceof le?Le:new le(function(Ze){Ze(Le)})}(Ht.value).then(je,en)}_t((ie=ie.apply(re,oe||[])).next())})}function xe(re){return this instanceof xe?(this.v=re,this):new xe(re)}function Re(re,oe,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,ie=le.apply(re,oe||[]),Le=[];return ze={},Ze("next"),Ze("throw"),Ze("return"),ze[Symbol.asyncIterator]=function(){return this},ze;function Ze(Kt){ie[Kt]&&(ze[Kt]=function(Pn){return new Promise(function(In,vn){Le.push([Kt,Pn,In,vn])>1||je(Kt,Pn)})})}function je(Kt,Pn){try{!function en(Kt){Kt.value instanceof xe?Promise.resolve(Kt.value.v).then(_t,Ht):zt(Le[0][2],Kt)}(ie[Kt](Pn))}catch(In){zt(Le[0][3],In)}}function _t(Kt){je("next",Kt)}function Ht(Kt){je("throw",Kt)}function zt(Kt,Pn){Kt(Pn),Le.shift(),Le.length&&je(Le[0][0],Le[0][1])}}function Ge(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,oe=re[Symbol.asyncIterator];return oe?oe.call(re):(re=function nt(re){var oe="function"==typeof Symbol&&Symbol.iterator,le=oe&&re[oe],ie=0;if(le)return le.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&ie>=re.length&&(re=void 0),{value:re&&re[ie++],done:!re}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),le={},ie("next"),ie("throw"),ie("return"),le[Symbol.asyncIterator]=function(){return this},le);function ie(Le){le[Le]=re[Le]&&function(Ze){return new Promise(function(je,en){!function ze(Le,Ze,je,en){Promise.resolve(en).then(function(_t){Le({value:_t,done:je})},Ze)}(je,en,(Ze=re[Le](Ze)).done,Ze.value)})}}}F.d(Te,{FC:()=>Re,KL:()=>Ge,_T:()=>ee,mG:()=>Q,qq:()=>xe}),"function"==typeof SuppressedError&&SuppressedError}},pt=>{pt(pt.s=6649)}]);